<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://www.googletagmanager.com https://www.google-analytics.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://use.fontawesome.com https://cdn.jsdelivr.net https://unpkg.com; img-src 'self' data: https:; font-src 'self' data: https://cdnjs.cloudflare.com https://use.fontawesome.com https://cdn.jsdelivr.net https://unpkg.com https:; connect-src 'self' https://www.google-analytics.com https://www.googletagmanager.com; media-src 'self'; object-src 'none'; frame-src 'none'; child-src 'none'; worker-src 'none'; manifest-src 'self'; form-action 'self'; base-uri 'self';">
    <meta name="robots" content="index, follow">
    <meta name="googlebot" content="index, follow">
    <meta name="google" content="notranslate">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="cache-control" content="max-age=0, no-cache, no-store, must-revalidate">
    <meta name="expires" content="0">
    <meta http-equiv="X-DNS-Prefetch-Control" content="off">
    <meta http-equiv="X-Download-Options" content="noopen">
    <meta http-equiv="X-Permitted-Cross-Domain-Policies" content="none">
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-18Y92SEHK4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-18Y92SEHK4');
    </script>
    <title>Graphos Services - منصة رقمية احترافية</title>
    <meta name="description" content="Graphos Services منصة رقمية احترافية لخدمات الترجمة، تصميم العروض التقديمية، تصميم الشعارات، وتصميم المواقع بجودة عالية وبأسعار تنافسية.">
    <link rel="icon" type="image/png" href="assets/Gemini_Generated_Image_1vo2ql1vo2ql1vo2.png">
    <link rel="apple-touch-icon" href="assets/Gemini_Generated_Image_1vo2ql1vo2ql1vo2.png">
    <meta property="og:title" content="Graphos Services">
    <meta property="og:site_name" content="Graphos Services">
    <meta property="og:type" content="website">
    <meta property="og:description" content="خدمات ترجمة، عروض تقديمية، شعارات، ومواقع إلكترونية بجودة عالية وبأسعار تنافسية.">
    <meta property="og:image" content="assets/Gemini_Generated_Image_1vo2ql1vo2ql1vo2.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Graphos Services">
    <meta name="twitter:description" content="خدمات ترجمة، عروض تقديمية، شعارات، ومواقع إلكترونية بجودة عالية وبأسعار تنافسية.">
    <meta name="twitter:image" content="assets/Gemini_Generated_Image_1vo2ql1vo2ql1vo2.png">

    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "Organization",
            "name": "Graphos Services",
            "logo": "assets/Gemini_Generated_Image_1vo2ql1vo2ql1vo2.png",
            "image": "assets/Gemini_Generated_Image_1vo2ql1vo2ql1vo2.png",
            "email": "Graphos.svcs@gmail.com",
            "telephone": "+966 53 368 2916",
            "sameAs": [
                "https://www.tiktok.com/@graphos.svcs?_r=1&_t=ZS-91kQTmU6jIK",
                "https://x.com/graphos_scvs?t=6WCmX5_-C-bmJNYtUdSQwQ&s=09",
                "https://www.instagram.com/graphos.svcs?igsh=NXR0cTl1OWM4Nno1"
            ]
        }
    </script>
    <!-- Font Awesome with reliable loading -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <!-- Backup sources -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    
    <!-- Local fallback -->
    <style>
        @font-face {
            font-family: 'Font Awesome 6 Free';
            font-style: normal;
            font-weight: 900;
            font-display: block;
            src: local('Font Awesome 6 Free'), local('FontAwesome6Free');
        }

        /* في وضع الإنجليزية (LTR) نخلي النصوص الإنجليزية تتبع اتجاه LTR بالكامل */
        [dir="ltr"] [data-en] {
            direction: ltr;
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        /* ===== FONT AWESOME ICON SYSTEM ===== */
        
        /* Font Awesome icons */
        .fa, .fas, .far, .fab, .fal {
            display: inline-block;
            font-style: normal;
            font-variant: normal;
            text-rendering: auto;
            line-height: 1;
            min-width: 1em;
            min-height: 1em;
            opacity: 1 !important;
        }
        
        /* Service icons styling */
        .service-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
            text-align: center;
            color: var(--secondary);
            transition: all 0.3s ease;
        }
        
        .service-icon:hover {
            transform: scale(1.1);
            color: var(--primary);
        }
        
        /* Dark mode icon adjustments */
        .dark-mode .service-icon {
            color: var(--secondary);
        }
        
        .dark-mode .service-icon:hover {
            color: var(--light);
        }
        
        /* ===== COMPREHENSIVE CSS RESET AND BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Cairo', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ===== BASIC SCROLLING (بدون تعقيد مع منع الحركة الأفقية) ===== */
        html, body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        /* ===== ENHANCED ROOT VARIABLES WITH DARK MODE FIXES ===== */
        :root {
            /* Primary Colors */
            --primary: #02040f;
            --primary: #0a0a0a;
            --secondary: #d4af37;
            --accent: #f8f9fa;
            --text: #2d3436;
            --light: #ffffff;
            --dark: #1a1a1a;
            
            /* Status Colors */
            --success: #27ae60;
            --warning: #f39c12;
            --error: #e74c3c;
            --info: #3498db;
            
            /* Gradients */
            --gradient: linear-gradient(135deg, #0a0a0a 0%, #2d2d2d 100%);
            --gold-gradient: linear-gradient(135deg, #d4af37 0%, #f9e076 50%, #d4af37 100%);
            --gold-light: rgba(212, 175, 55, 0.1);
            
            /* Effects */
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.15);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --border-radius: 16px;
            --neon-glow: 0 0 10px rgba(212, 175, 55, 0.7), 0 0 20px rgba(212, 175, 55, 0.5), 0 0 30px rgba(212, 175, 55, 0.3);
            
            /* Glass Morphism */
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            
            /* Text Direction */
            --text-direction: rtl;
            --text-align: right;
        }

        /* ===== CRITICAL FIX: DARK MODE TEXT VISIBILITY ===== */
        .dark-mode {
            --primary: #f8f9fa !important;
            --secondary: #d4af37 !important;
            --accent: #1a1a1a !important;
            --text: #e9ecef !important;
            --light: #2d3436 !important;
            --dark: #f8f9fa !important;
            --gradient: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
        }

        .dark-mode .service-card,
        .dark-mode .step-card,
        .dark-mode .testimonial-card,
        .dark-mode .pricing-card,
        .dark-mode .faq-item,
        .dark-mode .admin-content,
        .dark-mode .ai-chatbot,
        .dark-mode .notification,
        .dark-mode .hero,
        .dark-mode .about,
        .dark-mode .portfolio,
        .dark-mode .cta-section,
        .dark-mode footer {
            background: var(--accent) !important;
            color: var(--text) !important;
        }
        .dark-mode footer {
            background: var(--accent) !important;
            color: var(--text) !important;
        }

        /* Dark mode pricing table fixes */
        .dark-mode .pricing-table {
            background: rgba(212, 175, 55, 0.35) !important;
            border: 1px solid rgba(212, 175, 55, 0.5) !important;
        }

        .dark-mode .pricing-table th {
            background: var(--secondary) !important;
            color: var(--primary) !important;
        }

        .dark-mode .pricing-table td {
            color: var(--text) !important;
            border-bottom-color: rgba(212, 175, 55, 0.4) !important;
        }

        .dark-mode .price {
            color: #ffffff !important;
            text-shadow: 0 0 5px rgba(212, 175, 55, 0.8), 0 0 10px rgba(212, 175, 55, 0.4) !important;
            font-weight: 900 !important;
        }

        .dark-mode .original-price {
            color: #ddd !important;
        }

        .dark-mode .service-card h3,
        .dark-mode .step-card h3,
        .dark-mode .testimonial-card h3,
        .dark-mode .pricing-card h3,
        .dark-mode .faq-question,
        .dark-mode .admin-content h2,
        .dark-mode .admin-content h3,
        .dark-mode .admin-content h4,
        .dark-mode .hero h1,
        .dark-mode .hero h2,
        .dark-mode .hero h3 {
            background: linear-gradient(135deg, #ffffff 0%, #f9e076 50%, #ffffff 100%) !important;
            background: var(--gold-gradient) !important;
            background-clip: text !important;
            -webkit-background-clip: text !important;
            -webkit-text-fill-color: transparent !important;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.4), 0 0 30px rgba(212, 175, 55, 0.3) !important;
            font-weight: 800 !important;
        }
        .dark-mode .hero p {
            color: #ffffff !important;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.3), 0 0 20px rgba(212, 175, 55, 0.2) !important;
            opacity: 1 !important;
        }

        .dark-mode .service-card p,
        .dark-mode .step-card p,
        .dark-mode .testimonial-card p,
        .dark-mode .pricing-card p,
        .dark-mode .faq-answer,
        .dark-mode .admin-content p,
        .dark-mode .hero-description,
        .dark-mode .about-text p,
        .dark-mode .mission-card p,
        .dark-mode .vision-card p,
        .dark-mode .stat-label,
        .dark-mode .service-features,
        .dark-mode .feature-item,
        .dark-mode .quick-links a,
        .dark-mode .contact-info p {
            color: #ffffff !important;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.4) !important;
            opacity: 1 !important;
        }

        [dir="rtl"] {
            --text-direction: rtl;
            --text-align: right;
        }

        [dir="ltr"] {
            --text-direction: ltr;
            --text-align: left;
        }

        body {
            background: var(--accent);
            color: var(--text);
            line-height: 1.7;
            overflow-x: hidden;
            font-size: 16px;
            direction: var(--text-direction);
            text-align: var(--text-align);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(212, 175, 55, 0.03) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(212, 175, 55, 0.03) 0%, transparent 20%);
            font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ===== ENHANCED HEADER WITH SCROLL FIX ===== */
        header {
            background: rgba(10, 10, 10, 0.95);
            color: var(--light);
            padding: 1.5rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            backdrop-filter: blur(20px);
            transition: var(--transition);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        .header-scrolled {
            padding: 1rem 0;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(30px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 20px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .logo-container:hover {
            transform: translateY(-2px);
        }

        .logo-img {
            width: 90px;
            height: 70px;
            background: var(--gold-gradient);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: bold;
            border: 3px solid rgba(212, 175, 55, 0.5);
            overflow: hidden;
            box-shadow: var(--neon-glow);
            position: relative;
        }

        /* شعار الهيدر */
        header .logo-img {
            width: 110px;
            height: 70px;
        }

        .header-brand-logo {
            width: 220px;
            height: 70px;
            background: transparent;
            border: none;
            box-shadow: none;
            border-radius: 0;
            overflow: visible;
        }

        .header-brand-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 0;
        }

        /* شعار الفوتر 70x70 */
        footer .logo-img {
            width: 100px;
            height: 70px;
        }

        .footer-brand-logo {
            width: 420px;
            height: 70px;
            background: transparent;
            border: none;
            box-shadow: none;
            border-radius: 0;
            overflow: visible;
        }

        .footer-brand-logo img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 0;
        }

        .hero-brand-logo {
            width: min(520px, 90%);
            height: auto;
            display: block;
            margin: 0 auto;
            filter: drop-shadow(0 18px 45px rgba(0, 0, 0, 0.35));
        }

        @media (max-width: 768px) {
            .footer-brand-logo {
                width: 360px;
                height: 60px;
            }

            .hero-brand-logo {
                width: min(360px, 92%);
            }
        }

        .logo-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        .logo-text {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--gold-gradient);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 3s ease-in-out infinite alternate;
            text-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
            position: relative;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2.5rem;
            align-items: center;
        }

        nav ul li a {
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 600;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            border: 1px solid transparent;
        }

        nav ul li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            transition: var(--transition);
            z-index: -1;
            border-radius: 30px;
        }

        nav ul li a:hover {
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
            border-color: var(--secondary);
        }

        nav ul li a:hover::before {
            left: 0;
        }

        .language-switcher {
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
            padding: 0.8rem 1.8rem;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }

        .language-switcher::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            transition: var(--transition);
            z-index: -1;
        }

        .language-switcher:hover {
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        .language-switcher:hover::before {
            left: 0;
        }

        .dark-mode nav ul li a {
            background: rgba(212, 175, 55, 0.3) !important;
            border: 1px solid rgba(212, 175, 55, 0.5) !important;
            color: #ffffff !important;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.4) !important;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2) !important;
        }

        .dark-mode nav ul li a:hover {
            background: rgba(212, 175, 55, 0.5) !important;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.4) !important;
        }

        .dark-mode .language-switcher {
            background: rgba(212, 175, 55, 0.3) !important;
            border: 2px solid rgba(212, 175, 55, 0.8) !important;
            color: #ffffff !important;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.4) !important;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2) !important;
        }

        .dark-mode .language-switcher:hover {
            background: rgba(212, 175, 55, 0.5) !important;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.4) !important;
        }

        /* ===== ENHANCED HERO SECTION WITH SCROLL FIX ===== */
        .hero {
            background: var(--gradient);
            color: var(--light);
            padding: 180px 0 100px;
            position: relative;
            overflow: hidden;
            min-height: 100vh;
            display: flex;
            align-items: center;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                linear-gradient(45deg, rgba(10, 10, 10, 0.9) 0%, rgba(45, 45, 45, 0.7) 100%);
        }

        [dir="ltr"] .hero {
            padding: 220px 0 100px;
        }

        @media (max-width: 768px) {
            .hero {
                padding: 150px 0 100px;
            }
            [dir="ltr"] .hero {
                padding: 180px 0 100px;
            }
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="rgba(212,175,55,0.05)" points="0,1000 1000,0 1000,1000"/></svg>');
            animation: float 6s ease-in-out infinite;
        }

        .hero-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .hero-text {
            animation: slideInRight 1s ease;
        }

        [dir="ltr"] .hero-text {
            animation: slideInLeft 1s ease;
        }

        .ai-badge {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: var(--gold-gradient);
            color: var(--primary);
            padding: 1rem 2.2rem;
            border-radius: 35px;
            font-weight: 700;
            margin: 1rem 0 2.5rem;
            box-shadow: var(--neon-glow);
            border: 2px solid rgba(255,255,255,0.3);
            position: relative;
        }

        .ai-badge::before {
            display: none;
        }

        .dark-mode .ai-badge {
            background: rgba(212, 175, 55, 0.3) !important;
            border: 1px solid rgba(212, 175, 55, 0.5) !important;
            color: #ffffff !important;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.4) !important;
        }

        .dark-mode .hero-buttons .cta-button {
            background: rgba(212, 175, 55, 0.4) !important;
            border: 2px solid rgba(212, 175, 55, 0.8) !important;
            color: #ffffff !important;
            text-shadow: 0 0 12px rgba(212, 175, 55, 0.6) !important;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.3) !important;
        }

        .dark-mode .hero-buttons .cta-button:hover {
            background: rgba(212, 175, 55, 0.6) !important;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.5), var(--neon-glow);
        }

        .dark-mode .hero-visual .shape {
            color: #ffffff !important;
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.4) !important;
        }

        .hero-title {
            font-size: 4.5rem;
            font-weight: 800;
            margin-bottom: 2rem;
            line-height: 1.1;
            background: linear-gradient(135deg, #ffffff 0%, #f9e076 50%, #ffffff 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 10px 30px rgba(0,0,0,0.5);
            position: relative;
            animation: glow 3s ease-in-out infinite alternate;
        }

        .hero-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 0;
            width: 200px;
            height: 4px;
            background: var(--gold-gradient);
            border-radius: 2px;
            box-shadow: var(--neon-glow);
        }

        [dir="ltr"] .hero-title::after {
            right: auto;
            left: 0;
        }

        .hero-description {
            font-size: 1.6rem;
            line-height: 2;
            font-weight: 600;
            margin-bottom: 3rem;
            opacity: 0.95;
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 1.3rem 2.8rem;
            border-radius: 35px;
            text-decoration: none;
            font-weight: 700;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: var(--transition);
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button.primary {
            background: var(--gold-gradient);
            color: var(--primary);
            box-shadow: var(--neon-glow);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .cta-button.primary:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 25px 60px rgba(212, 175, 55, 0.6), var(--neon-glow);
        }

        .cta-button.secondary {
            background: transparent;
            color: var(--light);
            border: 3px solid var(--secondary);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2);
        }

        .cta-button.secondary:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4), var(--neon-glow);
        }

        .hero-visual {
            position: relative;
            height: 500px;
            animation: slideInLeft 1s ease;
        }

        [dir="ltr"] .hero-visual {
            animation: slideInRight 1s ease;
        }

        .floating-shapes {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .shape {
            position: absolute;
            width: 100px;
            height: 100px;
            background: var(--gold-gradient);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 2.5rem;
            box-shadow: var(--neon-glow);
            animation: float 6s ease-in-out infinite;
            border: 3px solid rgba(255,255,255,0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .shape:hover {
            transform: scale(1.2);
            animation-play-state: paused;
        }

        .shape-1 { top: 10%; left: 5%; animation-delay: 0s; }
        .shape-2 { top: 60%; right: 15%; animation-delay: 1.5s; }
        .shape-3 { bottom: 15%; left: 25%; animation-delay: 3s; }
        .shape-4 { top: 25%; right: 5%; animation-delay: 4.5s; }

        /* ===== ENHANCED SERVICES SECTION ===== */
        .services {
            padding: 120px 0;
            background: var(--accent);
            position: relative;
        }

        .section-header {
            text-align: center;
            margin-bottom: 5rem;
        }

        .section-header h2 {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-weight: 800;
            position: relative;
            display: inline-block;
        }

        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gold-gradient);
            border-radius: 2px;
            box-shadow: var(--neon-glow);
        }

        .section-header p {
            font-size: 1.4rem;
            color: var(--text);
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: 2rem;
        }

        .service-card {
            background: var(--light);
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: var(--shadow-lg);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
            margin: 0;
            max-width: none;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: var(--gold-gradient);
            box-shadow: var(--neon-glow);
        }

        [dir="ltr"] .service-card::before {
            right: auto;
            left: 0;
        }

        .service-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: var(--shadow-lg), 0 20px 40px rgba(212, 175, 55, 0.2);
        }

        .service-icon {
            width: 90px;
            height: 90px;
            background: var(--gold-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 2.2rem;
            box-shadow: var(--neon-glow);
            transition: var(--transition);
            position: relative;
        }

        .service-icon::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: var(--gold-gradient);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.5;
            animation: pulse 2s infinite;
        }

        .service-card:hover .service-icon {
            transform: scale(1.1);
        }

        .service-card h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-weight: 700;
        }

        .service-card p {
            color: var(--text);
            opacity: 0.8;
            margin-bottom: 2rem;
            line-height: 1.7;
            font-size: 1.1rem;
        }

        .service-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 2rem;
            background: var(--gold-light);
            transition: var(--transition);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .service-card:hover .service-image {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .service-features {
            margin-bottom: 2rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .feature-item i {
            color: var(--secondary);
            font-size: 1.2rem;
        }

        .pricing-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: var(--gold-light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .pricing-table th,
        .pricing-table td {
            padding: 1.2rem;
            text-align: center;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            font-size: 1rem;
        }

        [dir="ltr"] .pricing-table th,
        [dir="ltr"] .pricing-table td {
            text-align: center;
        }

        .pricing-table th {
            background: var(--secondary);
            color: var(--primary);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .pricing-table tr:last-child td {
            border-bottom: none;
        }

        .price {
            font-weight: 800;
            color: var(--secondary);
            font-size: 1.2rem;
        }

        .original-price {
            text-decoration: line-through;
            color: #999;
            font-size: 0.9em;
            margin-left: 8px;
            font-weight: 500;
        }

        [dir="ltr"] .original-price {
            margin-left: 0;
            margin-right: 8px;
        }

        /* mobile-friendly pricing table */
        @media (max-width: 480px) {
            .pricing-table thead {
                display: none;
            }

            .pricing-table,
            .pricing-table tbody,
            .pricing-table tr,
            .pricing-table td {
                display: block;
                width: 100%;
            }

            .pricing-table tr {
                margin-bottom: 1rem;
                border-bottom: 1px solid rgba(0,0,0,0.05);
            }

            .pricing-table td {
                text-align: center;
                border-bottom: none;
                padding: 0.4rem 1rem;
                font-size: 0.95rem;
            }

            .pricing-table td:nth-child(1) {
                font-weight: 600;
            }

            .pricing-table td:nth-child(2) .price {
                font-size: 1.1rem;
            }

            .pricing-table td:nth-child(3) {
                margin-top: 0.4rem;
            }
        }

        .service-order-btn {
            background: var(--primary);
            color: var(--light);
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1rem;
            width: 100%;
            justify-content: center;
            position: relative;
            overflow: hidden;
            margin-top: 1rem;
        }

        .service-order-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: var(--transition);
        }

        .service-order-btn:hover::before {
            left: 100%;
        }

        .service-order-btn:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        .service-order-btn.whatsapp {
            background: #25D366;
            color: white;
        }

        .service-order-btn.whatsapp:hover {
            background: #128C7E;
            transform: translateY(-3px);
        }

        .dark-mode .service-order-btn.whatsapp {
            background: #00ff88 !important;
            color: #000000 !important;
            text-shadow: 0 0 12px rgba(0, 255, 136, 0.8) !important;
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.6) !important;
            border: 2px solid rgba(0, 255, 136, 0.8) !important;
        }

        .dark-mode .service-order-btn.whatsapp:hover {
            background: #00cc6a !important;
            transform: translateY(-3px) !important;
            box-shadow: 0 0 35px rgba(0, 255, 136, 0.8) !important;
        }

        .order-label {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--secondary);
            margin-bottom: 0.5rem;
            text-align: center;
        }

        .dark-mode .order-label {
            color: #00ff88;
        }

        .negotiable {
            font-size: 1rem;
            color: var(--text);
            opacity: 0.7;
            font-style: italic;
            display: block;
            margin-top: 1.5rem;
            text-align: center;
            font-weight: 500;
            background: rgba(212, 175, 55, 0.1);
            padding: 1rem;
            border-radius: 10px;
            border: 1px dashed var(--secondary);
        }

        /* ===== ENHANCED ADMIN PANEL WITH SYNC FIX ===== */
        .admin-panel {
            position: fixed;
            top: 0;
            right: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            justify-content: center; /* توسيط اللوحة أفقياً */
            align-items: center;
            z-index: 100000;
            backdrop-filter: blur(20px);
        }

        .admin-panel.active {
            display: flex;
        }

        .admin-content {
            background: var(--light);
            padding: 2rem;
            border-radius: 20px;
            max-width: 90%;
            width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            border: 3px solid var(--secondary);
            margin: 0 auto; /* توسيط الصندوق نفسه */
        }

        .admin-content h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 2rem;
        }

        .admin-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--gold-light);
            padding-bottom: 1rem;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 1rem 2rem;
            background: transparent;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
            color: var(--text);
        }

        .admin-tab.active {
            background: var(--gold-gradient);
            color: var(--primary);
        }

        .admin-section {
            margin-bottom: 2rem;
            display: none;
        }

        .admin-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .admin-section h3 {
            color: var(--secondary);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .admin-input {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            font-family: monospace;
        }

        .admin-textarea {
            width: 100%;
            height: 200px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            font-family: monospace;
            resize: vertical;
        }

        .admin-btn {
            padding: 1rem 2rem;
            background: var(--secondary);
            color: var(--primary);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            transition: var(--transition);
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .admin-btn.danger {
            background: var(--error);
            color: white;
        }

        .admin-btn.success {
            background: var(--success);
            color: white;
        }

        .service-upload {
            margin-bottom: 1.5rem;
            padding: 1rem;
            border: 1px dashed var(--secondary);
            border-radius: 8px;
        }

        .code-editor {
            background: #1e1e1e;
            color: #d4d4d4;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .editor-header {
            background: #2d2d2d;
            padding: 0.5rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-content {
            padding: 1rem;
            font-family: 'Courier New', monospace;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .admin-card {
            background: var(--gold-light);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        /* ===== ENHANCED ABOUT SECTION ===== */
        .about {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
            position: relative;
        }

        .about .section-header h2 {
            font-size: 3.5rem;
            margin-bottom: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #f9e076 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(212, 175, 55, 0.3);
        }

        .about .section-header p {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            color: #ffffff !important;
            opacity: 0.95;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.2);
        }

        .dark-mode .about .section-header h2 {
            background: linear-gradient(135deg, #ffffff 0%, #d4af37 50%, #f9e076 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 25px rgba(212, 175, 55, 0.5);
        }

        .dark-mode .about .section-header p {
            color: #ffffff !important;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.4);
            opacity: 1;
        }

        .mission-vision-container {
            margin-top: 3rem;
        }

        .mission-vision-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            width: 100%;
        }

        .mission-vision {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 3rem;
        }

        .mission-card, .vision-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            border: 1px solid rgba(255,255,255,0.2);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .mission-card::before, .vision-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            opacity: 0;
            transition: var(--transition);
            z-index: -1;
        }

        .mission-card:hover, .vision-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .mission-card:hover::before, .vision-card:hover::before {
            opacity: 0.1;
        }

        .mission-card h3, .vision-card h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .about-visual {
            position: relative;
            height: 500px;
            animation: slideInLeft 1s ease;
        }

        .visual-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid rgba(212, 175, 55, 0.3);
            box-shadow: var(--neon-glow);
        }

        /* ===== ENHANCED HOW IT WORKS SECTION ===== */
        .how-it-works {
            padding: 120px 0;
            background: var(--accent);
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .step-card {
            background: var(--light);
            padding: 3rem 2.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            border: 2px solid transparent;
        }

        .step-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--secondary);
        }

        .step-number {
            width: 70px;
            height: 70px;
            background: var(--gold-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            margin: 0 auto 2rem;
            box-shadow: var(--neon-glow);
            position: relative;
        }

        .step-number::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: var(--gold-gradient);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.5;
            animation: pulse 2s infinite;
        }

        .step-card h3 {
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-weight: 700;
        }

        .step-card p {
            color: var(--text);
            opacity: 0.8;
            line-height: 1.7;
            font-size: 1.1rem;
        }

        /* ===== ENHANCED FAQ SECTION ===== */
        .faq {
            padding: 120px 0;
            background: var(--accent);
        }

        .faq-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--light);
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .faq-item:hover {
            box-shadow: var(--shadow-lg);
        }

        .faq-question {
            padding: 2rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
            background: var(--gold-light);
        }

        .faq-question:hover {
            background: var(--gold-gradient);
            color: var(--primary);
        }

        .faq-answer {
            padding: 0 2rem 2rem;
            color: var(--text);
            opacity: 0.8;
            line-height: 1.7;
            font-size: 1.1rem;
            display: none;
        }

        [dir="ltr"] .faq-answer {
            text-align: left;
            direction: ltr;
        }

        .faq-item.active .faq-answer {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .faq-toggle {
            color: var(--secondary);
            font-size: 1.5rem;
            transition: var(--transition);
        }

        .faq-item.active .faq-toggle {
            transform: rotate(180deg);
        }

        /* ===== ENHANCED CTA SECTION ===== */
        .cta-section {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><circle fill="rgba(212,175,55,0.05)" cx="500" cy="500" r="400"/></svg>');
            animation: rotate 20s linear infinite;
        }

        .cta-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .cta-content h2 {
            font-size: 3.5rem;
            margin-bottom: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #f9e076 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cta-content p {
            font-size: 1.4rem;
            margin-bottom: 3rem;
            opacity: 0.9;
            line-height: 1.7;
        }

        /* WhatsApp CTA button styles inside the Ready to start your project section */
        .cta-section .cta-button.secondary {
            background: #25D366;
            color: #ffffff;
            border-color: #25D366;
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.45);
        }

        .cta-section .cta-button.secondary:hover {
            background: #128C7E;
            border-color: #128C7E;
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 12px 30px rgba(18, 140, 126, 0.55);
        }

        .dark-mode .cta-section .cta-button.secondary {
            background: #00ff88 !important;
            color: #000000 !important;
            border: 2px solid rgba(0, 255, 136, 0.85) !important;
            text-shadow: 0 0 12px rgba(0, 255, 136, 0.85) !important;
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.7) !important;
        }

        .dark-mode .cta-section .cta-button.secondary:hover {
            background: #00cc6a !important;
            border-color: #00cc6a !important;
            transform: translateY(-5px) scale(1.05) !important;
        }

        #privacy-policy, #terms-of-service {
            padding: 4rem 0;
        }

        #audience-section .container,
        #privacy-policy .container,
        #terms-of-service .container {
            max-width: 900px;
        }

        @media (min-width: 1024px) {
            #audience-section .container,
            #privacy-policy .container,
            #terms-of-service .container {
                max-width: 1200px;
            }
        }

        #audience-section h2,
        #privacy-policy h2,
        #terms-of-service h2 {
            font-size: 2.2rem;
            margin-bottom: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #fff8d2 0%, #f9e076 40%, #d4af37 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: none;
        }

        /* نمط مخصص للإنجليزي في وضع النهار: تدرج ذهبي أغمق بدون قرب من الأبيض */
        [dir="ltr"] body:not(.dark-mode) #audience-section h2,
        [dir="ltr"] body:not(.dark-mode) #privacy-policy h2,
        [dir="ltr"] body:not(.dark-mode) #terms-of-service h2 {
            background: linear-gradient(135deg, #f9e076 0%, #d4af37 45%, #b8861b 100%);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: none;
        }

        #audience-section .legal-card,
        #privacy-policy .legal-card,
        #terms-of-service .legal-card {
            font-size: 1.05rem;
            line-height: 2;
            color: #444444;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 18px;
            padding: 1.8rem 2rem;
            box-shadow: 0 18px 45px rgba(0, 0, 0, 0.08);
        }

        .legal-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .legal-list li {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            margin-bottom: 0.9rem;
        }

        .legal-list li i {
            margin-top: 0.25rem;
            color: var(--secondary);
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.6);
        }

        .legal-list li span {
            flex: 1;
        }

        .dark-mode #audience-section,
        .dark-mode #privacy-policy,
        .dark-mode #terms-of-service {
            background: #070b10 !important;
        }

        .dark-mode #audience-section .legal-card,
        .dark-mode #privacy-policy .legal-card,
        .dark-mode #terms-of-service .legal-card {
            background: rgba(15, 23, 42, 0.95);
            color: #f8fafc;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.25);
            border: 1px solid rgba(212, 175, 55, 0.35);
        }

        .dark-mode #audience-section h2,
        .dark-mode #privacy-policy h2,
        .dark-mode #terms-of-service h2 {
            text-shadow: 0 0 20px rgba(249, 224, 118, 0.65);
        }

        /* ===== ENHANCED FOOTER ===== */
        footer {
            background: var(--gradient);
            color: var(--light);
            padding: 5rem 0 2rem;
            position: relative;
        }

        /* امتداد نفس أنيميشن الخلفية من قسم CTA إلى الفوتر */
        footer::before {
            content: '';
            position: absolute;
            top: -80px;
            left: 0;
            width: 100%;
            height: calc(100% + 80px);
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><circle fill="rgba(212,175,55,0.05)" cx="500" cy="500" r="400"/></svg>');
            animation: rotate 20s linear infinite;
            opacity: 0.9;
            pointer-events: none;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .footer-section h3 {
            margin-bottom: 2rem;
            position: relative;
            display: inline-block;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .footer-section h3::after {
            content: '';
            display: block;
            width: 50px;
            height: 4px;
            background: var(--secondary);
            margin-top: 0.8rem;
            border-radius: 2px;
            box-shadow: var(--neon-glow);
        }

        .contact-info p {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .quick-links {
            list-style: none;
        }

        .quick-links li {
            margin-bottom: 1.2rem;
        }

        .quick-links a {
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
            opacity: 0.9;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quick-links a:hover {
            opacity: 1;
            color: var(--secondary);
            transform: translateX(10px);
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            color: var(--light);
            transition: var(--transition);
            font-size: 1.3rem;
            position: relative;
            overflow: hidden;
        }

        .social-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            transition: var(--transition);
            z-index: -1;
        }

        .social-links a:hover {
            color: var(--primary);
            transform: translateY(-5px) scale(1.1);
            box-shadow: var(--neon-glow);
        }

        .social-links a:hover::before {
            left: 0;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 3rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .footer-bottom p {
            margin-bottom: 0;
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }

        /* Social Media Fixed Position */
        .social-media-fixed {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 1000;
        }

        .social-media-fixed .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.1);
        }

        .social-media-fixed .social-btn:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .social-media-fixed .social-btn.tiktok {
            background: linear-gradient(135deg, #000000, #ff0050);
            color: white;
        }

        .social-media-fixed .social-btn.x-twitter {
            background: linear-gradient(135deg, #1da1f2, #14171a);
            color: white;
        }

        .social-media-fixed .social-btn.instagram {
            background: linear-gradient(135deg, #5851db, #c13584, #e1306c, #fd1d1d);
            color: white;
        }

        /* Dark mode support */
        [data-theme="dark"] .social-media-fixed .social-btn {
            border-color: rgba(255,255,255,0.2);
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .social-media-fixed {
                bottom: 15px;
                left: 15px;
                gap: 10px;
            }
            
            .social-media-fixed .social-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
        }

        /* Social Media Buttons */
        .social-media-buttons {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            justify-content: center;
        }

        .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 1.3rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .social-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .social-btn:hover::before {
            transform: translateX(100%);
        }

        .social-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .social-btn.tiktok {
            background: linear-gradient(45deg, #000000, #FF0050, #00F2EA);
            color: white;
        }

        .social-btn.x-twitter {
            background: linear-gradient(45deg, #000000, #1DA1F2);
            color: white;
        }

        .social-btn.instagram {
            background: linear-gradient(45deg, #833AB4, #FD1D1D, #F77737, #FCAF45, #E1306C, #C13584);
            color: white;
        }

        .social-btn i {
            z-index: 1;
            position: relative;
        }

        /* Dark mode adjustments */
        .dark-mode .social-btn {
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
        }

        .dark-mode .social-btn:hover {
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .social-media-buttons {
                gap: 1rem;
            }
            
            .social-btn {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }
        }

        /* ===== ENHANCED AI ASSISTANT ===== */
        .ai-assistant {
            position: fixed;
            bottom: 40px;
            left: 40px;
            z-index: 1000;
        }

        [dir="ltr"] .ai-assistant {
            left: auto;
            right: 40px;
        }

        .ai-chatbot {
            position: fixed;
            bottom: 120px;
            left: 40px;
            width: 360px;
            max-height: 80vh;
            display: none;
            flex-direction: column;
            background: #ffffff;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }

        .ai-chatbot.active {
            display: flex;
        }

        [dir="ltr"] .ai-chatbot {
            left: auto;
            right: 40px;
        }

        .ai-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.5rem;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
            border: none;
            animation: pulseEnhanced 2s infinite;
        }

        .dark-mode .ai-toggle {
            background: rgba(212, 175, 55, 0.5) !important;
            border: 2px solid rgba(212, 175, 55, 0.8) !important;
            color: #ffffff !important;
            text-shadow: 0 0 15px rgba(212, 175, 55, 0.6) !important;
            box-shadow: 0 0 25px rgba(212, 175, 55, 0.4) !important;
        }

        .dark-mode .ai-toggle:hover {
            background: rgba(212, 175, 55, 0.7) !important;
            transform: scale(1.1) !important;
            box-shadow: 0 0 35px rgba(212, 175, 55, 0.6) !important;
        }

        .ai-pulse {
            /* إلغاء الدائرة / اللمعة خلف زر البوت */
            display: none;
        }

        .chat-header {
            background: var(--gradient);
            color: var(--light);
            padding: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        /* Chatbot layout: messages scrollable, actions fixed */
        .chat-messages {
            padding: 1rem 1.2rem;
            background: #fafafa;
            max-height: 520px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .quick-actions {
            padding: 0.8rem 1.2rem 0.5rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            background: #ffffff;
            position: relative;
            z-index: 2;
        }

        .chat-input-container {
            position: relative;
            z-index: 3;
        }

        .chat-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-title h3 {
            margin: 0;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .status.online::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px var(--success);
        }

        .chat-actions {
            display: flex;
            gap: 8px;
        }

        .chat-btn {
            background: linear-gradient(135deg, rgba(255,255,255,0.05), rgba(212,175,55,0.10));
            border: 1px solid rgba(255,255,255,0.2);
            color: var(--light);
            cursor: pointer;
            padding: 5px 7px;
            border-radius: 999px;
            transition: var(--transition);
            font-size: 0.85rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.20);
        }

        .dark-mode .chat-btn {
            background: rgba(212, 175, 55, 0.3) !important;
            border: 1px solid rgba(212, 175, 55, 0.5) !important;
            color: #ffffff !important;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.4) !important;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2) !important;
        }

        .dark-mode .chat-btn:hover {
            background: rgba(212, 175, 55, 0.5) !important;
            transform: scale(1.1) !important;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.4) !important;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 420px;
            background: #fafafa;
        }

        .dark-mode .chat-messages {
            background: #2d3436 !important;
        }

        .message {
            display: flex;
            gap: 10px;
            animation: messageSlide 0.4s ease;
        }

        .message.bot-message {
            align-self: flex-start;
        }

        .message.user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            flex-shrink: 0;
            font-size: 1rem;
            box-shadow: var(--neon-glow);
        }

.message-content {
    max-width: 75%;
}

.message-text {
    padding: 12px 16px;
    border-radius: 18px;
    background: var(--gold-light);
    line-height: 1.6;
    font-size: 0.9rem;
    box-shadow: 0 5px 15px rgba(0,0,0,0.05);
}

.user-message .message-text {
    background: var(--gradient);
    color: var(--light);
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}

/* Dark mode chat enhancements */
.dark-mode .message-text {
            background: rgba(212, 175, 55, 0.4) !important;
            color: #ffffff !important;
            text-shadow: 0 0 12px rgba(212, 175, 55, 0.6) !important;
            border: 1px solid rgba(212, 175, 55, 0.3) !important;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2) !important;
        }

        .dark-mode .user-message .message-text {
            background: rgba(255, 255, 255, 0.2) !important;
            color: #ffffff !important;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.4) !important;
            border: 1px solid rgba(255, 255, 255, 0.3) !important;
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.1) !important;
        }

.message-time {
    font-size: 0.7rem;
    color: #666;
    margin-top: 6px;
    text-align: center;
}

        .typing-indicator {
            display: inline-flex;
            gap: 5px;
            padding: 12px 16px;
            align-items: center;
            background: var(--gold-light);
            border-radius: 18px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--secondary);
            border-radius: 50%;
            animation: bounce 1.4s infinite;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        .typing-dot:nth-child(3) { animation-delay: 0s; }

        .chat-input-container {
            padding: 1.2rem;
            border-top: 1px solid #eee;
            background: var(--light);
        }

        .dark-mode .chat-input-container {
            background: #1a1a1a !important;
            border-color: #333;
        }

        .chat-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #eee;
            border-radius: 20px;
            outline: none;
            transition: var(--transition);
            font-size: 0.9rem;
            background: #fafafa;
        }

        .dark-mode .chat-input input {
            background: #2d3436;
            border-color: #444;
            color: #e9ecef;
        }

        .chat-input input:focus {
            border-color: var(--secondary);
            background: var(--light);
            box-shadow: 0 0 0 3px var(--gold-light);
        }

        .voice-btn {
            display: none;
        }

        .voice-btn:hover {
            background: var(--gold-light);
            transform: scale(1.1);
        }

        .voice-btn.listening {
            color: var(--error);
            animation: pulse 1s infinite;
        }

        .send-button {
            background: var(--secondary);
            color: var(--primary);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .send-button:hover {
            background: var(--primary);
            color: var(--secondary);
            transform: scale(1.1);
        }

        .quick-actions {
            padding: 0.6rem 0.8rem;
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
            border-top: 1px solid #eee;
            background: #fafafa;
        }

        .dark-mode .quick-actions {
            background: #2d3436 !important;
            border-color: #333;
        }

        .quick-btn {
            background: radial-gradient(circle at top left, rgba(255,255,255,0.28), var(--gold-light));
            border: 1px solid rgba(212,175,55,0.6);
            color: var(--primary);
            padding: 4px 8px;
            border-radius: 999px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.75rem;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        /* WhatsApp quick button inside chatbot */
        .quick-btn.whatsapp-quick {
            background: #25D366;
            border-color: #25D366;
            color: #ffffff;
            box-shadow: 0 6px 20px rgba(37, 211, 102, 0.45);
        }

        .quick-btn.whatsapp-quick:hover {
            background: #128C7E;
            border-color: #128C7E;
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 8px 22px rgba(18, 140, 126, 0.6);
        }

        .dark-mode .quick-btn.whatsapp-quick {
            background: #00ff88 !important;
            border-color: #00ff88 !important;
            color: #000000 !important;
            text-shadow: 0 0 10px rgba(0, 255, 136, 0.9) !important;
            box-shadow: 0 0 22px rgba(0, 255, 136, 0.7) !important;
        }

        .dark-mode .quick-btn.whatsapp-quick:hover {
            background: #00cc6a !important;
            border-color: #00cc6a !important;
            transform: translateY(-3px) scale(1.05) !important;
        }

        .dark-mode .quick-btn {
            background: rgba(212, 175, 55, 0.3) !important;
            border: 1px solid rgba(212, 175, 55, 0.5) !important;
            color: #ffffff !important;
            text-shadow: 0 0 8px rgba(212, 175, 55, 0.4) !important;
            box-shadow: 0 0 15px rgba(212, 175, 55, 0.2) !important;
        }

        .dark-mode .quick-btn:hover {
            background: rgba(212, 175, 55, 0.5) !important;
            transform: translateY(-3px) !important;
            box-shadow: 0 0 20px rgba(212, 175, 55, 0.4) !important;
        }

        .quick-btn:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .chat-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 1rem;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }

        .dark-mode .chat-suggestions {
            background: #2d3436 !important;
            border-color: #333;
        }

        .suggestion-chip {
            background: var(--gold-light);
            border: 1px solid var(--secondary);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 16px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.8rem;
            font-weight: 600;
        }

        .suggestion-chip:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        /* ===== ENHANCED NOTIFICATION SYSTEM ===== */
        .notification-system {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        [dir="ltr"] .notification-system {
            right: auto;
            left: 20px;
        }

        .notification {
            background: var(--light);
            padding: 1.2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            border-right: 5px solid var(--secondary);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            animation: slideInRight 0.5s ease;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        [dir="ltr"] .notification {
            border-right: none;
            border-left: 5px solid var(--secondary);
            animation: slideInLeft 0.5s ease;
        }

        .notification.success { border-right-color: var(--success); }
        .notification.error { border-right-color: var(--error); }
        .notification.warning { border-right-color: var(--warning); }
        .notification.info { border-right-color: #3498db; }

        [dir="ltr"] .notification.success { border-left-color: var(--success); }
        [dir="ltr"] .notification.error { border-left-color: var(--error); }
        [dir="ltr"] .notification.warning { border-left-color: var(--warning); }
        [dir="ltr"] .notification.info { border-left-color: #3498db; }

        /* ===== ENHANCED ANIMATIONS ===== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translate3d(0,0,0);
            }
            40%, 43% {
                transform: translate3d(0,-20px,0);
            }
            70% {
                transform: translate3d(0,-10px,0);
            }
            90% {
                transform: translate3d(0,-5px,0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes pulseEnhanced {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 15px rgba(212, 175, 55, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
            }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(0deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
        }

        @keyframes glow {
            0% { 
                text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            }
            100% { 
                text-shadow: 0 0 20px rgba(212, 175, 55, 0.8),
                             0 0 40px rgba(212, 175, 55, 0.6);
            }
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes slideUpEnhanced {
            from {
                opacity: 0;
                transform: translateY(100px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes floatParticle {
            0%, 100% {
                transform: translateY(0);
                opacity: 1;
            }
            25% {
                transform: translateY(-50px);
                opacity: 0.7;
            }
            50% {
                transform: translateY(-100px);
                opacity: 0.4;
            }
            75% {
                transform: translateY(-50px);
                opacity: 0.7;
            }
        }

        /* ===== ENHANCED RESPONSIVE DESIGN ===== */
        @media (max-width: 1200px) {
            .hero-title {
                font-size: 3.5rem;
            }
            
            .section-header h2 {
                font-size: 3rem;
            }
            
            .services-grid {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        @media (max-width: 768px) {
            header {
                position: static !important;
            }
            
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 2rem;
            }
            
            .hero-title {
                font-size: 2.2rem;
                line-height: 1.3;
                font-weight: 700;
            }

            .hero-description {
                font-size: 1.3rem;
                line-height: 1.9;
                max-width: 34ch;
                margin-inline: auto;
            }

            .hero-text p {
                font-size: 1rem;
                line-height: 1.7;
            }
            
            .hero-visual {
                order: -1;
                height: 260px;
            }
            
            .nav-container {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            nav ul {
                flex-direction: column;
                gap: 1rem;
            }
            
            .ai-chatbot {
                width: 100%;
                max-width: 100%;
                left: 50%;
                transform: translateX(-50%);
                bottom: 0;
                border-radius: 20px 20px 0 0;
                max-height: 85vh;
            }
            
            [dir="ltr"] .ai-chatbot {
                left: 50%;
                right: auto;
                transform: translateX(-50%);
            }
            
            .mission-vision {
                grid-template-columns: 1fr;
            }

            .about-content {
                grid-template-columns: 1fr;
                gap: 2.5rem;
            }

            .mission-vision-grid {
                grid-template-columns: 1fr;
            }

            .mission-card,
            .vision-card {
                max-width: 100%;
                margin: 0 auto 1.5rem;
                padding: 1.75rem 1.4rem;
                background: rgba(0,0,0,0.35);
            }

            .mission-card p,
            .vision-card p {
                font-size: 1rem;
                line-height: 1.9;
                text-align: center;
            }

            /* Mobile typography tuning for sections */
            .section-header h2 {
                font-size: 2.1rem;
                line-height: 1.3;
            }

            .section-header p {
                font-size: 1rem;
                line-height: 1.6;
            }

            .cta-content h2 {
                font-size: 2.2rem;
                line-height: 1.3;
            }

            .cta-content p {
                font-size: 1.05rem;
                line-height: 1.6;
            }

            .admin-content {
                width: 95%;
                padding: 1rem;
            }
            
            .admin-tabs {
                flex-direction: column;
            }
            
            .container {
                width: 100% !important;
                max-width: 100% !important;
            }
        }

        @media (max-width: 480px) {
            header {
                position: static !important;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .ai-chatbot {
                width: 100%;
                max-width: 320px;
                left: 50%;
                transform: translateX(-50%);
            }
            
            [dir="ltr"] .ai-chatbot {
                left: 50%;
                right: auto;
                transform: translateX(-50%);
            }
            
            .cta-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            body > * {
                max-width: 100% !important;
            }
        }

        /* ===== ENHANCED PORTFOLIO SECTION ===== */
        .portfolio {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-top: 3rem;
        }

        @media (max-width: 1100px) {
            .portfolio-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 700px) {
            .portfolio-grid {
                grid-template-columns: 1fr;
            }
        }

        .portfolio-item {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .portfolio-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .portfolio-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .portfolio-media {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }

        .portfolio-content {
            padding: 1.5rem;
        }

        .portfolio-gallery {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            padding: 12px;
        }

        .portfolio-gallery figure {
            margin: 0;
        }

        .portfolio-gallery img {
            width: 100%;
            height: 90px;
            object-fit: cover;
            border-radius: 10px;
            display: block;
        }

        .portfolio-gallery figcaption {
            margin-top: 6px;
            font-size: 0.85rem;
            opacity: 0.9;
            text-align: center;
        }

        .lightbox {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.85);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 99999;
            padding: 24px;
        }

        .lightbox.active {
            display: flex;
        }

        .lightbox-content {
            width: min(920px, 95vw);
            max-height: 90vh;
            position: relative;
        }

        .lightbox-image {
            width: 100%;
            height: auto;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
            display: block;
        }

        .lightbox-close {
            position: absolute;
            top: -14px;
            right: -14px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            border: 1px solid rgba(255, 255, 255, 0.25);
            background: rgba(0, 0, 0, 0.55);
            color: #ffffff;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .lightbox-close:hover {
            transform: scale(1.06);
            background: rgba(212, 175, 55, 0.35);
            border-color: rgba(212, 175, 55, 0.8);
            box-shadow: 0 0 22px rgba(212, 175, 55, 0.45);
        }

        .portfolio-download {
            margin-top: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 14px;
            border-radius: 12px;
            text-decoration: none;
            font-weight: 700;
            background: rgba(255,255,255,0.15);
            border: 1px solid rgba(255,255,255,0.25);
            color: #ffffff;
            transition: var(--transition);
        }

        .portfolio-download:hover {
            transform: translateY(-2px);
            background: rgba(255,255,255,0.22);
        }

        .dark-mode .portfolio-download {
            background: rgba(212, 175, 55, 0.35) !important;
            border: 2px solid rgba(212, 175, 55, 0.8) !important;
            color: #ffffff !important;
            text-shadow: 0 0 12px rgba(212, 175, 55, 0.65) !important;
            box-shadow: 0 0 22px rgba(212, 175, 55, 0.45) !important;
        }

        .dark-mode .portfolio-download:hover {
            background: rgba(212, 175, 55, 0.45) !important;
            box-shadow: 0 0 35px rgba(212, 175, 55, 0.7) !important;
            transform: translateY(-3px) !important;
        }

        .portfolio-content h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
        }

        .portfolio-content p {
            line-height: 1.6;
        }

        body:not(.dark-mode) .portfolio-content h3,
        body:not(.dark-mode) .portfolio-content p {
            color: #ffffff;
            opacity: 0.9;
        }

        .dark-mode .portfolio-content h3,
        .dark-mode .portfolio-content p {
            color: var(--secondary) !important;
            opacity: 1;
        }

        /* Portfolio section header colors: white in day, gold in night */
        #portfolio .section-header h2,
        #portfolio .section-header p {
            color: #ffffff;
        }

        .dark-mode #portfolio .section-header h2,
        .dark-mode #portfolio .section-header p {
            color: var(--secondary) !important;
        }

        .dark-mode #portfolio .section-header h2,
        .dark-mode #portfolio .section-header p,
        .dark-mode .portfolio-content h3,
        .dark-mode .portfolio-content p,
        .dark-mode .portfolio-gallery figcaption {
            text-shadow: 0 0 10px rgba(212, 175, 55, 0.55), 0 0 22px rgba(212, 175, 55, 0.35) !important;
        }

        /* ===== ENHANCED TESTIMONIALS SECTION ===== */
        .testimonials {
            padding: 120px 0;
            background: var(--accent);
        }

        .testimonials-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testimonial-card {
            background: var(--light);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .testimonial-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .testimonial-content {
            font-style: italic;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
        }

        .author-info h4 {
            margin-bottom: 0.3rem;
            color: var(--primary);
        }

        .author-info p {
            color: var(--text);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* ===== ENHANCED BLOG SECTION ===== */
        .blog {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .blog-card {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .blog-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .blog-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .blog-content {
            padding: 1.5rem;
        }

        .blog-date {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 0.5rem;
        }

        .blog-content h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--secondary);
        }

        .blog-excerpt {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .read-more {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .read-more:hover {
            gap: 1rem;
        }

        /* ===== ENHANCED TEAM SECTION ===== */
        .team {
            padding: 120px 0;
            background: var(--accent);
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .team-member {
            text-align: center;
            background: var(--light);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .team-member:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .member-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--gold-gradient);
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 2.5rem;
            font-weight: bold;
            box-shadow: var(--neon-glow);
        }

        .member-info h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .member-role {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .member-bio {
            color: var(--text);
            opacity: 0.8;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .member-social {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .member-social a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--gold-light);
            border-radius: 50%;
            color: var(--primary);
            transition: var(--transition);
        }

        .member-social a:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }

        /* ===== ENHANCED CONTACT SECTION ===== */
        .contact {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-top: 3rem;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            background: var(--gold-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.2rem;
        }

        .contact-form {
            background: rgba(255,255,255,0.1);
            padding: 2rem;
            border-radius: var(--border-radius);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            color: var(--light);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.3);
        }

        .form-group textarea {
            height: 150px;
            resize: vertical;
        }

        .submit-btn {
            background: var(--gold-gradient);
            color: var(--primary);
            border: none;
            padding: 1rem 2rem;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        /* ===== ENHANCED FEATURES ===== */
        .progress-bar {
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--gold-gradient);
            border-radius: 4px;
            transition: width 1s ease-in-out;
        }

        .counter {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gold-gradient);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .timeline {
            position: relative;
            max-width: 800px;
            margin: 3rem auto;
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 2px;
            background: var(--secondary);
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 3rem;
            width: 50%;
        }

        .timeline-item:nth-child(odd) {
            left: 0;
            padding-right: 3rem;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
            padding-left: 3rem;
        }

        .timeline-content {
            background: var(--light);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 20px;
            width: 20px;
            height: 20px;
            background: var(--secondary);
            border-radius: 50%;
        }

        .timeline-item:nth-child(odd) .timeline-content::before {
            right: -40px;
        }

        .timeline-item:nth-child(even) .timeline-content::before {
            left: -40px;
        }

        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .pricing-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .pricing-card.popular {
            border: 2px solid var(--secondary);
            transform: scale(1.05);
        }

        .pricing-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .pricing-card.popular:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .pricing-header {
            margin-bottom: 2rem;
        }

        .pricing-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .pricing-price {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gold-gradient);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .pricing-period {
            color: var(--text);
            opacity: 0.7;
        }

        .pricing-features {
            margin-bottom: 2rem;
        }

        .pricing-feature {
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .pricing-feature:last-child {
            border-bottom: none;
        }

        .pricing-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--secondary);
            color: var(--primary);
            padding: 0.5rem 3rem;
            transform: rotate(45deg);
            font-weight: 700;
            font-size: 0.8rem;
        }

        /* ===== ENHANCED ANIMATIONS ===== */
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes flipInX {
            from {
                opacity: 0;
                transform: perspective(400px) rotateX(90deg);
            }
            to {
                opacity: 1;
                transform: perspective(400px) rotateX(0);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* ===== ENHANCED THEME TOGGLE ===== */
        .theme-toggle {
            position: fixed;
            bottom: 40px;
            right: 40px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            cursor: pointer;
            box-shadow: var(--neon-glow);
            transition: var(--transition);
            border: none;
        }

        [dir="ltr"] .theme-toggle {
            right: auto;
            left: 40px;
        }

        .theme-toggle:hover {
            transform: scale(1.1);
        }

        /* ===== ENHANCED ACCESSIBILITY ===== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .focus-visible {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        /* ===== ENHANCED PRINT STYLES ===== */
        @media print {
            .ai-assistant,
            .theme-toggle,
            .admin-panel,
            .notification-system {
                display: none !important;
            }
        }

        /* ===== ENHANCED PERFORMANCE OPTIMIZATIONS ===== */
        .will-change {
            will-change: transform, opacity;
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

            /* ===== ENHANCED THEME TOGGLE ===== */
            .theme-toggle {
                position: fixed;
                bottom: 40px;
                right: 40px;
                z-index: 1000;
                width: 50px;
                height: 50px;
                border-radius: 50%;
                background: var(--gold-gradient);
                display: flex;
                align-items: center;
                justify-content: center;
                color: var(--primary);
                cursor: pointer;
                box-shadow: var(--neon-glow);
                transition: var(--transition);
                border: none;
            }

            [dir="ltr"] .theme-toggle {
                right: auto;
                left: 40px;
            }

            .theme-toggle:hover {
                transform: scale(1.1);
            }

            /* ===== ENHANCED ACCESSIBILITY ===== */
            .sr-only {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border: 0;
            }

            .focus-visible {
                outline: 2px solid var(--secondary);
                outline-offset: 2px;
            }

            /* ===== ENHANCED PRINT STYLES ===== */
            @media print {
                .ai-assistant,
                .theme-toggle,
                .admin-panel,
                .notification-system {
                    display: none !important;
                }
            }

            /* ===== ENHANCED PERFORMANCE OPTIMIZATIONS ===== */
            .will-change {
                will-change: transform, opacity;
            }

            /* ===== ENHANCED ACCESSIBILITY ===== */
            .visually-hidden {
                position: absolute;
                width: 1px;
                height: 1px;
                padding: 0;
                margin: -1px;
                overflow: hidden;
                clip: rect(0, 0, 0, 0);
                white-space: nowrap;
                border: 0;
            }
        
    </style>
</head>
<body>

    <!-- Header -->
    <header id="mainHeader">
        <div class="nav-container">
            <div class="logo-container" id="logoContainer">
                <div class="logo-img header-brand-logo" id="logoPlaceholder">
                    <img
                        src="assets/Gemini_Generated_Image_1vo2ql1vo2ql1vo2.png"
                        alt="Graphos Services Logo"
                        onerror="this.onerror=null;this.src='assets/logo-graphos.svg';"
                    >
                </div>
            </div>
            <nav>
                <ul>
                    <li><a href="#home"><i class="fas fa-home"></i> <span data-ar="الرئيسية" data-en="Home">الرئيسية</span></a></li>
                    <li><a href="#services"><i class="fas fa-concierge-bell"></i> <span data-ar="الخدمات" data-en="Services">الخدمات</span></a></li>
                    <li><a href="#portfolio"><i class="fas fa-briefcase"></i> <span data-ar="معرض الأعمال" data-en="Portfolio">معرض الأعمال</span></a></li>
                    <li><a href="#about"><i class="fas fa-info-circle"></i> <span data-ar="من نحن" data-en="About">من نحن</span></a></li>
                    <li><a href="#audience-section"><i class="fas fa-users"></i> <span data-ar="لمن هذه المنصة؟" data-en="Who is this for?">لمن هذه المنصة؟</span></a></li>
                    <li><a href="#how-it-works"><i class="fas fa-play-circle"></i> <span data-ar="كيف نعمل" data-en="How It Works">كيف نعمل</span></a></li>
                    <li><a href="#faq"><i class="fas fa-question-circle"></i> <span data-ar="الأسئلة" data-en="FAQ">الأسئلة</span></a></li>
                    <li><button class="language-switcher" id="languageSwitcher">
                        <i class="fas fa-globe"></i> <span data-ar="English" data-en="العربية">English</span>
                    </button></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-text">
                <h1 class="hero-title" data-ar="منصتك الرقمية الاحترافية" data-en="Your Professional Digital Platform">منصتك الرقمية الاحترافية</h1>
                <p class="hero-subtitle" data-ar="حلول إبداعية متكاملة بالذكاء الاصطناعي" data-en="Integrated Creative Solutions with AI">حلول إبداعية متكاملة بالذكاء الاصطناعي</p>
                <p class="hero-description" data-ar="مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية." data-en="Welcome to Graphos Services - your comprehensive platform for turning ideas into reality. We provide integrated design and creative solutions using the latest AI technologies. Logos, presentations, and websites with exceptional quality.">
                    مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية.
                </p>
                <div class="hero-buttons">
                    <a href="#services" class="cta-button primary">
                        <i class="fas fa-rocket"></i> <span data-ar="ابدأ مشروعك الآن" data-en="Start Your Project Now">ابدأ مشروعك الآن</span>
                    </a>
                    <button class="cta-button secondary" id="heroAiButton">
                        <i class="fas fa-robot"></i> <span data-ar="جرب المساعد الذكي" data-en="Try AI Assistant">جرب المساعد الذكي</span>
                    </button>
                </div>
            </div>
            <div class="hero-visual">
                <div class="floating-shapes">
                    <div class="shape shape-1"><i class="fas fa-palette"></i></div>
                    <div class="shape shape-2"><i class="fas fa-language"></i></div>
                    <div class="shape shape-3"><i class="fas fa-desktop"></i></div>
                    <div class="shape shape-4"><i class="fas fa-code"></i></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="خدماتنا المتكاملة" data-en="Our Integrated Services">خدماتنا المتكاملة</h2>
                <p data-ar="نقدم مجموعة شاملة من خدمات التصميم والتطوير بأسعار تنافسية وجودة استثنائية" data-en="We provide a comprehensive range of design and development services at competitive prices with exceptional quality">
                    نقدم مجموعة شاملة من خدمات التصميم والتطوير بأسعار تنافسية وجودة استثنائية
                </p>
            </div>
            <div class="services-grid" id="servicesGrid">
                <!-- Services will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section class="portfolio" id="portfolio">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="معرض الأعمال" data-en="Portfolio">معرض الأعمال</h2>
                <p data-ar="أمثلة مختارة من أعمالنا (ترجمة، عرض تقديمي، ولوجوهات)." data-en="Selected samples of our work (translation, presentations, and logos).">
                    أمثلة مختارة من أعمالنا (ترجمة، عرض تقديمي، ولوجوهات).
                </p>
            </div>
            <div class="portfolio-grid" id="portfolioGrid">
                <!-- Portfolio will be loaded dynamically -->
            </div>
        </div>
    </section>

    <div class="lightbox" id="imageLightbox" aria-hidden="true">
        <div class="lightbox-content" role="dialog" aria-modal="true">
            <button class="lightbox-close" id="lightboxClose" aria-label="Close">
                <i class="fas fa-times"></i>
            </button>
            <img class="lightbox-image" id="lightboxImage" alt="">
        </div>
    </div>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="منصة إبداعية رائدة" data-en="Creative Leading Platform">منصة إبداعية رائدة</h2>
                <p data-ar="Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة." data-en="Graphos Services is not just an ordinary platform, but your creative companion in the journey of turning ideas into reality. We believe that every idea deserves to see the light, and every project deserves to appear in the best form.">
                    Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة.
                </p>
                <p data-ar="مع فريق من المحترفين وأحدث تقنيات الذكاء الاصطناعي، نضمن لك تجربة سلسة ونتائج مبهرة تتجاوز توقعاتك. جودة، سرعة، وإبداع في كل خدمة نقدمها." data-en="With a team of professionals and the latest AI technologies, we guarantee you a smooth experience and amazing results that exceed your expectations. Quality, speed, and creativity in every service we provide.">
                    مع فريق من المحترفين وأحدث تقنيات الذكاء الاصطناعي، نضمن لك تجربة سلسة ونتائج مبهرة تتجاوز توقعاتك. جودة، سرعة، وإبداع في كل خدمة نقدمها.
                </p>
            </div>
            <div class="mission-vision-container">
                <div class="mission-vision-grid">
                    <div class="mission-card">
                        <h3><i class="fas fa-bullseye"></i> <span data-ar="مهمتنا" data-en="Our Mission">مهمتنا</span></h3>
                        <p data-ar="تمكين الأفراد والشركات من تحقيق رؤاهم الإبداعية عبر حلول رقمية مبتكرة تجمع بين الجودة والسرعة." data-en="Empowering individuals and businesses to achieve their creative visions through innovative digital solutions that combine quality and speed.">
                            تمكين الأفراد والشركات من تحقيق رؤاهم الإبداعية عبر حلول رقمية مبتكرة تجمع بين الجودة والسرعة.
                        </p>
                    </div>
                    <div class="vision-card">
                        <h3><i class="fas fa-eye"></i> <span data-ar="رؤيتنا" data-en="Our Vision">رؤيتنا</span></h3>
                        <p data-ar="الريادة في تقديم الحلول الرقمية المتكاملة التي تلهم الإبداع وتدفع عجلة الابتكار في العالم العربي." data-en="Leading in providing integrated digital solutions that inspire creativity and drive innovation in the Arab world.">
                            الريادة في تقديم الحلول الرقمية المتكاملة التي تلهم الإبداع وتدفع عجلة الابتكار في العالم العربي.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Audience Section (Who is this platform for?) -->
    <section id="audience-section" class="section" style="padding: 4rem 0; background: #ffffff;">
        <div class="container">
            <h2 data-ar="لمن هذه المنصة؟" data-en="Who Is This Platform For?">لمن هذه المنصة؟</h2>
            <div class="legal-card">
                <ul class="legal-list">
                    <li>
                        <i class="fas fa-user-graduate"></i>
                        <span
                            data-ar="للطلاب: إذا كنت تعمل على مشروع، برزنتيشن، أو بحث تخرج، نساعدك في تنظيم فكرتك وتحويلها إلى عرض واضح ومرتب يناسب أسلوب الدكتور أو لجنة التقييم."
                            data-en="For students: If you're working on a project, presentation, or graduation research, we help you structure your idea and turn it into a clear, organized presentation that fits your teacher or committee."
                        >
                            للطلاب: إذا كنت تعمل على مشروع، برزنتيشن، أو بحث تخرج، نساعدك في تنظيم فكرتك وتحويلها إلى عرض واضح ومرتب يناسب أسلوب الدكتور أو لجنة التقييم.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-briefcase"></i>
                        <span
                            data-ar="لأصحاب المشاريع: سواء كنت تبدأ مشروعاً جديداً أو تطور مشروعاً قائماً، نقدّم لك شعاراً وهوية بسيطة، عرض للمستثمرين أو الشركاء، وحتى موقع إلكتروني بسيط يعرّف الناس على خدمتك."
                            data-en="For business owners: Whether you're starting a new project or growing an existing one, we provide a simple logo and identity, an investor/partner presentation, and even a simple website to introduce your service."
                        >
                            لأصحاب المشاريع: سواء كنت تبدأ مشروعاً جديداً أو تطور مشروعاً قائماً، نقدّم لك شعاراً وهوية بسيطة، عرض للمستثمرين أو الشركاء، وحتى موقع إلكتروني بسيط يعرّف الناس على خدمتك.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-bullhorn"></i>
                        <span
                            data-ar="لصنّاع المحتوى: إذا كنت تنشئ محتوى على تيك توك، إنستغرام، أو يوتيوب، نساعدك في تجهيز مخطط محتوى منظم وعرض تقديمي يوضح فكرتك ويقوي حضورك."
                            data-en="For content creators: If you create content on TikTok, Instagram, or YouTube, we help you with a structured content plan and a presentation that clearly explains your message and strengthens your presence."
                        >
                            لصنّاع المحتوى: إذا كنت تنشئ محتوى على تيك توك، إنستغرام، أو يوتيوب، نساعدك في تجهيز مخطط محتوى منظم وعرض تقديمي يوضح فكرتك ويقوي حضورك.
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="كيف نعمل معاً" data-en="How We Work Together">كيف نعمل معاً</h2>
                <p data-ar="رحلة سلسة من الفكرة إلى التنفيذ في 4 خطوات بسيطة" data-en="A smooth journey from idea to implementation in 4 simple steps">
                    رحلة سلسة من الفكرة إلى التنفيذ في 4 خطوات بسيطة
                </p>
            </div>
            <div class="steps-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3 data-ar="اختر خدمتك" data-en="Choose Your Service">اختر خدمتك</h3>
                    <p data-ar="تصفح خدماتنا المتعددة واختر ما يناسب احتياجاتك من تصميم شعارات، عروض تقديمية، أو مواقع إلكترونية." data-en="Browse our various services and choose what suits your needs from logo design, presentations, or websites.">
                        تصفح خدماتنا المتعددة واختر ما يناسب احتياجاتك من تصميم شعارات، عروض تقديمية، أو مواقع إلكترونية.
                    </p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3 data-ar="ناقش متطلباتك" data-en="Discuss Your Requirements">ناقش متطلباتك</h3>
                    <p data-ar="استخدم مساعدنا الذكي أو اتصل بنا مباشرة لمناقشة تفاصيل مشروعك ومتطلباتك الخاصة والتوقيت المناسب للتسليم." data-en="Use our AI assistant or contact us directly to discuss your project details, specific requirements, and suitable delivery time.">
                        استخدم مساعدنا الذكي أو اتصل بنا مباشرة لمناقشة تفاصيل مشروعك ومتطلباتك الخاصة والتوقيت المناسب للتسليم.
                    </p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3 data-ar="الدفع الآمن" data-en="Secure Payment">الدفع الآمن</h3>
                    <p data-ar="ادفع بسهولة وأمان عبر الواتساب باستخدام البطاقات البنكية. نضمن حماية كاملة لبياناتك ومدفوعاتك." data-en="Pay easily and securely via WhatsApp using bank cards. We guarantee complete protection for your data and payments.">
                        ادفع بسهولة وأمان عبر الواتساب باستخدام البطاقات البنكية. نضمن حماية كاملة لبياناتك ومدفوعاتك.
                    </p>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3 data-ar="استلم عملك" data-en="Receive Your Work">استلم عملك</h3>
                    <p data-ar="احصل على عملك جاهزاً في الوقت المتفق عليه مع مراجعات مجانية ودعم فني متكامل لمدة 7 أيام." data-en="Get your work ready at the agreed time with free revisions and integrated technical support for 7 days.">
                        احصل على عملك جاهزاً في الوقت المتفق عليه مع مراجعات مجانية ودعم فني متكامل لمدة 7 أيام.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq" id="faq">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="الأسئلة الشائعة" data-en="Frequently Asked Questions">الأسئلة الشائعة</h2>
                <p data-ar="إجابات عن أهم الأسئلة التي تدور في ذهنك" data-en="Answers to the most important questions on your mind">
                    إجابات عن أهم الأسئلة التي تدور في ذهنك
                </p>
            </div>
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="ما هي الخدمات التي تقدمونها؟" data-en="What services do you offer?">ما هي الخدمات التي تقدمونها؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="نقدم حاليًا 4 خدمات رئيسية تساعدك في بناء حضور رقمي متكامل:
                            <br>• الترجمة
                            <br>• العروض التقديمية
                            <br>• تصميم الشعارات
                            <br>• تصميم وإنشاء المواقع
                            <br><br>كل خدمة مصممة لتكون بسيطة، عملية، وسهلة البدء، وتقدر تشوف تفاصيل كل خدمة في قسم الخدمات أو تسأل المساعد الذكي." data-en="We currently offer 4 main services that help you build a complete digital presence:
                            <br>• Translation
                            <br>• Presentations
                            <br>• Logo design
                            <br>• Website design & development
                            <br><br>Each service is designed to be simple, practical, and easy to start with. You can see details in the services section or ask the smart assistant.">
                                نقدم حاليًا 4 خدمات رئيسية تساعدك في بناء حضور رقمي متكامل:
                                <br>• الترجمة
                                <br>• العروض التقديمية
                                <br>• تصميم الشعارات
                                <br>• تصميم وإنشاء المواقع
                                <br><br>كل خدمة مصممة لتكون بسيطة، عملية، وسهلة البدء، وتقدر تشوف تفاصيل كل خدمة في قسم الخدمات أو تسأل المساعد الذكي.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="كيف هي أسعار الخدمات بشكل عام؟" data-en="How are your prices structured?">كيف هي أسعار الخدمات بشكل عام؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="أسعارنا مبنية على فكرة (ابتداءً من) وبصيغة واضحة للجميع:
                            <br>• الترجمة: ابتداءً من 75 ريال
                            <br>• العروض التقديمية: 8 ريالات لكل شريحة
                            <br>• تصميم الشعارات: ابتداءً من 75 ريال
                            <br>• تصميم وإنشاء المواقع: ابتداءً من 1500 ريال
                            <br><br>الأسعار المعروضة تعطيك نقطة بداية واضحة، ويمكن تعديلها حسب تفاصيل مشروعك." data-en="Our prices are based on a clear starting-from model:
                            <br>• Translation: starting from 75 SAR
                            <br>• Presentations: 8 SAR per slide
                            <br>• Logo design: starting from 75 SAR
                            <br>• Website design & development: starting from 1500 SAR
                            <br><br>The shown prices give you a clear starting point and can be adjusted based on your project details.">
                                أسعارنا مبنية على فكرة (ابتداءً من) وبصيغة واضحة للجميع:
                                <br>• الترجمة: ابتداءً من 75 ريال
                                <br>• العروض التقديمية: 8 ريالات لكل شريحة
                                <br>• تصميم الشعارات: ابتداءً من 75 ريال
                                <br>• تصميم وإنشاء المواقع: ابتداءً من 1500 ريال
                                <br><br>الأسعار المعروضة تعطيك نقطة بداية واضحة، ويمكن تعديلها حسب تفاصيل مشروعك.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="ما هي مدة تنفيذ الخدمات؟" data-en="What is the delivery time for your services?">ما هي مدة تنفيذ الخدمات؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="المدد تقريبية وتختلف حسب حجم الطلب:
                            <br>• الترجمة: من 24 إلى 72 ساعة
                            <br>• العروض التقديمية: من يومين إلى 5 أيام (حسب عدد الشرائح)
                            <br>• تصميم الشعارات: من 1 إلى 4 أيام
                            <br>• تصميم وإنشاء المواقع: من 7 إلى 14 يومًا
                            <br><br>قبل البدء نخبرك بالمدة المتوقعة بوضوح، ونلتزم بها قدر الإمكان." data-en="Delivery times are approximate and depend on the size of the request:
                            <br>• Translation: 24 to 72 hours
                            <br>• Presentations: 2 to 5 days (depending on slide count)
                            <br>• Logo design: 1 to 4 days
                            <br>• Website design & development: 7 to 14 days
                            <br><br>Before starting, we clearly tell you the expected delivery time and stick to it as much as possible.">
                                المدد تقريبية وتختلف حسب حجم الطلب:
                                <br>• الترجمة: من 24 إلى 72 ساعة
                                <br>• العروض التقديمية: من يومين إلى 5 أيام (حسب عدد الشرائح)
                                <br>• تصميم الشعارات: من 1 إلى 4 أيام
                                <br>• تصميم وإنشاء المواقع: من 7 إلى 14 يومًا
                                <br><br>قبل البدء نخبرك بالمدة المتوقعة بوضوح، ونلتزم بها قدر الإمكان.
                        </p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="كيف يتم الدفع وما هي ضمانات الأمان والجودة؟" data-en="How is payment made and what guarantees do you provide?">كيف يتم الدفع وما هي ضمانات الأمان والجودة؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="الدفع يتم بشكل أساسي عبر الواتساب، ويمكن استخدام البطاقات البنكية مثل الراجحي أو التحويل البنكي (بحسب ما يتم الاتفاق عليه).
                            <br><br>من ناحية الأمان والجودة:
                            <br>• لا نطلب منك أي بيانات حساسة غير ضرورية.
                            <br>• تستلم معاينة واضحة للعمل قبل الإغلاق النهائي.
                            <br>• نحرص أن تكون كل خدمة مفهومة وبسعر واضح قبل البدء.
                            <br>• هدفنا أن تكون راضياً عن النتيجة النهائية قبل اعتبار الطلب منتهياً." data-en="Payment is mainly handled via WhatsApp, using bank cards such as Al Rajhi or bank transfer (as agreed).
                            <br><br>Regarding security and quality:
                            <br>• We do not ask for unnecessary sensitive data.
                            <br>• You receive a clear preview of the work before final closure.
                            <br>• Every service is explained with a clear price before starting.
                            <br>• Our goal is that you are satisfied with the final result before we consider the order complete.">
                                الدفع يتم بشكل أساسي عبر الواتساب، ويمكن استخدام البطاقات البنكية مثل الراجحي أو التحويل البنكي (بحسب ما يتم الاتفاق عليه).
                            <br><br>من ناحية الأمان والجودة:
                            <br>• لا نطلب منك أي بيانات حساسة غير ضرورية.
                            <br>• تستلم معاينة واضحة للعمل قبل الإغلاق النهائي.
                            <br>• نحرص أن تكون كل خدمة مفهومة وبسعر واضح قبل البدء.
                            <br>• هدفنا أن تكون راضياً عن النتيجة النهائية قبل اعتبار الطلب منتهياً.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Privacy Policy Section -->
    <section id="privacy-policy" class="section" style="padding: 4rem 0; background: #fafafa;">
        <div class="container">
            <h2 data-ar="سياسة الخصوصية" data-en="Privacy Policy">سياسة الخصوصية</h2>
            <div class="legal-card">
                <ul class="legal-list">
                    <li>
                        <i class="fas fa-shield-alt"></i>
                        <span
                            data-ar="نحن في Graphos Services نلتزم بحماية خصوصية المستخدمين والمحافظة على سرية جميع المعلومات التي يتم جمعها عبر موقعنا."
                            data-en="We at Graphos Services are committed to protecting user privacy and ensuring the confidentiality of all information submitted through our website."
                        >
                            نحن في Graphos Services نلتزم بحماية خصوصية المستخدمين والمحافظة على سرية جميع المعلومات التي يتم جمعها عبر موقعنا.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-user-edit"></i>
                        <span
                            data-ar="يتم جمع المعلومات الطوعية فقط مثل الاسم أو وسيلة التواصل أو تفاصيل الطلب بهدف تقديم الخدمة وتحسين التواصل."
                            data-en="We only collect voluntary information such as name, contact details, and request details for the purpose of providing services and improving communication."
                        >
                            يتم جمع المعلومات الطوعية فقط مثل الاسم أو وسيلة التواصل أو تفاصيل الطلب بهدف تقديم الخدمة وتحسين التواصل.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-lock"></i>
                        <span
                            data-ar="لا نقوم بمشاركة البيانات مع أي جهة خارجية إلا عند طلب جهة قانونية رسمية أو مع جهات تقنية مساندة لتشغيل الموقع."
                            data-en="We do not share user data with any external parties except when required by law or with technical partners that support website functionality."
                        >
                            لا نقوم بمشاركة البيانات مع أي جهة خارجية إلا عند طلب جهة قانونية رسمية أو مع جهات تقنية مساندة لتشغيل الموقع.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-user-check"></i>
                        <span
                            data-ar="يحق للمستخدم طلب حذف بياناته أو مراجعتها في أي وقت."
                            data-en="Users have the right to request data deletion or review at any time."
                        >
                            يحق للمستخدم طلب حذف بياناته أو مراجعتها في أي وقت.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-sync-alt"></i>
                        <span
                            data-ar="قد يتم تحديث هذه السياسة عند الحاجة، ويُعتبر استمرار استخدام الموقع موافقة على أي تحديث يتم."
                            data-en="This policy may be updated when necessary, and continued use of the website indicates acceptance of any changes."
                        >
                            قد يتم تحديث هذه السياسة عند الحاجة، ويُعتبر استمرار استخدام الموقع موافقة على أي تحديث يتم.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-headset"></i>
                        <span
                            data-ar="للاستفسار، يرجى التواصل عبر وسائل الاتصال الرسمية المعروضة في الموقع."
                            data-en="For inquiries, please contact us through the official communication channels listed on the website."
                        >
                            للاستفسار، يرجى التواصل عبر وسائل الاتصال الرسمية المعروضة في الموقع.
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Terms of Service Section -->
    <section id="terms-of-service" class="section" style="padding: 4rem 0; background: #ffffff;">
        <div class="container">
            <h2 data-ar="شروط الخدمة" data-en="Terms of Service">شروط الخدمة</h2>
            <div class="legal-card">
                <ul class="legal-list">
                    <li>
                        <i class="fas fa-gavel"></i>
                        <span
                            data-ar="باستخدامك لموقع Graphos Services فإنك توافق على شروط الخدمة."
                            data-en="By using the Graphos Services website, you agree to the Terms of Service."
                        >
                            باستخدامك لموقع Graphos Services فإنك توافق على شروط الخدمة.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-briefcase"></i>
                        <span
                            data-ar="تشمل خدماتنا تصميم الشعارات، العروض التقديمية، والمواقع الإلكترونية."
                            data-en="Our services include logo design, presentations, and website design & development."
                        >
                            تشمل خدماتنا تصميم الشعارات، العروض التقديمية، والمواقع الإلكترونية.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-tags"></i>
                        <span
                            data-ar="يتم تحديد السعر عند طلب الخدمة وقد تتغير التكلفة إذا أضيفت متطلبات جديدة."
                            data-en="Pricing is determined at the time of the request and may change if new requirements are added."
                        >
                            يتم تحديد السعر عند طلب الخدمة وقد تتغير التكلفة إذا أضيفت متطلبات جديدة.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-ban"></i>
                        <span
                            data-ar="يمكن إلغاء الطلب قبل بدء التنفيذ بدون رسوم، وبعد البدء لا يتم استرجاع المبلغ."
                            data-en="Orders may be cancelled before work begins with no fees; once work has started, payments are non-refundable."
                        >
                            يمكن إلغاء الطلب قبل بدء التنفيذ بدون رسوم، وبعد البدء لا يتم استرجاع المبلغ.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-file-signature"></i>
                        <span
                            data-ar="جميع الأعمال تصبح ملكاً للعميل بعد إتمام الدفع الكامل، ولنا الحق في عرض العمل ضمن معرض أعمالنا ما لم يطلب العميل خلاف ذلك."
                            data-en="All completed work becomes the client’s property after full payment. We may showcase completed work in our portfolio unless the client requests otherwise."
                        >
                            جميع الأعمال تصبح ملكاً للعميل بعد إتمام الدفع الكامل، ولنا الحق في عرض العمل ضمن معرض أعمالنا ما لم يطلب العميل خلاف ذلك.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-exclamation-triangle"></i>
                        <span
                            data-ar="لا نتحمل أي مسؤولية عن سوء الاستخدام بعد تسليم العمل."
                            data-en="We are not responsible for any misuse of content after delivery."
                        >
                            لا نتحمل أي مسؤولية عن سوء الاستخدام بعد تسليم العمل.
                        </span>
                    </li>
                    <li>
                        <i class="fas fa-sync"></i>
                        <span
                            data-ar="قد نقوم بتحديث هذه الشروط في أي وقت ويعتبر استمرار استخدام الموقع موافقة على التحديثات."
                            data-en="These terms may be updated at any time, and continued use indicates acceptance of the updated terms."
                        >
                            قد نقوم بتحديث هذه الشروط في أي وقت ويعتبر استمرار استخدام الموقع موافقة على التحديثات.
                        </span>
                    </li>
                </ul>
            </div>
        </div>
    </section>

    <!-- CTA Section (Ready to start your project) moved before footer -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2 data-ar="جاهز لبدء مشروعك؟" data-en="Ready to start your project?">جاهز لبدء مشروعك؟</h2>
                <p data-ar="لا تترك فكرتك تنتظر! تواصل معنا الآن وليبدأ رحلتك الإبداعية مع Graphos Services. فريقنا جاهز لتحويل رؤيتك إلى واقع ملموس بأعلى معايير الجودة." data-en="Don't let your idea wait! Contact us now and let your creative journey with Graphos Services begin. Our team is ready to turn your vision into reality with the highest quality standards.">
                    لا تترك فكرتك تنتظر! تواصل معنا الآن وليبدأ رحلتك الإبداعية مع Graphos Services. فريقنا جاهز لتحويل رؤيتك إلى واقع ملموس بأعلى معايير الجودة.
                </p>
                <div class="hero-buttons">
                    <a href="#services" class="cta-button primary">
                        <i class="fas fa-rocket"></i> <span data-ar="ابدأ مشروعك الآن" data-en="Start Your Project Now">ابدأ مشروعك الآن</span>
                    </a>
                    <a href="https://wa.me/966533682916" class="cta-button secondary">
                        <i class="fab fa-whatsapp"></i> <span data-ar="تواصل على واتساب" data-en="Contact on WhatsApp">تواصل على واتساب</span>
                    </a>
                </div>
            </div>
        </div>
    </section>
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-ar="اتصل بنا" data-en="Contact Us">اتصل بنا</h3>
                    <div class="contact-info">
                        <p><i class="fas fa-envelope"></i> Graphos.svcs@gmail.com</p>
                        <p><i class="fas fa-phone"></i> <span dir="ltr">+966 53 368 2916</span></p>
                        <p><i class="fas fa-map-marker-alt"></i> <span data-ar="الرياض، المملكة العربية السعودية" data-en="Riyadh, Saudi Arabia">الرياض، المملكة العربية السعودية</span></p>
                    </div>
                    <div class="social-media-buttons">
                        <a href="https://www.tiktok.com/@graphos.svcs?_r=1&_t=ZS-91kQTmU6jIK" target="_blank" class="social-btn tiktok" title="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                        <a href="https://x.com/graphos_scvs?t=6WCmX5_-C-bmJNYtUdSQwQ&s=09" target="_blank" class="social-btn x-twitter" title="X">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                        <a href="https://www.instagram.com/graphos.svcs?igsh=NXR0cTl1OWM4Nno1" target="_blank" class="social-btn instagram" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3 data-ar="روابط سريعة" data-en="Quick Links">روابط سريعة</h3>
                    <ul class="quick-links">
                        <li><a href="#home"><i class="fas fa-home"></i> <span data-ar="الرئيسية" data-en="Home">الرئيسية</span></a></li>
                        <li><a href="#services"><i class="fas fa-concierge-bell"></i> <span data-ar="الخدمات" data-en="Services">الخدمات</span></a></li>
                        <li><a href="#about"><i class="fas fa-info-circle"></i> <span data-ar="من نحن" data-en="About">من نحن</span></a></li>
                        <li><a href="#audience-section"><i class="fas fa-users"></i> <span data-ar="لمن هذه المنصة؟" data-en="Who Is This Platform For?">لمن هذه المنصة؟</span></a></li>
                        <li><a href="#how-it-works"><i class="fas fa-play-circle"></i> <span data-ar="كيف نعمل" data-en="How It Works">كيف نعمل</span></a></li>
                        <li><a href="#faq"><i class="fas fa-question-circle"></i> <span data-ar="الأسئلة الشائعة" data-en="FAQ">الأسئلة الشائعة</span></a></li>
                        <li><a href="#privacy-policy"><i class="fas fa-user-shield"></i> <span data-ar="سياسة الخصوصية" data-en="Privacy Policy">سياسة الخصوصية</span></a></li>
                        <li><a href="#terms-of-service"><i class="fas fa-file-contract"></i> <span data-ar="شروط الخدمة" data-en="Terms of Service">شروط الخدمة</span></a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="currentYear">2025</span> Graphos Services. <span data-ar="جميع الحقوق محفوظة" data-en="All rights reserved">جميع الحقوق محفوظة</span>.</p>
            </div>
        </div>
    </footer>
    
    <!-- AI Assistant -->
    <div class="ai-assistant">
        <div class="ai-toggle" id="aiToggle">
            <i class="fas fa-robot"></i>
            <span class="ai-pulse"></span>
        </div>
        <div class="ai-chatbot" id="aiChatbot">
            <div class="chat-header">
                <div class="chat-title">
                    <i class="fas fa-robot"></i>
                    <h3 data-ar="مساعد Graphos AI الذكي" data-en="Graphos AI Smart Assistant">مساعد Graphos AI الذكي</h3>
                    <div class="status online" data-ar="متصل الآن" data-en="Online Now">متصل الآن</div>
                </div>
                <div class="chat-actions">
                    <button class="chat-btn" id="clearChat" title="مسح المحادثة">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="chat-btn" id="closeChat" title="إغلاق النافذة">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-text" data-ar="<strong>مرحباً! 👋 أنا مساعد Graphos AI المتقدم 🤖</strong><br><br>🎯 <strong>ماذا يمكنني فعلك لك؟</strong><br>• خدمة الترجمة الاحترافية 🌍<br>• تصميم العروض التقديمية 📊<br>• تصميم الشعارات 🎨<br>• تصميم وإنشاء المواقع 🌐<br><br>💎 <strong>مميزاتنا:</strong><br>✓ أسعار تنافسية<br>✓ جودة استثنائية<br>✓ تسليم في الوقت المتفق عليه<br>✓ دعم فني 24/7<br><br>أخبرني عن مشروعك وسأساعدك في تحقيقه! 🚀" data-en="<strong>Hello! 👋 I'm Graphos AI Advanced Assistant 🤖</strong><br><br>🎯 <strong>What can I do for you?</strong><br>• Professional translation service 🌍<br>• Presentation design 📊<br>• Logo design 🎨<br>• Website design & development 🌐<br><br>💎 <strong>Our Features:</strong><br>✓ Competitive prices<br>✓ Exceptional quality<br>✓ Delivery on time<br>✓ 24/7 technical support<br><br>Tell me about your project and I'll help you achieve it! 🚀">
                            <strong>🤖 مساعد Graphos AI</strong><br><br>
                            🎯 <strong>ماذا يمكنني فعلك لك؟</strong><br>
                            • خدمة الترجمة الاحترافية 🌍<br>
                            • تصميم العروض التقديمية 📊<br>
                            • تصميم الشعارات 🎨<br>
                            • تصميم وإنشاء المواقع 🌐<br>
                            <br>
                            💎 <strong>مميزاتنا:</strong><br>
                            ✓ أسعار تنافسية<br>
                            ✓ جودة استثنائية<br>
                            ✓ تسليم في الوقت المتفق عليه<br>
                            ✓ دعم فني 24/7<br><br>
                            أخبرني عن مشروعك وسأساعدك في تحقيقه! 🚀
                        </div>
                        <div class="message-time" id="welcomeTime" data-ar="الآن" data-en="Now">الآن</div>
                    </div>
                </div>
            </div>
            
            <div class="quick-actions" id="quickActions">
                <button class="quick-btn" data-msg="أعطني تفاصيل خدمة الترجمة الجديدة: السعر 75 ريال (75 SAR) وما الذي ستحسنُه في المحتوى">
                    <i class="fas fa-language"></i> <span data-ar="تفاصيل خدمة الترجمة" data-en="Translation Service Details">تفاصيل خدمة الترجمة</span>
                </button>
                <button class="quick-btn" data-msg="أعطني تفاصيل خدمة العروض التقديمية: السعر 8 ريالات (8 SAR) لكل شريحة، ومتى تكون مناسبة للطلاب ورواد الأعمال">
                    <i class="fas fa-desktop"></i> <span data-ar="تفاصيل العروض التقديمية" data-en="Presentations Details">تفاصيل العروض التقديمية</span>
                </button>
                <button class="quick-btn" data-msg="أعطني تفاصيل خدمة تصميم الشعار الجديدة: السعر 75 ريال (75 SAR)، وما الذي يميز الشعار الذي تقدمه">
                    <i class="fas fa-palette"></i> <span data-ar="تفاصيل تصميم الشعار" data-en="Logo Design Details">تفاصيل تصميم الشعار</span>
                </button>
                <button class="quick-btn" data-msg="أعطني تفاصيل خدمة تصميم وإنشاء المواقع: السعر يبدأ من 1500 ريال (1500 SAR)، وما المميزات الأساسية ومدة التنفيذ">
                    <i class="fas fa-code"></i> <span data-ar="تفاصيل تصميم المواقع" data-en="Website Design Details">تفاصيل تصميم المواقع</span>
                </button>
                <button class="quick-btn whatsapp-quick" onclick="showWhatsAppOrder('طلب عبر واتساب', 0)">
                    <i class="fab fa-whatsapp"></i> <span data-ar="طلب عبر واتساب" data-en="Order via WhatsApp">طلب عبر واتساب</span>
                </button>
            </div>

            <div class="chat-input-container">
                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="اكتب استفسارك هنا..." data-ar-placeholder="اكتب استفسارك هنا..." data-en-placeholder="Type your query here...">
                    <button class="send-button" id="sendMessage">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="تبديل الوضع الليلي">
        <i class="fas fa-moon" id="themeIcon"></i>
    </button>

    <!-- Enhanced Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-content">
            <h2>لوحة تحكم Graphos Services المتقدمة</h2>
            
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="general">الإعدادات العامة</button>
                <button class="admin-tab" data-tab="services">إدارة الخدمات</button>
                <button class="admin-tab" data-tab="content">إدارة المحتوى</button>
                <button class="admin-tab" data-tab="design">التصميم والمظهر</button>
                <button class="admin-tab" data-tab="scripts">السكربتات المخصصة</button>
                <button class="admin-tab" data-tab="analytics">الإحصائيات</button>
                <button class="admin-tab" data-tab="sync">المزامنة والتخزين</button>
                <button class="admin-tab" id="refreshSiteBtn">تحديث الموقع</button>
            </div>
            
            <div class="admin-section active" id="general-section">
                <h3>الإعدادات العامة</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>معلومات الموقع</h4>
                        <input type="text" class="admin-input" placeholder="اسم الموقع" value="Graphos Services" id="siteName">
                        <input type="text" class="admin-input" placeholder="البريد الإلكتروني" value="Graphos.svcs@gmail.com" id="siteEmail">
                        <input type="text" class="admin-input" placeholder="رقم الهاتف" value="+966 53 368 2916" id="sitePhone">
                        <button class="admin-btn success" onclick="saveGeneralSettings()">حفظ التغييرات</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>إعدادات اللغة</h4>
                        <select class="admin-input" id="siteLanguage">
                            <option value="ar">العربية</option>
                            <option value="en">English</option>
                        </select>
                        <button class="admin-btn" onclick="applyLanguage()">تطبيق اللغة</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>إعدادات الدفع</h4>
                        <input type="text" class="admin-input" placeholder="رقم واتساب" value="966533682916" id="whatsappNumber">
                        <button class="admin-btn success" onclick="updateWhatsApp()">تحديث رقم واتساب</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>الوسائط الاجتماعية</h4>
                        <input type="text" class="admin-input" placeholder="رابط TikTok" id="tiktokUrl" value="https://www.tiktok.com/@graphos.svcs?_r=1&_t=ZS-91kQTmU6jIK">
                        <input type="text" class="admin-input" placeholder="رابط X (Twitter)" id="twitterUrl" value="https://x.com/graphos_scvs?t=6WCmX5_-C-bmJNYtUdSQwQ&s=09">
                        <input type="text" class="admin-input" placeholder="رابط Instagram" id="instagramUrl" value="https://www.instagram.com/graphos.svcs?igsh=NXR0cTl1OWM4Nno1">
                        <button class="admin-btn success" onclick="updateSocialMedia()">تحديث الروابط</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="services-section">
                <h3>إدارة الخدمات والأسعار</h3>
                <div class="admin-grid" id="servicesAdminGrid">
                    <!-- Services admin will be loaded here -->
                </div>
            </div>
            
            <div class="admin-section" id="content-section">
                <h3>إدارة المحتوى</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>محتوى الصفحة الرئيسية</h4>
                        <textarea class="admin-textarea" placeholder="محتوى الصفحة الرئيسية" id="homeContent">مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية.</textarea>
                        <button class="admin-btn success" onclick="saveHomeContent()">حفظ المحتوى</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>محتوى من نحن</h4>
                        <textarea class="admin-textarea" placeholder="محتوى قسم من نحن" id="aboutContent">Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة.</textarea>
                        <button class="admin-btn success" onclick="saveAboutContent()">حفظ المحتوى</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="design-section">
                <h3>التصميم والمظهر</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>الألوان الرئيسية</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label>اللون الأساسي</label>
                                <input type="color" class="admin-input" id="primaryColor" value="#0a0a0a">
                            </div>
                            <div>
                                <label>اللون الثانوي</label>
                                <input type="color" class="admin-input" id="secondaryColor" value="#d4af37">
                            </div>
                        </div>
                        <button class="admin-btn success" onclick="saveColors()">حفظ الألوان</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>الشعار</h4>
                        <input type="file" id="logoUpload" class="admin-input" accept="image/*">
                        <button class="admin-btn" onclick="uploadLogo()">رفع الشعار</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>خلفيات الصفحات</h4>
                        <input type="file" id="bgUpload" class="admin-input" accept="image/*">
                        <select class="admin-input" id="bgSection">
                            <option value="hero">الصفحة الرئيسية</option>
                            <option value="services">قسم الخدمات</option>
                            <option value="about">قسم من نحن</option>
                        </select>
                        <button class="admin-btn" onclick="uploadBackground()">رفع الخلفية</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="sync-section">
                <h3>المزامنة والتخزين المتقدم</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>حالة المزامنة</h4>
                        <p>آخر تحديث: <strong id="lastSyncTime">-</strong></p>
                        <p>حالة التخزين: <strong id="storageStatus">-</strong></p>
                        <p>عدد العناصر المخزنة: <strong id="storedItems">0</strong></p>
                        <button class="admin-btn success" onclick="forceSync()">مزامنة فورية</button>
                        <button class="admin-btn" onclick="backupData()">إنشاء نسخة احتياطية</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>استعادة البيانات</h4>
                        <input type="file" id="backupFile" accept=".json" class="admin-input">
                        <button class="admin-btn" onclick="restoreData()">استعادة من ملف</button>
                        <button class="admin-btn danger" onclick="resetAllData()">إعادة تعيين كاملة</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>إعدادات التخزين</h4>
                        <label>
                            <input type="checkbox" id="autoSync" checked> المزامنة التلقائية
                        </label>
                        <label>
                            <input type="checkbox" id="cloudBackup"> النسخ الاحتياطي السحابي
                        </label>
                        <label>
                            <input type="checkbox" id="offlineMode" checked> وضع عدم الاتصال
                        </label>
                        <button class="admin-btn" onclick="saveStorageSettings()">حفظ الإعدادات</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="scripts-section">
                <h3>السكربتات المخصصة</h3>
                <div class="admin-card">
                    <h4>إضافة سكربت CSS مخصص</h4>
                    <textarea class="admin-textarea" placeholder="أضف كود CSS مخصص هنا..." id="customCSS"></textarea>
                    <button class="admin-btn" onclick="saveCustomCSS()">حفظ CSS</button>
                </div>
                
                <div class="admin-card">
                    <h4>إضافة سكربت JavaScript مخصص</h4>
                    <textarea class="admin-textarea" placeholder="أضف كود JavaScript مخصص هنا..." id="customJS"></textarea>
                    <button class="admin-btn" onclick="saveCustomJS()">حفظ JavaScript</button>
                </div>
                
                <div class="admin-card">
                    <h4>إضافة HTML مخصص</h4>
                    <textarea class="admin-textarea" placeholder="أضف كود HTML مخصص هنا..." id="customHTML"></textarea>
                    <button class="admin-btn" onclick="saveCustomHTML()">حفظ HTML</button>
                </div>
            </div>
            
            <div class="admin-section" id="analytics-section">
                <h3>الإحصائيات والأداء</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>إحصائيات الموقع</h4>
                        <p>إجمالي الزيارات: <strong id="totalVisits">0</strong></p>
                        <p>الخدمات الأكثر طلباً: <strong id="popularService">-</strong></p>
                        <p>متوسط وقت الزيارة: <strong id="avgVisitTime">0</strong> دقيقة</p>
                        <button class="admin-btn" onclick="resetAnalytics()">إعادة تعيين الإحصائيات</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>أداء النظام</h4>
                        <p>ذاكرة المستخدم: <strong id="userMemory">0</strong> عنصر</p>
                        <p>آخر تحديث: <strong id="lastUpdate">-</strong></p>
                        <p>حالة النظام: <strong style="color: var(--success)">جيد</strong></p>
                        <button class="admin-btn" onclick="clearAllData()">مسح جميع البيانات</button>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 2rem; border-top: 1px solid #eee; padding-top: 1rem;">
                <button class="admin-btn danger" onclick="closeAdminPanel()">إغلاق لوحة التحكم</button>
                <button class="admin-btn" onclick="exportSiteData()">تصدير بيانات الموقع</button>
            </div>
        </div>
    </div>

    <!-- Notification System -->
    <div class="notification-system" id="notificationSystem"></div>

    <script>
        // ===== FONT AWESOME LOADING DETECTION =====
        // Ensure Font Awesome icons are visible
        (function() {
            console.log('🔒 Icon system: Using Font Awesome icons');
            
            // Force show all icons immediately
            document.addEventListener('DOMContentLoaded', function() {
                const icons = document.querySelectorAll('.fa, .fas, .far, .fab, .fal');
                icons.forEach(icon => {
                    icon.style.opacity = '1';
                    icon.style.display = 'inline-block';
                    icon.style.visibility = 'visible';
                });
            });
            
            // Also show on window load
            window.addEventListener('load', function() {
                const icons = document.querySelectorAll('.fa, .fas, .far, .fab, .fal');
                icons.forEach(icon => {
                    icon.style.opacity = '1';
                    icon.style.display = 'inline-block';
                    icon.style.visibility = 'visible';
                });
            });
            
        })();
        
        // ===== ADVANCED SECURITY LAYER =====
        // Comprehensive protection without breaking functionality
        (function() {
            // Only block in production environment
            const isProduction = window.location.hostname !== 'localhost' && 
                               window.location.hostname !== '127.0.0.1';
            
            if (!isProduction) {
                console.warn('🔒 Security Layer: Running in development mode - protection disabled for debugging');
                return;
            }
            
            // ===== ANTI-TAMPERING =====
            let securityCheck = setInterval(() => {
                if (typeof window.graphosSecurity === 'undefined') {
                    window.graphosSecurity = true;
                }
            }, 1000);
            
            // ===== ANTI-DEBUGGING =====
            const originalConsole = {
                log: console.log,
                info: console.info,
                warn: console.warn,
                error: console.error,
                debug: console.debug,
                trace: console.trace,
                table: console.table,
                clear: console.clear,
                group: console.group,
                groupEnd: console.groupEnd,
                groupCollapsed: console.groupCollapsed
            };
            
            // Disable most console methods in production
            console.log = function() {};
            console.info = function() {};
            console.debug = function() {};
            console.trace = function() {};
            console.table = function() {};
            console.clear = function() {};
            console.group = function() {};
            console.groupEnd = function() {};
            console.groupCollapsed = function() {};
            
            // Keep only error and warn for debugging
            console.error = originalConsole.error;
            console.warn = originalConsole.warn;
            
            // ===== ANTI-INSPECTION =====
            // Block keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                const key = e.key;
                const ctrl = e.ctrlKey;
                const shift = e.shiftKey;
                const alt = e.altKey;
                const meta = e.metaKey;
                
                // Block F12, Ctrl+Shift+I/J/C, Ctrl+U, Ctrl+Shift+C, Ctrl+Alt+I
                if (key === 'F12' || 
                    (ctrl && shift && ['I', 'J', 'C'].includes(key.toUpperCase())) ||
                    (ctrl && key.toUpperCase() === 'U') ||
                    (ctrl && alt && key.toUpperCase() === 'I') ||
                    (meta && alt && key.toUpperCase() === 'I')) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            });
            
            // Allow right click for inspection
            // document.addEventListener('contextmenu', function(e) {
            //     e.preventDefault();
            //     return false;
            // });
            
            // Allow text selection
            // document.addEventListener('selectstart', function(e) {
            //     if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
            //         e.preventDefault();
            //         return false;
            //     }
            // });
            
            // Allow drag and drop
            // document.addEventListener('dragstart', function(e) {
            //     e.preventDefault();
            //     return false;
            // });
            
            // ===== ANTI-DEVTOOLS =====
            let devtoolsWarning = false;
            const threshold = 160;
            
            setInterval(function() {
                if (window.outerHeight - window.innerHeight > threshold || 
                    window.outerWidth - window.innerWidth > threshold) {
                    if (!devtoolsWarning) {
                        devtoolsWarning = true;
                        // console.warn('⚠️ Developer tools detected'); // تم تعطيله حتى لا يزعج التجارب
                        // Don't close the page, just log warning
                    }
                } else {
                    devtoolsWarning = false;
                }
            }, 1000);
            
            // ===== ANTI-TAMPERING DETECTION =====
            let originalHTML = document.documentElement.outerHTML;
            setInterval(function() {
                if (document.documentElement.outerHTML !== originalHTML) {
                    // console.warn('⚠️ Page tampering detected'); // تم تعطيله حتى لا يزعج التجارب
                }
            }, 5000);
            
            // ===== ANTI-CONTENT THEFT =====
            // Allow copy, cut, paste for functionality
            // document.addEventListener('copy', function(e) {
            //     e.preventDefault();
            //     return false;
            // });
            
            // document.addEventListener('cut', function(e) {
            //     e.preventDefault();
            //     return false;
            // });
            
            // document.addEventListener('paste', function(e) {
            //     if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
            //         e.preventDefault();
            //         return false;
            //     }
            // });
            
            // Allow screen capture
            // document.addEventListener('keyup', function(e) {
            //     if (e.key === 'PrintScreen') {
            //         e.preventDefault();
            //         return false;
            //     }
            // });
            
            // ===== ANTI-ANALYTICS BLOCKING =====
            if (typeof window.ga !== 'undefined') {
                window.ga = function() {};
            }
            
            if (typeof window.gtag !== 'undefined') {
                window.gtag = function() {};
            }
            
            // ===== ANTI-ADBLOCKERS =====
            const adBlockTest = document.createElement('div');
            adBlockTest.innerHTML = '&nbsp;';
            adBlockTest.className = 'adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad';
            adBlockTest.style.cssText = 'position: absolute; top: -10px; left: -10px; width: 1px; height: 1px; visibility: hidden;';
            document.body.appendChild(adBlockTest);
            
            setTimeout(function() {
                if (adBlockTest.offsetHeight === 0) {
                    console.warn('⚠️ Ad blocker detected');
                }
                document.body.removeChild(adBlockTest);
            }, 100);
            
            // ===== ANTI-BOT PROTECTION =====
            const botPatterns = [
                /bot/i,
                /crawler/i,
                /spider/i,
                /scraper/i,
                /curl/i,
                /wget/i,
                /python/i,
                /java/i,
                /perl/i,
                /php/i
            ];
            
            const userAgent = navigator.userAgent;
            const isBot = botPatterns.some(pattern => pattern.test(userAgent));
            
            if (isBot) {
                console.warn('⚠️ Bot detected');
                // Don't block, just monitor
            }
            
            console.log('🔒 Advanced security layer activated');
            
        })();
        
        // ===== SUCCESS FLAGS =====
        const MOBILE_SCROLL_OK = true;
        const SYNC_TEST_OK = true;
        const LOGO_UPLOAD_OK = true;
        const PORTFOLIO_COLORS_OK = true;

        // ===== COMPREHENSIVE ENHANCED STORAGE AND SYNC SYSTEM =====
        class AdvancedStorage {
            constructor() {
                this.storageKey = 'graphosAdvancedData';
                this.syncInterval = 30000; // 30 seconds
                this.autoSync = true;
                // تكامل الباك اند معطّل افتراضياً لتجنب تعارض سياسة الأمان (CSP)
                this.backendUrl = 'http://localhost:4000/api/site-config';
                this.backendEnabled = false;
                this.init();
            }

            getDefaultSettings() {
                return {
                    language: 'ar',
                    theme: 'light',
                    whatsappNumber: '966533682916'
                };
            }

            getDefaultServices() {
                return [
                    {
                        id: 1,
                        name_ar: 'الترجمة الاحترافية',
                        name_en: 'Professional Translation',
                        icon: 'fas fa-language',
                        description_ar: 'ترجمة احترافية للنصوص والمحتوى تناسب الأعمال والمشاريع المختلفة.',
                        description_en: 'Professional translation for texts and content that fits different projects and businesses.',
                        image: 'assets/translation-poster.jpg',
                        pricing: [
                            { duration_ar: 'من 24 إلى 72 ساعة', duration_en: '24 to 72 hours', price: 75 }
                        ]
                    },
                    {
                        id: 2,
                        name_ar: 'تصميم الجرافيك',
                        name_en: 'Graphic Design',
                        icon: 'fas fa-pen-nib',
                        description_ar: 'تصميم منشورات وبوسترات احترافية تناسب الهوية البصرية لمشروعك.',
                        description_en: 'Professional posts and posters that match your brand identity.',
                        image: 'assets/presentation-sample.jpg',
                        pricing: [
                            { duration_ar: 'من 24 إلى 72 ساعة', duration_en: '24 to 72 hours', price: 75 }
                        ]
                    },
                    {
                        id: 3,
                        name_ar: 'تصميم العروض التقديمية',
                        name_en: 'Presentation Design',
                        icon: 'fas fa-desktop',
                        description_ar: 'عروض تقديمية مصممة خصيصًا لعرض فكرتك بخطوات مرتبة وسهلة الفهم.',
                        description_en: 'Custom presentation designs that structure your idea into clear, easy-to-follow slides.',
                        image: 'assets/presentation-sample.jpg',
                        pricing: [
                            { duration_ar: 'من يومين إلى 5 أيام', duration_en: '2 to 5 days', price: 8, isPresentation: true, test: 'PRESENTATION' }
                        ]
                    },
                    {
                        id: 4,
                        name_ar: 'كتابة المحتوى',
                        name_en: 'Content Writing',
                        icon: 'fas fa-file-alt',
                        description_ar: 'كتابة محتوى احترافي وواضح يدعم أهداف مشروعك.',
                        description_en: 'Clear professional content that supports your project goals.',
                        image: 'assets/translation-poster.jpg',
                        pricing: [
                            { duration_ar: 'من 24 إلى 72 ساعة', duration_en: '24 to 72 hours', price: 75 }
                        ]
                    },
                    {
                        id: 5,
                        name_ar: 'تصميم لوجو أو شعار',
                        name_en: 'Logo Design',
                        icon: 'fas fa-palette',
                        description_ar: 'تصميم شعار مميز يبني هوية بصرية واضحة ويسهل تذكر مشروعك.',
                        description_en: 'Distinctive logo design that builds a clear visual identity and makes your brand memorable.',
                        image: 'assets/the logo.jpg',
                        pricing: [
                            { duration_ar: 'من 1 إلى 4 أيام', duration_en: '1 to 4 days', price: 75 }
                        ]
                    },
                    {
                        id: 6,
                        name_ar: 'تصميم وإنشاء مواقع',
                        name_en: 'Website Design & Development',
                        icon: 'fas fa-code',
                        description_ar: 'موقع تعريفي بسيط يعرّف بخدماتك ويمنح مشروعك حضورًا رقميًا منظمًا.',
                        description_en: 'A simple landing or informational website that presents your services and gives your project an organized digital presence.',
                        image: 'assets/website.jpg',
                        pricing: [
                            { duration_ar: 'من 7 إلى 14 يومًا', duration_en: '7 to 14 days', price: 1500 }
                        ]
                    }
                ];
            }

            init() {
                // قراءة البيانات الحالية أو إنشاء هيكل افتراضي
                let data = this.getData();

                if (!data) {
                    // أول مرة: ننشئ كل شيء من الافتراضيات
                    data = {
                        services: this.getDefaultServices(),
                        settings: this.getDefaultSettings(),
                        content: this.getDefaultContent(),
                        analytics: this.getDefaultAnalytics(),
                        customizations: this.getDefaultCustomizations(),
                        lastUpdated: new Date().toISOString(),
                        version: '3.0.0'
                    };
                } else {
                    // دمج الخدمات الافتراضية مع الخدمات المحفوظة
                    // نحافظ على الصور والتعديلات المحفوظة، ونضيف فقط خدمات جديدة
                    const defaultServices = this.getDefaultServices();
                    const savedServices = data.services || [];
                    
                    data.services = defaultServices.map(defaultService => {
                        const savedService = savedServices.find(s => s.id === defaultService.id);
                        if (savedService) {
                            const savedImage = savedService.image;
                            const isLegacyRemoteImage = typeof savedImage === 'string' && /pexels\.com/i.test(savedImage);
                            const isLegacyEncodedLocalImage = typeof savedImage === 'string' && /%D8|%D9/i.test(savedImage);

                            return {
                                ...defaultService,
                                image: (!savedImage || isLegacyRemoteImage || isLegacyEncodedLocalImage) ? defaultService.image : savedImage,
                                features_ar: savedService.features_ar || defaultService.features_ar,
                                features_en: savedService.features_en || defaultService.features_en,
                                pricing: defaultService.pricing,
                                name_ar: savedService.name_ar || defaultService.name_ar,
                                name_en: savedService.name_en || defaultService.name_en,
                                description_ar: savedService.description_ar || defaultService.description_ar,
                                description_en: savedService.description_en || defaultService.description_en,
                                icon: savedService.icon || defaultService.icon
                            };
                        }

                        return defaultService;
                    });
                }

                this.setData(data);

                // Start auto-sync if enabled
                if (this.autoSync) {
                    this.startAutoSync();
                }

                // Listen for storage events from other tabs
                window.addEventListener('storage', (e) => {
                    if (e.key === this.storageKey && e.newValue) {
                        this.notifyChanges();
                    }
                });
            }

            async generateResponse(message) {
                const lang = document.documentElement.lang || this.currentLanguage || 'ar';
                const msg = message.trim().toLowerCase();
                const greetings = ['مرحبا', 'هلا', 'اهلا', 'السلام عليكم', 'شلونك', 'شلونكم', 'شلون الخبر', 'هاي', 'hi', 'hello', 'مرحباً'];
                const isGreeting = greetings.some(g => msg.includes(g));

                // تحية
                if (isGreeting) {
                    const replies = lang === 'ar'
                        ? [
                            'مرحبًا بك! 😊 كيف يمكنني مساعدتك اليوم؟',
                            'أهلاً وسهلاً! 🌟 أنا هنا لأساعدك في خدماتنا.',
                            'هلا بك! 💎 تبحث عن ترجمة، برزنتيشن، شعار، أم موقع؟',
                            'مرحباً! 🚀 هل تريد معرفة الأسعار أو تفاصيل الخدمات؟',
                            'أهلاً! ✨ أنا مساعدك في منصة Graphos Services.'
                        ]
                        : [
                            'Hello! 😊 How can I help you today?',
                            'Welcome! 🌟 I\'m here to assist you with our services.',
                            'Hi there! 💎 Are you looking for translation, presentation, logo, or website?',
                            'Hello! 🚀 Do you want to know prices or service details?',
                            'Welcome! ✨ I\'m your assistant at Graphos Services.'
                        ];
                    return replies[Math.floor(Math.random() * replies.length)];
                }

                // أسئلة عن الأسعار
                if (msg.includes('سعر') || msg.includes('كم') || msg.includes('price') || msg.includes('cost')) {
                    const priceReplies = lang === 'ar'
                        ? [
                            'أسعارنا الحالية: الترجمة ابتداءً من 75 ريال، العروض التقديمية ابتداءً من 8 ريالات للشريحة، تصميم الشعارات ابتداءً من 75 ريال، والمواقع ابتداءً من 1500 ريال. 💰',
                            'الأسعار باختصار: الترجمة 75 ريال، البرزنتيشن 8 ريالات للشريحة، الشعار 75 ريال، الموقع 1500 ريال تقريبًا. 🌟',
                            'تقدر تبدأ بخدمة بسيطة مثل ترجمة بـ 75 ريال، أو موقع كامل ابتداءً من 1500 ريال. اختر الخدمة اللي تناسب ميزانيتك. 💎',
                            'كل الأسعار تظهر لك على كروت الخدمات بصيغة "ابتداءً من X ريال"، وتقدر تسألني عن أي خدمة بالتحديد وأعطيك تفاصيل أكثر. 🚀'
                        ]
                        : [
                            'Our current prices: Translation starting from 75 SAR, Presentations from 8 SAR per slide, Logos from 75 SAR, and Websites from 1500 SAR. 💰',
                            'In short: Translation 75 SAR, Presentation 8 SAR per slide, Logo 75 SAR, Website 1500 SAR. 🌟',
                            'You can start with Translation for 75 SAR, or go for a full Website starting from 1500 SAR. 💎',
                            'All prices are shown on the service cards as "Starting from X SAR". Ask me about any specific service and I will share more details. 🚀'
                        ];
                    return priceReplies[Math.floor(Math.random() * priceReplies.length)];
                }

                // أسئلة عن الخدمات
                if (
                    msg.includes('خدمات') || msg.includes('خدمة') || msg.includes('شعار')
                    || msg.includes('موقع') || msg.includes('عرض') || msg.includes('برزنتيشن')
                    || msg.includes('logo') || msg.includes('website') || msg.includes('presentation')
                ) {
                    const serviceReplies = lang === 'ar'
                        ? [
                            'خدماتنا تشمل: الترجمة، تصميم العروض التقديمية، تصميم الشعارات، وتصميم وإنشاء المواقع. 🎨',
                            'نقدم: ترجمة قوية، برزنتيشن مرتب، شعارات مميزة، ومواقع أنيقة وسهلة الاستخدام. 🚀',
                            'تقدر تختار من: ترجمة، عرض تقديمي، لوجو، أو موقع إلكتروني حسب احتياج مشروعك. ✨'
                        ]
                        : [
                            'Our services include: Translation, Presentation design, Logo design, and Website design & development. 🎨',
                            'We offer: strong translation, clean presentations, unique logos, and elegant websites. 🚀',
                            'You can choose from: Translation, Presentation, Logo, or Website depending on your project needs. ✨'
                        ];
                    return serviceReplies[Math.floor(Math.random() * serviceReplies.length)];
                }

                // أسئلة عامة
                const generalReplies = lang === 'ar'
                    ? [
                        'هذا سؤال ممتاز! 🤔 هل تريد معرفة الأسعار أم تفاصيل خدمة معينة؟',
                        'أنا هنا لأساعدك! 💡 أخبرني، تبحث عن ترجمة، برزنتيشن، شعار، أم موقع؟',
                        'جميل! 🌟 هل تريد استشارة سريعة أم تفاصيل كاملة عن خدمة معينة؟',
                        'أفهمك تمامًا! 🚀 اختر من كروت الخدمات أو اكتب لي نوع الخدمة اللي تفكر فيها.',
                        'ممتاز! ✨ اسألني عن أي خدمة (ترجمة، برزنتيشن، شعار، موقع) وأنا أوضح لك كل شيء.'
                    ]
                    : [
                        'Great question! 🤔 Do you want prices or details of a specific service?',
                        'I\'m here to help! 💡 Are you looking for translation, presentation, logo, or website?',
                        'Nice! 🌟 Do you want a quick consultation or full details about a specific service?',
                        'I understand! 🚀 You can choose from the service cards or tell me what type of service you are thinking about.',
                        'Excellent! ✨ Ask me about any service (translation, presentation, logo, website) and I will explain everything.'
                    ];
                return generalReplies[Math.floor(Math.random() * generalReplies.length)];
            }

            getDefaultContent() {
                return {
                    home: {
                        title_ar: 'منصتك الرقمية الاحترافية',
                        title_en: 'Your Professional Digital Platform',
                        description_ar: 'مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية.',
                        description_en: 'Welcome to Graphos Services - your comprehensive platform for turning ideas into reality. We provide integrated design and creative solutions using the latest AI technologies. Logos, presentations, and websites with exceptional quality.'
                    },
                    about: {
                        title_ar: 'منصة إبداعية رائدة',
                        title_en: 'Creative Leading Platform',
                        description_ar: 'Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة.',
                        description_en: 'Graphos Services is not just an ordinary platform, but your creative companion in the journey of turning ideas into reality. We believe that every idea deserves to see the light, and every project deserves to appear in the best form.'
                    }
                };
            }

            getDefaultAnalytics() {
                return {
                    totalVisits: 0,
                    popularService: '',
                    avgVisitTime: 0,
                    lastVisit: null,
                    visitHistory: []
                };
            }

            getDefaultCustomizations() {
                return {
                    customCSS: '',
                    customJS: '',
                    customHTML: '',
                    logo: null,
                    colors: {
                        primary: '#0a0a0a',
                        secondary: '#d4af37',
                        accent: '#f8f9fa'
                    },
                    backgrounds: {
                        hero: '',
                        services: '',
                        about: ''
                    }
                };
            }

            clearSensitiveData() {
                // Clear all sensitive data if security breach detected
                localStorage.removeItem(this.storageKey);
                localStorage.removeItem('storageUpdate');
                // Clear any other sensitive keys
                Object.keys(localStorage).forEach(key => {
                    if (key.includes('admin') || key.includes('token') || key.includes('session')) {
                        localStorage.removeItem(key);
                    }
                });
            }

            getData() {
                try {
                    const data = localStorage.getItem(this.storageKey);
                    return data ? JSON.parse(data) : null;
                } catch (error) {
                    console.error('Error reading storage data:', error);
                    return null;
                }
            }

            setData(data) {
                try {
                    data.lastUpdated = new Date().toISOString();
                    localStorage.setItem(this.storageKey, JSON.stringify(data));
                    
                    // Notify other tabs about the change
                    localStorage.setItem('storageUpdate', Date.now().toString());
                    
                    // محاولة مزامنة البيانات مع الباك اند (إن توفر)
                    this.syncToBackend(data);
                    
                    return true;
                } catch (error) {
                    console.error('Error saving storage data:', error);
                    return false;
                }
            }

            async loadFromBackendIfAvailable() {
                if (!this.backendEnabled || !this.backendUrl) return;
                try {
                    const response = await fetch(this.backendUrl, { cache: 'no-store' });
                    if (!response.ok) {
                        return;
                    }
                    const data = await response.json();
                    if (data && typeof data === 'object') {
                        // نكتب البيانات القادمة من الباك اند محلياً ونحدث الواجهة
                        this.setData(data);
                        this.notifyChanges();
                    }
                } catch (error) {
                    console.warn('Backend not reachable, falling back to localStorage only');
                }
            }

            async syncToBackend(data) {
                if (!this.backendEnabled || !this.backendUrl) return;
                try {
                    await fetch(this.backendUrl, {
                        method: 'POST',
                        headers: {
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(data)
                    });
                } catch (error) {
                    console.warn('Failed to sync with backend:', error);
                }
            }

            updateService(serviceId, updates) {
                const data = this.getData();
                if (!data) return false;

                const serviceIndex = data.services.findIndex(s => s.id === serviceId);
                if (serviceIndex === -1) return false;

                data.services[serviceIndex] = { ...data.services[serviceIndex], ...updates };
                return this.setData(data);
            }

            updateSettings(newSettings) {
                const data = this.getData();
                if (!data) return false;

                data.settings = { ...data.settings, ...newSettings };
                return this.setData(data);
            }

            updateContent(newContent) {
                const data = this.getData();
                if (!data) return false;

                data.content = { ...data.content, ...newContent };
                return this.setData(data);
            }

            updateCustomizations(newCustomizations) {
                const data = this.getData();
                if (!data) return false;

                data.customizations = { ...data.customizations, ...newCustomizations };
                return this.setData(data);
            }

            recordVisit() {
                const data = this.getData();
                if (!data) return false;

                // Initialize analytics if not exists
                if (!data.analytics) {
                    data.analytics = {
                        totalVisits: 0,
                        lastVisit: null,
                        visitHistory: []
                    };
                }

                data.analytics.totalVisits++;
                data.analytics.lastVisit = new Date().toISOString();
                data.analytics.visitHistory.push({
                    timestamp: new Date().toISOString(),
                    userAgent: navigator.userAgent,
                    language: navigator.language
                });

                // Keep only last 100 visits
                if (data.analytics.visitHistory.length > 100) {
                    data.analytics.visitHistory = data.analytics.visitHistory.slice(-100);
                }

                return this.setData(data);
            }

            startAutoSync() {
                this.syncIntervalId = setInterval(() => {
                    this.syncData();
                }, this.syncInterval);
            }

            stopAutoSync() {
                if (this.syncIntervalId) {
                    clearInterval(this.syncIntervalId);
                }
            }

            syncData() {
                // In a real application, this would sync with a cloud service
                // For now, we'll just update the timestamp
                const data = this.getData();
                if (data) {
                    data.lastSynced = new Date().toISOString();
                    this.setData(data);
                }
            }

            exportData() {
                const data = this.getData();
                if (!data) return null;

                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                return url;
            }

            importData(jsonData) {
                try {
                    const data = JSON.parse(jsonData);
                    return this.setData(data);
                } catch (error) {
                    console.error('Error importing data:', error);
                    return false;
                }
            }

            notifyChanges() {
                // Dispatch a custom event that other parts of the app can listen to
                window.dispatchEvent(new CustomEvent('storageUpdated', {
                    detail: { 
                        timestamp: new Date().toISOString(),
                        autoSync: true // يعتبر تحديث حقيقي للمحتوى
                    }
                }));
            }

            getStorageInfo() {
                const data = this.getData();
                if (!data) return null;

                const dataSize = new Blob([JSON.stringify(data)]).size;
                const maxSize = 5 * 1024 * 1024; // 5MB typical localStorage limit

                return {
                    dataSize,
                    maxSize,
                    usagePercent: (dataSize / maxSize) * 100,
                    lastUpdated: data.lastUpdated,
                    itemCount: Object.keys(data).length
                };
            }
        }

        // ===== ENHANCED AI SYSTEM =====
        class AdvancedAI {
            constructor() {
                this.conversationHistory = [];
                this.userPreferences = {};
                this.context = {};
                this.knowledgeBase = this.initializeKnowledgeBase();
                this.currentLanguage = 'ar';
                this.isLearning = true;
                this.lastReplies = {}; // لتقليل تكرار نفس الرد لنفس النية
            }

            initializeKnowledgeBase() {
                return {
                    services: {
                        translation: {
                            basePrice: 75,
                            description: {
                                ar: 'خدمة ترجمة قوية وواضحة تُظهر الفكرة كما يجب.',
                                en: 'Strong and clear translation that delivers the exact meaning.'
                            },
                            delivery: {
                                ar: '24-72 ساعة (حسب حجم النص)',
                                en: '24-72 hours (depending on text size)'
                            }
                        },
                        presentations: {
                            basePrice: 8,
                            description: {
                                ar: 'تصميم عروض تقديمية مرتبة وواضحة لكل شريحة.',
                                en: 'Clean and clear presentation design for each slide.'
                            },
                            delivery: {
                                ar: '1-3 أيام (حسب عدد الشرائح)',
                                en: '1-3 days (depending on slide count)'
                            }
                        },
                        logos: {
                            basePrice: 75,
                            description: {
                                ar: 'تصميم شعار بسيط وقوي يعكس هوية مشروعك.',
                                en: 'Simple and strong logo that reflects your brand.'
                            },
                            delivery: {
                                ar: '1-4 أيام',
                                en: '1-4 days'
                            }
                        },
                        websites: {
                            basePrice: 1500,
                            description: {
                                ar: 'تصميم وإنشاء موقع أنيق وسهل الاستخدام.',
                                en: 'Elegant and easy-to-use website design & development.'
                            },
                            delivery: {
                                ar: '7-14 يوم',
                                en: '7-14 days'
                            }
                        }
                    },
                    pricing: {
                        negotiable: true,
                        discounts: {
                            bundle: 0,
                            repeat: 0
                        }
                    },
                    responses: this.getResponseTemplates()
                };
            }

            getResponseTemplates() {
                return {
                    ar: {
                        pricing: [
                            "📊 **الأسعار الحالية**:\n• الترجمة: ابتداءً من 75 ريال\n• العروض التقديمية: ابتداءً من 8 ريالات للشريحة\n• تصميم الشعارات: ابتداءً من 75 ريال\n• تصميم وإنشاء المواقع: ابتداءً من 1500 ريال\n\n💡 **ملاحظة**: جميع الأسعار تظهر في كارت الخدمات بصيغة \"ابتداءً من X ريال\" ويمكن أن تختلف حسب التفاصيل.",
                            "💰 باختصار عن الأسعار:\n\nخدمات مثل الترجمة تبدأ من 75 ريال، وخدمات أكبر مثل المواقع تبدأ من 1500 ريال.\nلو كتبت لي الخدمة اللي في بالك بالضبط (مثلاً: شعار + موقع) أقدر أعطيك تصور أوضح للسعر.",
                            "💬 لو تبغى تعرف السعر بشكل أدق لحالتك، اكتب لي: نوع الخدمة + إذا فيه استعجال أو لا، وأنا أجاوبك بسعر تقريبي منطقي." 
                        ],
                        logo_design: "🎨 **خدمة تصميم الشعارات**\n\nنقدّم شعارات احترافية تعكس هوية مشروعك بشكل واضح وبسيط:\n• تصميم فريد يناسب نشاطك.\n• إمكانية التعديلات حتى تصل للشكل المناسب.\n• ملفات متعددة للاستخدام في الطباعة والسوشيال ميديا.\n\n💰 السعر: ابتداءً من 75 ريال للحالات البسيطة.\n⏰ مدة التنفيذ المتوقعة: من 1 إلى 4 أيام حسب التفاصيل.",
                        website_design: "🌐 **خدمة تصميم وإنشاء المواقع**\n\nمواقع إلكترونية أنيقة وسهلة الاستخدام:\n• تصميم متجاوب مع الجوال والكمبيوتر.\n• صفحات مرتبة وواضحة للزائر.\n• إمكانية ربط الموقع بوسائل التواصل.\n\n💰 السعر: ابتداءً من 1500 ريال للموقع البسيط.\n⏰ المدة: من 7 إلى 14 يوم تقريبًا حسب عدد الصفحات والتفاصيل.",
                        full_package: "💎 **الباقة الشاملة**\n\nمناسبة إذا حاب تبدأ مشروعك من الصفر:\n• شعار + هوية بصرية بسيطة.\n• عرض تقديمي مختصر.\n• موقع بسيط للتعريف بالمشروع.\n\nالسعر والمدة تختلف حسب حجم المشروع، لذلك نفضّل توضح فكرتك أول ثم نعطيك عرض مفصل.",
                        payment: [
                            "💳 **طرق الدفع المتاحة**\n\nحاليًا الدفع يتم بشكل أساسي عن طريق الواتساب بالتنسيق مباشرة، ويمكن استخدام:\n• التحويل البنكي.\n• البطاقات البنكية (بحسب ما يتم الاتفاق عليه).\n\nقبل الدفع يتم توضيح السعر النهائي وطريقة الدفع بشكل واضح ومريح.",
                            "💳 بخصوص الدفع: نتفق معك أول على السعر النهائي، بعدها تقدر تدفع عن طريق تحويل بنكي أو بطاقة (بحسب المتاح)، وكل التفاصيل توضح لك في الواتساب قبل أي خطوة.",
                            "💰 الدفع بسيط وواضح: نرسل لك السعر النهائي مع طريقة الدفع المناسبة لك (تحويل/بطاقة)، وبعد التأكيد نبدأ التنفيذ مباشرة إن شاء الله."
                        ],
                        delivery: "⏰ **مدة التنفيذ العامة**\n\nالمدد تختلف حسب نوع الخدمة وحجم الطلب، لكن بشكل تقريبي:\n• الترجمة: من 24 إلى 72 ساعة.\n• العروض التقديمية: من يومين إلى 5 أيام (حسب عدد الشرائح).\n• تصميم الشعارات: من 1 إلى 4 أيام.\n• المواقع: من 7 إلى 14 يومًا.\n\nقبل البدء نخبرك بالمدة المتوقعة ونلتزم بها قدر الإمكان.",
                        revision: "📝 **سياسة التعديلات**\n\nنحرص أن تكون راضي عن النتيجة النهائية:\n• التعديل على التفاصيل المعقولة داخل نفس نطاق الطلب متاح.\n• يتم الاتفاق على عدد أو نوع التعديلات قبل البدء إذا كان المشروع كبير.\n• الهدف أن تستلم عمل يناسبك بدون تعقيد أو مفاجآت.",
                        contact: [
                            "📞 **طرق التواصل**\n\nتقدر تتواصل معنا عن طريق:\n• الواتساب من زر \"اطلب عبر واتساب\" في كروت الخدمات.\n• أو عن طريق الإيميل: Graphos.svcs@gmail.com\n\nرسالـة بسيطة توضح نوع خدمتك تكفينا نرجع لك بتفاصيل أوضح.",
                            "📲 أسهل طريقة للتواصل هي الواتساب (الزر موجود تحت كل خدمة)، ولو حاب رسمي أكثر تقدر تراسلنا على الإيميل: Graphos.svcs@gmail.com.",
                            "🤝 تواصل معنا متى ما حبيت عبر الواتساب أو الإيميل، بس اذكر: نوع الخدمة، فكرتك بشكل مختصر، والمدة اللي تناسبك، ونرد عليك بعرض مرتب."
                        ],
                        service: [
                            "🎯 **كيف تختار الخدمة المناسبة؟**\n\nاسأل نفسك: ما هدفك الآن؟\n• لو تبغى شكل وهوية لمشروعك: ابدأ بتصميم شعار.\n• لو تبغى وجود على الإنترنت: موقع إلكتروني بسيط وواضح.\n\nاكتب لي هدفك الحالي بجملة واحدة وأنا أرشح لك أنسب خدمة.",
                            "⚙️ اختيار الخدمة يعتمد على المرحلة اللي أنت فيها:\n• عندك فكرة جاهزة → عرض تقديمي.\n• تبغى شكل وهوية → تصميم شعار.\n• تبغى تواجد أونلاين → موقع إلكتروني.\n\nقل لي: أنت في أي مرحلة الآن?",
                            "💡 لو محتار بين أكثر من خدمة، تقدر تسألني: \"أنا طالب\" أو \"عندي مشروع ناشئ\" أو \"صانع محتوى\" وأقول لك بالضبط أي الخدمات تناسب حالتك."
                        ],
                        refund: "🛡️ **سياسة الإلغاء والاسترجاع**\n\nبشكل مبسّط:\n• يمكن إلغاء الطلب قبل البدء بدون رسوم.\n• بعد بدء التنفيذ لا يتم استرجاع المبلغ، لكن نركز على التعديلات حتى تكون راضي.\n• في الحالات الخاصة يمكن مناقشة حل يرضي الجميع.\n\nهدفنا أن تكون مرتاح وواثق في التعامل قبل وأثناء وبعد تنفيذ الطلب.",
                        refund_negative: "😔 نأسف إن التجربة ما كانت على قد التوقعات.\nنحاول دائمًا نحل المشكلة قبل أي شيء:\n• نراجع ملاحظاتك بدقة.\n• نحاول نصحح العمل أو نعيد صياغته حسب ما تحتاج.\n• لو استمر عدم الرضا بعد المحاولات، يتم مناقشة أفضل حل ممكن بين الطرفين.\n\nتقدر تكتب مشكلتك بالتفصيل هنا أو تتواصل معنا مباشرة عبر الواتساب.",
                        working_hours: "⏱️ **أوقات العمل والتواصل**\n\nغالبًا نكون متواجدين للرد على الرسائل خلال اليوم، لكن يفضّل التواصل في الفترات المسائية (بتوقيت السعودية).\n\nلو ما تم الرد مباشرة، غالبًا نرجع لك خلال نفس اليوم أو اليوم اللي بعده كأقصى حد.",
                        confidentiality: "🔐 **الخصوصية وسرية الأعمال**\n\nنحترم خصوصيتك وخصوصية مشروعك:\n• لا نشارك ملفاتك أو أفكارك مع أي طرف آخر.\n• نستخدمها فقط لتنفيذ خدمتك.\n• بإمكانك طلب حذف أي ملفات بعد الانتهاء.\n\nهدفنا أن تكون مرتاح وواثق وأنت تشارك فكرتك أو بياناتك.",
                        languages_supported: "🌍 **ما اللغات التي ندعمها؟**\n\nالتركيز الأساسي على:\n• العربية.\n• الإنجليزية.\n\nفي بعض الحالات ممكن نساعد في لغات أخرى بسيطة (حسب النص)، لكن الأفضل ترسل لنا مثال أو جزء من النص قبل.",
                        small_talk: [
                            "أنا بخير ولله الحمد 🤍، الأهم كيف أنت وكيف مشروعك؟", 
                            "تمام ولله الحمد 🙏، جاهز أساعدك في أي خدمة تحتاجها.",
                            "بخير ونعمة، شكراً لسؤالك 🌟، خلنا نركز الآن على خدمتك أو فكرتك.",
                            "الحمد لله بخير 😊، قل لي وش اللي حاب تعرفه أو تبدأ فيه؟",
                            "من زود لطفك تسأل عني 🤍، خلنا نشوف الآن وش نقدر نسوي في مشروعك أو طلبك.",
                            "كل شي تمام ولله الحمد 🙏، إذا ودك نبدأ، قل لي الخدمة أو الفكرة اللي في بالك." 
                        ],
                        confirmation_reaction: [
                            "ايه، فعلاً 😉 وإذا حاب أشرح لك أكثر عن الخدمة أو السعر قول لي.",
                            "ايوه صدق 🌟، وتقدر تسأل عن أي تفاصيل مو واضحة.",
                            "أكيد 😄، لو حاب أعطيك مثال عملي أو توضيح أكثر اكتب لي.",
                            "صحيح 👍، خلنا نشوف كيف نطبق هذا الشي على مشروعك."
                        ],
                        student_help: [
                            "🎓 واضح إنك طالب وتشتغل على شيء مهم 👌\n\nأقدر أساعدك في:\n• تجهيز برزنتيشن مرتب وواضح.\n• تبسيط الفكرة وكتابتها بشكل سهل.\n• تنظيم الشرائح بحيث الدكتور أو اللجنة يفهمون فكرتك بسرعة.\n\nاكتب لي: عن أي مادة أو مشروع تشتغل؟ وكم عدد الشرائح تقريبًا؟",
                            "📚 للطلاب عندنا خيارات ممتازة:\n• عرض تقديمي كامل لمشروع أو بحث.\n• تحسين المحتوى اللي عندك بدون ما نغيّر فكرتك.\n• اقتراح طريقة عرض تناسب الدكتور/اللجنة.\n\nقل لي: هذا مشروع تخرج، واجب، أو عرض عادي؟",
                            "📝 لو عندك نص جاهز وتبي نحوله لشرائح، أو عندك فكرة بس مو عارف تصيغها، تقدر ترسل الفكرة الأساسية وأنا أقترح عليك شكل العرض وطريقة التقسيم.",
                            "🎯 تقدر ترسل لي: عنوان المشروع + متطلبات الدكتور (إن وجدت)، وأنا أرجع لك باقتراح لتقسيم الشرائح والخطوط العريضة للعرض." 
                        ],
                        business_help: [
                            "🏢 شكلك صاحب مشروع أو ناوي تبدأ واحد 👌\n\nنقدر نساعدك في:\n• تصميم شعار وهوية بسيطة للمشروع.\n• عرض تقديمي للمستثمرين أو الشركاء.\n• موقع بسيط يعرف الناس عليك.\n\nاكتب لي نوع مشروعك (تجاري، تعليمي، متجر إلكتروني، خدمة شخصية...) وأرشح لك أفضل خدمة.",
                            "💼 أصحاب المشاريع يستفيدون غالبًا من:\n• شعار قوي يعلق في البال.\n• عرض تقديمي يشرح الخدمة.\n• موقع أو صفحة تعريف تجمع كل روابطك.\n\nقل لي: مشروعك في أي مجال؟ وعندك هوية سابقة ولا تبدأ من الصفر؟",
                            "🚀 لو مشروعك في بدايته، ممكن نبدأ بشعار + برزنتيشن بسيط، وبعدها نطوّر موقع مع الوقت حسب ميزانيتك.",
                            "📈 لو عندك مشروع شغال وتبي تطوره، نقدر نساعدك في تحديث الهوية أو عمل عرض يشرح التحديثات الجديدة لعملاءك." 
                        ],
                        creator_help: [
                            "📱 إذا كنت صانع محتوى (تيك توك، انستغرام، يوتيوب) أقدر أساعدك بـ:\n• تنظيم الفكرة وتحويلها إلى عرض تقديمي واضح.\n• تحسين الصياغة وترتيب النقاط الأساسية.\n• تصميم برزنتيشن تستخدمه كخطة محتوى أو ملف تعريفي.\n\nاكتب لي: على أي منصة تشتغل؟ ووش نوع المحتوى؟",
                            "🎥 صناع المحتوى غالبًا يحتاجون:\n• فكرة واضحة.\n• طريقة عرض مختصرة وجذابة.\n• تنسيق يعكس هويتك.\n\nقل لي هدفك: زيادة متابعين، بيع خدمة، أو بناء براند شخصي؟",
                            "⭐ اكتب لي هدفك الحالي بجملة واحدة وأنا أرشح لك أنسب خدمة (عرض تقديمي/شعار/موقع) حسب وضعك.",
                            "🎯 تقدر تخبرني بالمواضيع اللي تركز عليها أسبوعيًا ونوع الجمهور اللي تستهدفه، وأنا أقترح عليك طريقة عرض وخطة بسيطة." 
                        ],
                        no_idea: [
                            "🤔 ولا يهمك لو ما عندك فكرة واضحة الآن.\n\nاكتب لي عن نفسك بجملة: طالب/موظف/صاحب مشروع + وش تحب تقريبًا، وأنا أساعدك تختار أنسب بداية (عرض تقديمي/شعار/موقع) وخطوات بسيطة للتنفيذ.",
                            "🔍 لو حاس إنك تايه: نقدر نساعدك ترتب أفكارك.\n\nقل لي:\n• وقتك المتاح.\n• هدفك (دخل إضافي، مشروع تخرج، تطوير مهارة...).\n• الأشياء اللي تحبها أو تجيدها.\n\nوبناءً عليها أطرح لك فكرة أو مسار واضح.",
                            "🧭 كثير يبدون من نفس النقطة: \"ما أدري من وين أبدأ\".\nخلي البداية هنا: اشرح وضعك الحالي باختصار، وأنا أكتب لك اقتراح مبدئي لخدمة أو فكرة تناسبك.",
                            "📌 لو كتبت لي فقط: \"وضعي الحالي + طموحي + الوقت المتاح\"، أقدر أرجع لك باقتراح واحد بسيط تبدأ منه بدون تعقيد." 
                        ],
                        deadline: [
                            "⏰ فهمت إنك مستعجل أو عندك تسليم قريب.\n\nالوقت مهم، لذلك:\n• نقدر نشتغل ضمن مدة محددة إذا كان الطلب منطقي.\n• الأسعار ترتفع شوي مع الاستعجال الشديد.\n\nاكتب لي متى آخر موعد للتسليم (اليوم/التاريخ) ونوع الخدمة، وأقول لك إذا نقدر نلحقها وكيف بيكون السعر.",
                            "🚨 تسليم بكرة أو خلال كم ساعة؟\n\nحاول توضح:\n• نوع الخدمة (عرض، شعار، موقع...).\n• حجم الطلب (كم شريحة؟ كم صفحة؟).\n• موعد التسليم بالضبط.\n\nبعدها أقدر أقول لك إذا نقدر ننفذه في الوقت أو نحتاج تخفيف المتطلبات.",
                            "⚡ الطلبات العاجلة نقدر نساعد فيها أحيانًا، لكن نحرص تبقى الجودة مقبولة.\nكل ما وضحت تفاصيل أكثر، كان الحكم أوضح إذا نقدر نستلم الطلب أو لا.",
                            "📆 لو كتبت لي: نوع الخدمة + عدد العناصر (شرائح/صفحات...) + تاريخ التسليم، أقدر أعطيك جواب واضح إذا نقدر ننجزها في الوقت." 
                        ],
                        gratitude: [
                            "العفو 🤍، أي وقت تحتاج شي أو استفسار عن خدمة اكتب لي.",
                            "شكرًا لك على لطفك 🌟، موجود هنا لو حاب نكمل خطوة عملية (مثل تحديد خدمة أو سعر).",
                            "الله يعافيك 🙏، لو حاب ننتقل للجد، قل لي: وش الخدمة اللي تميل لها أكثر الآن؟",
                            "يسعدني كلامك 🤍، خلنا نستفيد من هاللحظة ونحدد أول خدمة تبدأ فيها.",
                            "أهلاً بك 🤗، لو حاب تتعرف على خدماتنا أو تطلب عرض مفصل، قل لي.",
                            "مرحبًا بك 🤝، لو حاب تتعرف على كيفية عملنا أو تطلب خدمة، قل لي."
                        ],
                        problem_help: [
                            "😕 واضح إن عندك مشكلة أو شي ما عجبك.\n\nنقدر نتعامل معها كالتالي:\n• وضّح لي بالضبط وش اللي ما عجبك (مثال أو نقطة معينة).\n• أطرح أي تعديل تتمنى تشوفه.\n\nبناءً عليه أقدر أقترح تعديل أو خدمة تعالج هالنقطة.",
                            "🛠️ إذا واجهت مشكلة مع عرض أو فكرة سابقة:\n• اكتب لي: وش الخدمة؟ وش العيب اللي تشوفه فيها؟\n• أقدر أقترح تحسينات، أو إعادة صياغتها حسب ما تحتاج.",
                            "📌 الهدف دايمًا إنك توصل لنتيجة ترضيك.\nحاول تكتب المشكلـة بنقاط بسيطة (1،2،3) وأنا أرد عليك باقتراح مقابل لكل نقطة.",
                            "🤝 لو واجهت مشكلة مع خدمتنا، لا تتردد في التواصل معنا.\n\nنحن هنا لمساعدتك في حل أي مشكلة أو إجابة أي سؤال.",
                            "📝 لو واجهت مشكلة مع خدمتنا، يمكنك كتابة تفاصيل المشكلة هنا.\n\nسوف نرد عليك في أقرب وقت ممكن مع حل مناسب."
                        ],
                        general_inquiry: [
                            "🤔 سؤالك جميل! هل حاب تعرف الأسعار، تفاصيل خدمة معيّنة، أو تبغى نصيحة عن أنسب خدمة لمشروعك؟",
                            "💡 أقدر أساعدك تختار: تصميم شعار، عرض تقديمي، موقع، أو حتى فكرة لمشروعك. فقط اشرح لي فكرتك الحالية.",
                            "🚀 كل خدماتنا مبنية على مبدأ البساطة والوضوح. اكتب لي: وش نوع مشروعك؟ طالب، صاحب مشروع، أو شيء آخر؟",
                            "✨ إذا حاب، ابدأ بسطر واحد يشرح فكرتك، وأنا أقترح لك الخدمة أو الباقة الأنسب.",
                            "📌 تقدر تسألني عن أي شيء: الأسعار، المدد، طريقة الدفع، أو ما هي أفضل بداية لمشروعك.",
                            "🎯 لو كنت طالب، أقدر أساعدك في البرزنتيشن أو تنظيم المحتوى. لو صاحب مشروع، أقدر أساعدك في الشعار، العرض، والموقع.",
                            "📚 إذا مشروعك متعلق بالمحتوى أو السوشيال ميديا، أقدر أقترح عليك أفكار عروض تقديمية توضح فكرتك."
                        ]
                    },
                    en: {
                        pricing: [
                            "💰 **Current prices**:\n• Translation: starting from 75 SAR\n• Presentations: starting from 8 SAR per slide\n• Logo design: starting from 75 SAR\n• Website design & development: starting from 1500 SAR\n\n💡 **Note**: All prices are shown on the service cards as \"Starting from X SAR\" and may vary based on details.",
                            "📊 In short: services like translation start from 75 SAR, and bigger projects like websites start from 1500 SAR. If you tell me the exact service (for example: logo + website), I can give a clearer idea.",
                            "💬 If you want a more accurate estimate, send: the service type + any urgency, and I’ll reply with a reasonable price range." 
                        ],
                        logo_design: "🎨 **Logo Design Service**\n\nWe create clean and strong logos that reflect your brand:\n• Unique concept tailored to your project.\n• Multiple revisions until you are happy.\n• Files ready for print and social media.\n\n💰 Price: starting from 75 SAR for simple cases.\n⏰ Delivery: usually 1–4 days depending on details.",
                        website_design: "🌐 **Website Design & Development**\n\nElegant and easy-to-use websites:\n• Responsive on mobile and desktop.\n• Clear structure and pages.\n• Can be connected to your social accounts.\n\n💰 Price: starting from 1500 SAR for a simple website.\n⏰ Delivery: usually 7–14 days depending on pages and features.",
                        full_package: "💎 **Full Package**\n\nPerfect if you want to start your project from zero:\n• Logo + simple visual identity.\n• Presentation.\n• Simple website to introduce your project.\n\nPricing and timeline depend on project size, so it is better to explain your idea first and then we send you a clear offer.",
                        payment: [
                            "💳 **Payment methods**\n\nPayments are mainly handled via WhatsApp coordination. We usually support:\n• Bank transfer.\n• Bank cards (depending on agreement).\n\nBefore payment we always confirm the final price and method clearly.",
                            "💳 For payment, we first agree with you on the final price, then share clear instructions (bank transfer or card, depending on what works for you).",
                            "💰 Paying is simple: once we confirm the final quote with you on WhatsApp, you can pay via transfer or card and we start working right away."
                        ],
                        delivery: "⏰ **General delivery times**\n\nTimes depend on service type and request size, but approximately:\n• Translation: 24–72 hours.\n• Presentations: 2–5 days (depending on slide count).\n• Logo design: 1–4 days.\n• Websites: 7–14 days.\n\nBefore starting we tell you the expected delivery time clearly and try to stick to it.",
                        revision: "📝 **Revision policy**\n\nWe want you to be happy with the final result:\n• Reasonable edits within the same request scope are welcome.\n• For large projects, we can agree on the number/type of revisions before starting.\n• The goal is to deliver work that fits you without stress or surprises.",
                        contact: [
                            "📞 **How to contact us**\n\nYou can reach us via:\n• WhatsApp directly from the \"Order via WhatsApp\" buttons.\n• Or by email: Graphos.svcs@gmail.com\n\nJust tell us which service you want and we will reply with more details.",
                            "📲 The fastest way is WhatsApp (button under each service). If you prefer something more formal, you can email us at Graphos.svcs@gmail.com.",
                            "🤝 Contact us anytime via WhatsApp or email. Just mention: the service you want, a short description of your idea, and your preferred time frame, and we’ll send you a clear proposal."
                        ],
                        service: [
                            "🎯 **How to choose the right service?**\n\nIt depends on your current goal:\n• If you want a brand identity: start with a logo.\n• If you want online presence: a website.\n \nWrite in one sentence what you want to achieve now and I will suggest the best option.",
                            "⚙️ Think about your current stage:\n• Have a clear idea → presentation.\n• Need identity → logo.\n• Need online presence → simple website.\n\nTell me which stage you are in and I’ll point you to the best service.",
                            "💡 If you are confused between services, you can tell me: \"I’m a student\", \"I have a startup\" or \"I’m a content creator\" and I’ll recommend exactly what fits you."
                        ],
                        refund: "🛡️ **Cancellation & refund**\n\nIn simple form:\n• You can cancel before we start with no fees.\n• After work starts, refunds are not typical, but we focus on revisions until you are satisfied.\n• In special cases, we can discuss a fair solution for both sides.\n\nOur goal is for you to feel safe and comfortable before, during, and after the project.",
                        refund_negative: "😔 We are sorry that the experience did not meet your expectations.\nWe always try to fix the issue before anything else:\n• We carefully review your feedback.\n• We try to correct or rework the deliverable as needed.\n\nIf you are still not happy after attempts, we discuss the best possible solution together.\n\nYou can explain your issue here in detail or contact us directly via WhatsApp.",
                        working_hours: "⏱️ **Working hours & replies**\n\nWe are usually available during the day, with better response times in the evening (Saudi time).\n\nIf we do not answer instantly, we normally reply within the same day or the next day at most.",
                        confidentiality: "🔐 **Privacy & confidentiality**\n\nWe fully respect your privacy and project details:\n• We do not share your files or ideas with any third party.\n• We only use them to deliver your service.\n• You can ask us to delete files after completion.\n\nWe want you to feel safe when sharing your ideas and data.",
                        languages_supported: "🌍 **Which languages do we support?**\n\nOur main focus is on:\n• Arabic.\n• English.\n\nIn some cases we can help with simple content in other languages, but it is better to send us a sample first.",
                        small_talk: [
                            "I’m doing great, thanks for asking 😊 How about you and your project?", 
                            "All good here 🙏 I’m ready to help you with anything you need.",
                            "I’m fine, thank you 🌟 Let’s focus on your idea or project now.",
                            "Doing well, thanks 😊 Tell me what you’d like to know or start with.",
                            "Really appreciate you asking 🤍 Now let’s see how I can be useful for your project.",
                            "Everything’s good here 🙏 If you’re ready, tell me what service or idea you have in mind." 
                        ],
                        confirmation_reaction: [
                            "Yes, really 😉 If you want more details about the service or price, just ask.",
                            "Exactly 🌟 and you can always ask if anything is not clear.",
                            "Sure 😄 I can give you a practical example or explain more if you like.",
                            "That’s right 👍 Let’s see how we can apply this to your project."
                        ],
                        student_help: [
                            "🎓 Seems like you’re a student working on something important 👌\n\nI can help you with:\n• A clean, clear presentation for your project or research.\n• Simplifying and structuring your content.\n• Organizing slides so your teacher or committee understands quickly.\n\nTell me: what subject is it and roughly how many slides do you need?",
                            "📚 For students we usually offer:\n• Full project presentations.\n• Improving your existing content without changing your idea.\n• Suggesting a presentation flow that fits your teacher or committee.\n\nIs this for a graduation project, assignment, or normal class presentation?",
                            "📝 If you already have text and want it turned into slides, or you only have an idea and don’t know how to write it, you can describe the idea briefly and I’ll suggest a structure and slide plan for you." 
                        ],
                        business_help: [
                            "🏢 You sound like a business owner or planning to start one 👌\n\nWe can help you with:\n• Logo and simple visual identity.\n• Presentation for partners or investors.\n• Simple website to introduce your business.\n\nTell me what type of business you have (e-commerce, services, education, etc.) and I’ll suggest the best service.",
                            "💼 Business owners usually benefit from:\n• A strong logo that people remember.\n• A presentation that explains the service.\n• A website or page that collects all your links.\n\nDo you already have a brand/identity or are you starting from zero?",
                            "🚀 If you’re just starting, we can begin with idea + logo + simple presentation, then later move to website depending on your budget." 
                        ],
                        creator_help: [
                            "📱 If you are a content creator (TikTok, Instagram, YouTube), I can help you with:\n• Ideas for presentations that explain your service or project.\n• Simple scripts for each presentation.\n• A presentation to use as a content plan.\n\nTell me which platform you’re on and what type of content you make.",
                            "🎥 Content creators usually need:\n• Clear idea for each presentation.\n• A short, catchy hook for the first seconds.\n• Consistent style that matches your brand.\n\nWhat’s your main goal: more followers, selling a service, or building a personal brand?",
                            "⭐ Tell me your goal in one sentence and I’ll recommend the best next step (presentation / logo / website)." 
                        ],
                        no_idea: [
                            "🤔 It’s okay if you don’t have a clear idea yet.\n\nWrite one sentence about who you are and what you roughly want, and I’ll suggest a simple first step (presentation / logo / website) with practical next actions.",
                            "🔍 If you feel lost, we can help you organize your thoughts.\n\nTell me:\n• How much free time you have.\n• Your main goal (extra income, graduation project, skill development...).\n• Things you like or are good at.\n\nThen I’ll suggest an idea or path based on that.",
                            "🧭 Many people start from the same point: \"I don’t know where to start\".\nLet’s make the start here: describe your current situation briefly, and I’ll suggest a first step or a suitable service." 
                        ],
                        deadline: [
                            "⏰ I understand you have a close deadline.\n\nTime matters, so:\n• We can sometimes work within tight time frames if the request is reasonable.\n• Very urgent work may cost a bit more.\n\nTell me your exact deadline (date/time) and what service you need, and I’ll tell you if it’s possible and how.",
                            "🚨 Is the delivery tomorrow or in a few hours?\n\nPlease clarify:\n• The service type (presentation, logo, website...).\n• Size of the request (number of slides, pages...).\n• Exact deadline.\n\nThen I can say clearly if we can take it or if we should adjust the request.",
                            "⚡ Urgent requests can sometimes be done, but we still care about quality.\nThe more details you give, the better I can judge if it’s realistic or not." 
                        ],
                        gratitude: [
                            "You’re welcome 🤍 Anytime you need something or have a question, just send it.",
                            "Thank you 🌟 I’m here if you want to move to the next step, like choosing a specific service or price.",
                            "Glad to help 🙏 If you want to get practical, tell me which service you’re leaning towards now."
                        ],
                        problem_help: [
                            "😕 It sounds like you have an issue or something you didn’t like.\n\nWe can handle it like this:\n• Tell me exactly what went wrong or what you don’t like (with an example).\n• Mention any change you’d like to see.\n\nThen I can suggest a fix, an improvement, or a service to solve it.",
                            "🛠️ If you had a problem with a previous presentation or idea:\n• Tell me which service it was and what the main issue is.\n• I can suggest improvements, rewriting, or an additional service to fix the gap.",
                            "📌 Our goal is that you end up with something you’re happy with.\nTry to write your problem in a few simple points (1,2,3) and I’ll reply with a matching suggestion for each point." 
                        ],
                        general_inquiry: [
                            "🤔 Nice question! Do you want prices, service details, or a suggestion for what fits your project?",
                            "💡 I can help you choose between: logo, presentation, website, or even a project idea. Just describe your idea briefly.",
                            "🚀 All our services are built around clarity and simplicity. Tell me: are you a student, entrepreneur, or something else?",
                            "✨ If you like, start with one sentence about your project and I will suggest the best service or package.",
                            "📌 You can ask about anything: prices, delivery time, payment method, or what is the best way to start your project.",
                            "🎯 If you are a student, I can help you with presentations or structuring your content. If you are a business owner, I can help with logos, presentations, and websites.",
                            "📚 If your work is related to content or social media, I can suggest presentation ideas to explain your message clearly."
                        ]
                    }
                };
            }

            setLanguage(lang) {
                this.currentLanguage = lang;
            }

            async generateResponse(message) {
                const lang = document.documentElement.lang || this.currentLanguage || 'ar';
                const msg = message.trim().toLowerCase();

                const greetings = ['مرحبا', 'هلا', 'اهلا', 'السلام عليكم', 'شلونك', 'شلونكم', 'هاي', 'hi', 'hello', 'hey', 'مرحباً'];
                const isGreeting = greetings.some(g => msg.includes(g));

                const intent = this.analyzeIntent(message);
                const sentiment = this.analyzeSentiment(message);
                const context = this.getConversationHistory();

                // لو الرسالة فيها تحية + سؤال واضح (مثل أسعار أو خدمة)، نعطي تحية ثم جواب ذكي
                if (isGreeting && intent && intent !== 'general_inquiry') {
                    const greetingOptions = lang === 'ar'
                        ? [
                            'مرحبًا بك! 😊',
                            'أهلاً وسهلاً! 🌟',
                            'هلا بك! 💎'
                        ]
                        : [
                            'Hello! 😊',
                            'Welcome! 🌟',
                            'Hi there! 💎'
                        ];

                    const greetingPart = this.getNonRepeatingReply('greeting', greetingOptions);
                    const mainReply = await this.processIntent(intent, message, context, sentiment);

                    // ندمجهم في رد واحد لطيف
                    if (lang === 'ar') {
                        return `${greetingPart} ${mainReply}`;
                    }
                    return `${greetingPart} ${mainReply}`;
                }

                // لو تحية فقط بدون نية واضحة، نرجع رد تحية عادي
                if (isGreeting) {
                    const replies = lang === 'ar'
                        ? [
                            'مرحبًا بك! 😊 كيف أقدر أساعدك اليوم؟',
                            'أهلاً وسهلاً! 🌟 اكتب لي سؤالك أو نوع الخدمة اللي تفكر فيها.',
                            'هلا بك! 💎 هل حاب تعرف الأسعار، المدد، أو تفاصيل خدمة معيّنة؟'
                        ]
                        : [
                            'Hello! 😊 How can I help you today?',
                            'Welcome! 🌟 Write your question or the service you are thinking about.',
                            'Hi! 💎 Do you want to know prices, delivery time, or service details?'
                        ];
                    return this.getNonRepeatingReply('greeting', replies);
                }

                if (
                    msg.includes('من انتم') || msg.includes('من انت') || msg.includes('ما هي graphos') ||
                    msg.includes('about graphos') || msg.includes('what is graphos')
                ) {
                    if (lang === 'ar') {
                        return 'Graphos Services منصة رقمية تقدم خدمات تصميم شعارات، عروض تقديمية، ومواقع إلكترونية، بأسلوب بسيط وواضح يناسب الطلاب ورواد الأعمال وصنّاع المحتوى.';
                    }
                    return 'Graphos Services is a digital platform that offers logo design, presentations, and websites, in a simple and clear way for students, entrepreneurs, and content creators.';
                }

                // باقي الرسائل: نستخدم نظام النوايا والقوالب
                return this.processIntent(intent, message, context, sentiment);
            }

            analyzeIntent(message) {
                const lowerMessage = message.toLowerCase();
                
                // نية الأسعار: نلتقط صيغة المفرد والجمع مثل "سعر" و"الاسعار" و"الأسعار"
                if (/(سعر|اسعار|الاسعار|الأسعار|تكلفة|كم السعر|كم الاسعار|كم الأسعار|ثمن|price|cost)/i.test(message)) return 'pricing';
                if (/(ترجمة|ترجمه|الترجمة|الترجمه|الترجه|translate|translation)/i.test(message)) return 'service';
                if (/(لوجو|شعار|logo)/i.test(message)) return 'logo_design';
                if (/(موقع|website|ويب|web)/i.test(message)) return 'website_design';
                if (/(عرض|باقة|package|باكج|comprehensive|full)/i.test(message)) return 'full_package';
                if (/(دفع|payment|stc|بطاقة)/i.test(message)) return 'payment';
                if (/(تسليم|متى|وقت|موعد|delivery)/i.test(message)) return 'delivery';
                if (/(تعديل|مراجعة|review|تغيير)/i.test(message)) return 'revision';
                if (/(استرجاع|refund|إلغاء|cancel)/i.test(message)) return 'refund';
                if (/(اتصال|تحدث|كلم|contact)/i.test(message)) return 'contact';
                if (/(طالب|جامعة|كلية|مشروع تخرج|graduation project|assignment|homework|class presentation)/i.test(message)) return 'student_help';
                if (/(مشروع|بزنس|متجر|متجر إلكتروني|ecommerce|business|store|brand)/i.test(message)) return 'business_help';
                if (/(محتوى|قناة|يوتيوب|تيك توك|tiktok|instagram|reels|shorts|creator)/i.test(message)) return 'creator_help';
                if (/(ما عندي فكرة|ما عندي فكره|مو عارف من وين أبدأ|مو عارف من وين ابدا|don\'t know where to start|no idea)/i.test(message)) return 'no_idea';
                if (/(بكرة تسليم|اليوم تسليم|مستعجل|عاجل|urgent|deadline|tomorrow)/i.test(message)) return 'deadline';
                if (/(شكرا|شكرًا|مشكور|thx|thanks|thank you)/i.test(message)) return 'gratitude';
                if (/(مشكلة|سيء|سيئ|ما عجبني|not good|not satisfied|problem with)/i.test(message)) return 'problem_help';
                if (/(وقت العمل|اوقات|متى متاحين|working hours|available)/i.test(message)) return 'working_hours';
                if (/(خصوصية|سرية|confidential|privacy)/i.test(message)) return 'confidentiality';
                if (/(لغة|لغات|languages|arabic|english)/i.test(message)) return 'languages_supported';
                if (/(كيف حالك|شلونك|كيفك|how are you|how r u|what's up|whats up)/i.test(message)) return 'small_talk';
                if (/(والله\?|والله؟|صدق\?|صدق؟|جد\?|جد؟|really\?|seriously\?)/i.test(message)) return 'confirmation_reaction';
                if (/(خدمة|طلب|شراء|service|order|buy)/i.test(message)) return 'service';
                
                return 'general_inquiry';
            }

            analyzeSentiment(message) {
                const positiveWords = ['ممتاز', 'رائع', 'جميل', 'احترافي', 'شكرا', 'مشكور', 'يعطيك العافية', 'excellent', 'amazing', 'great', 'professional', 'thanks'];
                const negativeWords = ['سيء', 'ضعيف', 'مشكلة', 'خطأ', 'غلط', 'مرفوض', 'لا يعجبني', 'bad', 'poor', 'problem', 'error', 'wrong', 'rejected'];
                
                let score = 0;
                positiveWords.forEach(word => {
                    if (message.includes(word)) score += 1;
                });
                negativeWords.forEach(word => {
                    if (message.includes(word)) score -= 1;
                });
                
                return score > 0 ? 'positive' : score < 0 ? 'negative' : 'neutral';
            }

            async processIntent(intent, message, context, sentiment) {
                let responses = this.knowledgeBase.responses[this.currentLanguage];

                // Fallback: إذا لم تكن هناك قوالب للغة الحالية (مثل الإنجليزية)، استخدم قوالب العربية
                if (!responses || Object.keys(responses).length === 0) {
                    responses = this.knowledgeBase.responses['ar'];
                }

                if (!responses) {
                    return this.currentLanguage === 'ar' 
                        ? "عذراً، حدث خطأ في النظام. يرجى المحاولة مرة أخرى."
                        : "Sorry, a system error occurred. Please try again.";
                }

                switch (intent) {
                    case 'pricing':
                        return this.getNonRepeatingReply('pricing', responses.pricing);
                    case 'logo_design':
                        return responses.logo_design;
                    case 'website_design':
                        return responses.website_design;
                    case 'full_package':
                        return responses.full_package;
                    case 'payment':
                        return responses.payment;
                    case 'delivery':
                        return responses.delivery;
                    case 'revision':
                        return responses.revision;
                    case 'contact':
                        return responses.contact;
                    case 'service':
                        return responses.service;
                    case 'working_hours':
                        return responses.working_hours;
                    case 'confidentiality':
                        return responses.confidentiality;
                    case 'languages_supported':
                        return responses.languages_supported;
                    case 'small_talk':
                        return this.getNonRepeatingReply('small_talk', responses.small_talk);
                    case 'confirmation_reaction':
                        return this.getNonRepeatingReply('confirmation_reaction', responses.confirmation_reaction);
                    case 'student_help':
                        return this.getNonRepeatingReply('student_help', responses.student_help);
                    case 'business_help':
                        return this.getNonRepeatingReply('business_help', responses.business_help);
                    case 'creator_help':
                        return this.getNonRepeatingReply('creator_help', responses.creator_help);
                    case 'no_idea':
                        return this.getNonRepeatingReply('no_idea', responses.no_idea);
                    case 'deadline':
                        return this.getNonRepeatingReply('deadline', responses.deadline);
                    case 'gratitude':
                        return this.getNonRepeatingReply('gratitude', responses.gratitude);
                    case 'problem_help':
                        return this.getNonRepeatingReply('problem_help', responses.problem_help);
                    case 'refund':
                        return sentiment === 'negative' ? responses.refund_negative : responses.refund;
                    default:
                        return this.getNonRepeatingReply('general_inquiry', responses.general_inquiry);
                }
            }

            getNonRepeatingReply(intentKey, optionsArray) {
                if (!Array.isArray(optionsArray) || optionsArray.length === 0) {
                    return '';
                }

                // إذا كان هناك خيار واحد فقط، نرجعه مباشرة
                if (optionsArray.length === 1) {
                    this.lastReplies[intentKey] = 0;
                    return optionsArray[0];
                }

                const lastIndex = this.lastReplies[intentKey];
                let newIndex = Math.floor(Math.random() * optionsArray.length);

                // نحاول ألا نكرر نفس الإندكس السابق قدر الإمكان
                if (typeof lastIndex === 'number' && optionsArray.length > 1) {
                    let attempts = 0;
                    while (newIndex === lastIndex && attempts < 5) {
                        newIndex = Math.floor(Math.random() * optionsArray.length);
                        attempts++;
                    }
                }

                this.lastReplies[intentKey] = newIndex;
                return optionsArray[newIndex];
            }

            learnFromInteraction(userMessage, response, intent, sentiment) {
                try {
                    console.log('Learning from interaction:', { userMessage, response, intent, sentiment });
                    
                    if (typeof advancedStorage !== 'undefined' && advancedStorage) {
                        const data = advancedStorage.getData();
                        if (data && data.analytics) {
                            if (!data.analytics.aiInteractions) {
                                data.analytics.aiInteractions = [];
                            }
                            
                            data.analytics.aiInteractions.push({
                                timestamp: new Date().toISOString(),
                                userMessage,
                                response,
                                intent,
                                sentiment,
                                language: this.currentLanguage
                            });
                            
                            // Keep only last 100 interactions
                            if (data.analytics.aiInteractions.length > 100) {
                                data.analytics.aiInteractions = data.analytics.aiInteractions.slice(-100);
                            }
                            
                            advancedStorage.setData(data);
                        }
                    }
                } catch (err) {
                    console.warn('Failed to learn from interaction:', err);
                }
            }

            getConversationHistory() {
                return this.conversationHistory;
            }

            clearHistory() {
                this.conversationHistory = [];
            }
        }

        // ===== DYNAMIC CONTENT MANAGEMENT SYSTEM =====
        class DynamicContentManager {
            constructor() {
                this.storage = new AdvancedStorage();
                this.content = this.getDefaultContent();
                this.observers = [];
                this.init();
            }

            getDefaultContent() {
                return {
                    siteInfo: {
                        name: "Graphos Services",
                        email: "Graphos.svcs@gmail.com",
                        phone: "+966 53 368 2916",
                        whatsapp: "966533682916",
                        location: "الرياض، المملكة العربية السعودية",
                        logo: "G",
                        description: "منصتك الرقمية الاحترافية لتحويل الأفكار إلى واقع ملموس. جودة، إبداع، وابتكار في كل خدمة نقدمها.",
                        aboutDescription: "Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة."
                    },
                    services: {
                        logo_design: {
                            name: "تصميم الشعارات",
                            description: "شعارات احترافية تعكس هوية علامتك التجارية",
                            prices: {
                                "4 أيام": 15,
                                "3 أيام": 20,
                                "يومين": 25,
                                "24 ساعة": 30,
                                "6-7 ساعات": 40
                            },
                            features: ["تصميم احترافي", "تسليم بملفات متعددة", "مراجعات مجانية", "دعم فني"],
                            image: "logo-design.jpg"
                        },
                        presentations: {
                            name: "العروض التقديمية",
                            description: "عروض تقديمية متطورة تقدم أفكارك بشكل احترافي",
                            prices: {
                                "5 شرائح": 20,
                                "10 شرائح": 35,
                                "15 شرائح": 50,
                                "20 شريحة": 65,
                                "25 شريحة": 80
                            },
                            features: ["تصميم احترافي", "رسوم متحركة", "محتوى منظم", "قابل للتعديل"],
                            image: "presentations.jpg"
                        },
                        website_design: {
                            name: "تصميم المواقع",
                            description: "مواقع إلكترونية احترافية وجذابة",
                            prices: {
                                "صفحة واحدة": 300,
                                "3 صفحات": 500,
                                "5 صفحات": 700,
                                "10 صفحات": 1000,
                                "متجر إلكتروني": 1500
                            },
                            features: ["تصميم متجاوب", "SEO محسن", "سريع التحميل", "سهل الإدارة"],
                            image: "website-design.jpg"
                        },
                        full_package: {
                            name: "الباقة الشاملة",
                            description: "حل متكامل يحتوي على كل الخدمات",
                            prices: {
                                "بازيك": 500,
                                "احترافي": 1000,
                                "مميز": 1500,
                                "VIP": 2500
                            },
                            features: ["كل الخدمات", "دعم ممتاز", "تسليم سريع", "خصومات مستقبلية"],
                            image: "full-package.jpg"
                        },
                        
                    },
                    socialMedia: {
                        tiktok: "https://www.tiktok.com/@graphos.svcs?_r=1&_t=ZS-91kQTmU6jIK",
                        twitter: "https://x.com/graphos_scvs?t=6WCmX5_-C-bmJNYtUdSQwQ&s=09",
                        instagram: "https://www.instagram.com/graphos.svcs?igsh=NXR0cTl1OWM4Nno1"
                    },
                    portfolio: [],
                    testimonials: [
                        {
                            name: "أحمد محمد",
                            service: "تصميم شعار",
                            rating: 5,
                            comment: "خدمة ممتازة وتصميم احترافي، أنصح بالتعامل معهم بشدة"
                        },
                        {
                            name: "فهد العلي",
                            service: "تصميم موقع",
                            rating: 5,
                            comment: "تجربة ممتازة وتسليم في الوقت، الموقع طلع مرتب وسريع"
                        }
                    ],
                    analytics: {
                        visits: 0,
                        contacts: 0,
                        orders: 0,
                        revenue: 0
                    }
                };
            }

            async init() {
                await this.loadContent();
                this.setupAutoSync();
                this.setupRealTimeUpdates();
            }

            async loadContent() {
                const stored = await this.storage.getData();
                if (stored && stored.content) {
                    this.content = { ...this.content, ...stored.content };
                } else {
                    await this.saveContent();
                }
                this.updateUI();
            }

            async saveContent() {
                await this.storage.setData({ content: this.content });
                this.notifyObservers('contentUpdated', this.content);
                this.triggerRealTimeUpdate();
            }

            updateSiteInfo(data) {
                this.content.siteInfo = { ...this.content.siteInfo, ...data };
                this.saveContent();
                this.updateSiteInfoUI();
            }

            updateService(serviceId, data) {
                this.content.services[serviceId] = { ...this.content.services[serviceId], ...data };
                this.saveContent();
                this.updateServicesUI();
            }

            updateSocialMedia(data) {
                this.content.socialMedia = { ...this.content.socialMedia, ...data };
                this.saveContent();
                this.updateSocialMediaUI();
            }

            addPortfolioItem(item) {
                this.content.portfolio.push({
                    id: Date.now(),
                    ...item,
                    createdAt: new Date().toISOString()
                });
                this.saveContent();
                this.updatePortfolioUI();
            }

            removePortfolioItem(id) {
                this.content.portfolio = this.content.portfolio.filter(item => item.id !== id);
                this.saveContent();
                this.updatePortfolioUI();
            }

            // Real-time update methods
            setupAutoSync() {
                setInterval(() => {
                    this.saveContent();
                }, 30000); // Auto-save every 30 seconds
            }

            setupRealTimeUpdates() {
                window.addEventListener('storageUpdated', (e) => {
                    if (e.detail && e.detail.autoSync) {
                        this.loadContent();
                    }
                });
            }

            triggerRealTimeUpdate() {
                window.dispatchEvent(new CustomEvent('contentUpdated', {
                    detail: {
                        timestamp: new Date().toISOString(),
                        content: this.content
                    }
                }));
            }

            // Observer pattern for UI updates
            subscribe(callback) {
                this.observers.push(callback);
            }

            notifyObservers(event, data) {
                this.observers.forEach(callback => callback(event, data));
            }

            // UI update methods
            updateUI() {
                this.updateSiteInfoUI();
                this.updateServicesUI();
                this.updateSocialMediaUI();
                this.updatePortfolioUI();
            }

            updateSiteInfoUI() {
                const siteInfo = this.content.siteInfo;
                
                // Update contact info
                const emailElements = document.querySelectorAll('.contact-info p');
                if (emailElements[0]) emailElements[0].innerHTML = `<i class="fas fa-envelope"></i> ${siteInfo.email}`;
                if (emailElements[1]) emailElements[1].innerHTML = `<i class="fas fa-phone"></i> <span dir="ltr">${siteInfo.phone}</span>`;
                // نترك عنصر الموقع يعتمد على data-ar / data-en بدون فرض نص ثابت
                
                // Update social media links
                const tiktokLink = document.querySelector('.social-btn.tiktok');
                if (tiktokLink) tiktokLink.href = this.content.socialMedia.tiktok;
                
                const twitterLink = document.querySelector('.social-btn.x-twitter');
                if (twitterLink) twitterLink.href = this.content.socialMedia.twitter;
                
                const instagramLink = document.querySelector('.social-btn.instagram');
                if (instagramLink) instagramLink.href = this.content.socialMedia.instagram;
            }

            updateServicesUI() {
                // Services will be updated dynamically when loaded
            }

            updateSocialMediaUI() {
                this.updateSiteInfoUI(); // Reuse the same method
            }

            updatePortfolioUI() {
                const portfolioGrid = document.getElementById('portfolioGrid');
                if (portfolioGrid) {
                    portfolioGrid.innerHTML = '';
                    this.content.portfolio.forEach(item => {
                        portfolioGrid.appendChild(this.createPortfolioItem(item));
                    });
                }
            }

            createPortfolioItem(item) {
                const div = document.createElement('div');
                div.className = 'portfolio-item';
                div.innerHTML = `
                    <img src="${item.image}" alt="${item.title}">
                    <div class="portfolio-overlay">
                        <h3>${item.title}</h3>
                        <p>${item.description}</p>
                    </div>
                `;
                return div;
            }

            // Analytics methods
            trackVisit() {
                this.content.analytics.visits++;
                this.saveContent();
            }

            trackContact() {
                this.content.analytics.contacts++;
                this.saveContent();
            }

            trackOrder(amount) {
                this.content.analytics.orders++;
                this.content.analytics.revenue += amount;
                this.saveContent();
            }

            getAnalytics() {
                return this.content.analytics;
            }

            // Export/Import methods
            exportData() {
                const dataStr = JSON.stringify(this.content, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                const url = URL.createObjectURL(dataBlob);
                
                const link = document.createElement('a');
                link.href = url;
                link.download = `graphos-content-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
                
                URL.revokeObjectURL(url);
            }

            async importData(file) {
                const text = await file.text();
                const data = JSON.parse(text);
                this.content = { ...this.content, ...data };
                await this.saveContent();
                this.updateUI();
            }
        }

        let advancedStorage;
        let advancedAI;
        let contentManager;

        document.addEventListener('DOMContentLoaded', function() {
            console.log('Graphos Services - Page Loaded');
            initializeEnhancedSystem();
        });

        async function initializeEnhancedSystem() {
            
            // Initialize advanced storage system
            advancedStorage = new AdvancedStorage();
            // محاولة تحميل البيانات من الباك اند إن توفر
            if (advancedStorage && typeof advancedStorage.loadFromBackendIfAvailable === 'function') {
                await advancedStorage.loadFromBackendIfAvailable();
            }
            
            // Initialize content manager
            contentManager = new DynamicContentManager();
            
            // Initialize AI system
            advancedAI = new AdvancedAI();
            
            // Initialize all system components
            initLanguageSystem();
            initThemeSystem();
            initAdminPanel();
            initializeEnhancedAI();
            initLogoFallback();
            initNavigation();
            initFAQ();
            setTimeout(() => {
                initServices();
                initPortfolio();
                const adminPanel = document.getElementById('adminPanel');
                if (adminPanel && adminPanel.classList.contains('active')) {
                    loadAdminServices();
                    loadAnalytics();
                    loadStorageInfo();
                    loadAdminContent();
                }
                
                // Add comprehensive diagnostic
                setTimeout(() => {
                    console.log('🔍 COMPREHENSIVE DIAGNOSTIC:');
                    console.log('1. Admin panel exists:', !!document.getElementById('adminPanel'));
                    console.log('2. showAdminPanel function:', typeof showAdminPanel);
                    console.log('3. initAdminPanel function:', typeof initAdminPanel);
                    console.log('4. Logo placeholder:', !!document.getElementById('logoPlaceholder'));
                    console.log('5. Debug button exists:', !!document.getElementById('debugAdminBtn'));
                    console.log('6. Advanced storage:', !!advancedStorage);
                    console.log('7. Content manager:', !!contentManager);
                    
                    // Try to open admin panel directly
                try {
                    console.log('🚀 Attempting to open admin panel directly...');
                    // تم إزالة الفتح التلقائي - يجب فتحها فقط بالنقر 5 مرات
                    console.log('✅ Admin panel will open only with 5 clicks + secret code');
                } catch (error) {
                    console.error('❌ Failed to open admin panel:', error);
                }
                }, 1000);
                
                // Setup cross-tab sync
                window.addEventListener('storageUpdated', (e) => {
                    if (e.detail && e.detail.autoSync) {
                        loadDataFromStorageAndRender();
                        const lang = document.documentElement.lang || 'ar';
                        
                        // Show notification to all users about the update
                        showNotification(
                            lang === 'ar' ? '🔄 تم تحديث المحتوى!' : '🔄 Content updated!',
                            'info',
                            3000
                        );
                        
                        // Force refresh of all dynamic elements
                        setTimeout(() => {
                            initServices();
                            initPortfolio();
                            const adminPanel = document.getElementById('adminPanel');
                            if (adminPanel && adminPanel.classList.contains('active')) {
                                loadAdminServices();
                                loadAnalytics();
                                loadStorageInfo();
                            }
                        }, 100);
                    }
                });
            });
            
            // Auto-sync every 30 seconds (صامت بدون إشعارات)
            setInterval(() => {
                if (advancedStorage) {
                    // مزامنة صامتة للبيانات بدون إرسال حدث storageUpdated
                    advancedStorage.syncData();
                }
            }, 30000);
            
            setTimeout(() => {
                const lang = document.documentElement.lang || 'ar';
                showNotification(
                    lang === 'ar'
                        ? 'تم تحميل المنصة المتقدمة بنجاح! 🚀'
                        : 'The advanced platform has loaded successfully! 🚀',
                    'success'
                );
            }, 1000);
        }

        // ===== CROSS-TAB SYNC FUNCTION =====
        function loadDataFromStorageAndRender() {
            initServices();
            initPortfolio();
            loadAdminServices();
            loadAnalytics();
            loadStorageInfo();
            loadAdminContent();
        }

        // ===== ENHANCED LOADING SYSTEM =====
        async function showEnhancedLoading() {
            const loader = document.getElementById('loadingScreen');
            const loaderText = document.getElementById('loaderText');
            const loadingBar = document.getElementById('loadingBar');
            const loadingPercent = document.getElementById('loadingPercent');
            const loadingStep = document.getElementById('loadingStep');

            createLoadingParticles();

            const steps = [
                { text: 'Loading core components...', ar: 'جاري تحميل المكونات الأساسية...', duration: 50 },
                { text: 'Initializing advanced UI...', ar: 'جاري تهيئة واجهة المستخدم المتقدمة...', duration: 50 },
                { text: 'Loading advanced AI system...', ar: 'جاري تحميل نظام الذكاء الاصطناعي المتقدم...', duration: 50 },
                { text: 'Setting up storage system...', ar: 'جاري إعداد نظام التخزين المتقدم...', duration: 50 },
                { text: 'Loading dynamic content...', ar: 'جاري تحميل المحتوى الديناميكي...', duration: 50 },
                { text: 'Finalizing setup...', ar: 'جاري إنهاء الإعدادات النهائية...', duration: 50 }
            ];

            let totalProgress = 0;
            
            for (let i = 0; i < steps.length; i++) {
                if (loaderText) {
                    loaderText.textContent = steps[i].ar;
                    loaderText.setAttribute('data-ar', steps[i].ar);
                    loaderText.setAttribute('data-en', steps[i].text);
                }
                if (loadingStep) {
                    loadingStep.textContent = steps[i].ar;
                    loadingStep.setAttribute('data-ar', steps[i].ar);
                    loadingStep.setAttribute('data-en', steps[i].text);
                }
                
                const targetProgress = ((i + 1) / steps.length) * 100;
                const progressStep = 2;
                let currentProgress = totalProgress;
                
                const updateProgress = () => {
                    if (currentProgress < targetProgress) {
                        currentProgress = Math.min(currentProgress + progressStep, targetProgress);
                        if (loadingBar) loadingBar.style.width = currentProgress + '%';
                        if (loadingPercent) loadingPercent.textContent = Math.round(currentProgress) + '%';
                        requestAnimationFrame(updateProgress);
                    } else {
                        totalProgress = currentProgress;
                    }
                };
                
                requestAnimationFrame(updateProgress);
                
                await new Promise(resolve => setTimeout(resolve, steps[i].duration));
            }

            // Complete loading
            if (loadingBar) loadingBar.style.width = '100%';
            if (loadingPercent) loadingPercent.textContent = '100%';
            
            setTimeout(() => {
                if (loader) {
                    loader.style.opacity =
                    setTimeout(() => {
                        if (loader) loader.style.display = 'none';
                    }, 200);
                }
            }, 200);
        }

        function createLoadingParticles() {
            const container = document.getElementById('loadingParticles');
            if (!container) return;

            const particleCount = 25;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 5 + 's';
                
                const size = 2 + Math.random() * 4;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                particle.style.opacity = 0.3 + Math.random() * 0.7;
                
                container.appendChild(particle);
            }
        }

        // ===== ENHANCED SERVICE MANAGEMENT SYSTEM =====
        function initServices() {
            const servicesGrid = document.getElementById('servicesGrid');
            if (!servicesGrid) return;

            let data = null;
            let services = [];

            try {
                if (typeof advancedStorage !== 'undefined' && advancedStorage) {
                    data = advancedStorage.getData();
                    console.log('📦 Storage data loaded:', data);
                    if (data && Array.isArray(data.services) && data.services.length > 0) {
                        services = data.services;
                    } else if (typeof advancedStorage.getDefaultServices === 'function') {
                        services = advancedStorage.getDefaultServices();
                    }
                }
            } catch (e) {
                console.warn('Failed to load services from storage, falling back to defaults:', e);
            }

            // في حال فشل كل شيء، نستخدم القائمة الكاملة من الخدمات الافتراضية
            if (!services || !services.length) {
                services = advancedStorage && typeof advancedStorage.getDefaultServices === 'function'
                    ? advancedStorage.getDefaultServices()
                    : [];
            }

            services = (services || []).filter(s => s && ![2, 4].includes(s.id));

            console.log('🔍 Services loaded (first service image):', services[0] ? (services[0].image ? services[0].image.substring(0, 50) + '...' : 'No image') : 'No services');
            const currentLang = document.documentElement.lang;
            
            servicesGrid.innerHTML = services.map(service => `
                <div class="service-card" data-service="${service.id}">
                    <div class="service-icon">
                        <i class="${service.icon}"></i>
                    </div>
                    <img src="${service.image}" alt="${currentLang === 'ar' ? service.name_ar : service.name_en}" class="service-image">
                    <h3>${currentLang === 'ar' ? service.name_ar : service.name_en}</h3>
                    <p>${currentLang === 'ar' ? service.description_ar : service.description_en}</p>
                    
                    <div class="service-features">
                        ${(service.features_ar || []).map((feature, index) => `
                            <div class="feature-item">
                                <i class="fas fa-check"></i>
                                <span>${currentLang === 'ar' ? feature : (service.features_en || [])[index]}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <table class="pricing-table">
                        <thead>
                            <tr>
                                <th>${currentLang === 'ar' ? 'مدة التسليم' : 'Delivery Time'}</th>
                                <th>${currentLang === 'ar' ? 'السعر' : 'Price'}</th>
                                <th>${currentLang === 'ar' ? 'الطلب' : 'Order'}</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${(service.pricing || []).map(item => `
                                <tr>
                                    <td><strong style="color: var(--secondary); font-size: 1.1rem;">${currentLang === 'ar' ? item.duration_ar : item.duration_en}</strong></td>
                                    <td>
                                        <span class="price" style="font-size: 1.1rem; font-weight: 700; color: var(--secondary);">${currentLang === 'ar' 
                                            ? `ابتداءً من ${item.price} ريال${(item.duration_ar === 'من يومين إلى 5 أيام' && item.price === 8) ? ' للشريحة الواحدة' : ''}` 
                                            : `Starting from ${item.price} SAR${(item.duration_en === '2 to 5 days' && item.price === 8) ? ' per slide' : ''}`}
                                        </span>
                                        ${item.original_price ? `<span class="original-price">${currentLang === 'ar' ? `${item.original_price} ريال` : `${item.original_price} SAR`}</span>` : ''}
                                    </td>
                                    <td>
                                        <button class="service-order-btn whatsapp" onclick="showWhatsAppOrder('${currentLang === 'ar' ? service.name_ar : service.name_en}', '${currentLang === 'ar' ? item.duration_ar : item.duration_en}', ${item.price})">
                                            <i class="fab fa-whatsapp"></i>
                                            ${currentLang === 'ar' ? 'اطلب عبر واتساب' : 'Order via WhatsApp'}
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                    
                    <span class="negotiable">
                        <i class="fas fa-handshake"></i>
                        ${currentLang === 'ar'
                            ? 'جميع الأسعار المعروضة تمثل الحد الأدنى للخدمة في أبسط صورها، وهي قابلة للتعديل والتفاوض حسب حجم المشروع ودرجة التعقيد والمتطلبات الإضافية.'
                            : 'All listed prices represent the minimum for the service in its simplest form and may be adjusted based on project size, complexity and any additional requirements.'}
                    </span>
                </div>
            `).join('');
        }

        // ===== ENHANCED PORTFOLIO SYSTEM =====
        function initPortfolio() {
            const portfolioGrid = document.getElementById('portfolioGrid');
            if (!portfolioGrid) return;

            // Portfolio items with proper text visibility
            const portfolioItems = [
                {
                    id: 1,
                    title_ar: 'مثال على الترجمة المقدمة من Graphos Services',
                    title_en: 'Translation Sample by Graphos Services',
                    mediaType: 'video',
                    mediaSrc: 'assets/translation-sample.mp4',
                    poster: 'assets/translation-poster.jpg',
                    description_ar: 'مقطع قصير يوضح مثال قبل/بعد أو جزء من عمل ترجمة مع تنسيق احترافي.',
                    description_en: 'A short clip showing a before/after or a snippet of translation work with professional formatting.'
                },
                {
                    id: 2,
                    title_ar: 'مثال على العرض التقديمي الذي يقدمه Graphos Services',
                    title_en: 'Presentation Sample by Graphos Services',
                    mediaType: 'image',
                    mediaSrc: 'assets/presentation-sample.jpg',
                    downloadSrc: 'assets/presentation-sample.pptx',
                    description_ar: 'تصميم شريحة/عرض تقديمي بأسلوب أنيق مع هوية بصرية واضحة.',
                    description_en: 'A slide/deck design sample with clean layout and clear visual identity.'
                },
                {
                    id: 3,
                    title_ar: 'أمثلة على اللوجوهات المقدمة من Graphos Services',
                    title_en: 'Logo Samples by Graphos Services',
                    mediaType: 'gallery',
                    mediaSrcs: [
                        'assets/logo-1.jpeg',
                        'assets/logo-2.jpeg',
                        'assets/logo-3.jpeg'
                    ],
                    description_ar: 'مجموعة أمثلة لوجوهات بأساليب مختلفة (Minimal / Modern / Arabic) حسب الطلب.',
                    description_en: 'A set of logo examples in different styles (Minimal / Modern / Arabic) based on your needs.'
                }
            ];

            const currentLang = document.documentElement.lang;
            
            const safeSrc = (src) => encodeURI(src);
            const arOrdinal = ['الأول', 'الثاني', 'الثالث'];
            const enOrdinal = ['First', 'Second', 'Third'];

            const lightbox = document.getElementById('imageLightbox');
            const lightboxImage = document.getElementById('lightboxImage');
            const lightboxClose = document.getElementById('lightboxClose');

            const openLightbox = (src, alt) => {
                if (!lightbox || !lightboxImage) return;
                lightboxImage.src = src;
                lightboxImage.alt = alt || '';
                lightbox.classList.add('active');
                lightbox.setAttribute('aria-hidden', 'false');
                document.body.style.overflow = 'hidden';
            };

            const closeLightbox = () => {
                if (!lightbox || !lightboxImage) return;
                lightbox.classList.remove('active');
                lightbox.setAttribute('aria-hidden', 'true');
                lightboxImage.removeAttribute('src');
                document.body.style.overflow = '';
            };
            
            portfolioGrid.innerHTML = portfolioItems.map(item => `
                <div class="portfolio-item">
                    ${item.mediaType === 'video'
                        ? `<video class="portfolio-media" controls preload="metadata" controlsList="nodownload noplaybackrate noremoteplayback" disablePictureInPicture playsinline oncontextmenu="return false" ${item.poster ? `poster="${safeSrc(item.poster)}"` : ''}>
                                <source src="${safeSrc(item.mediaSrc)}" type="video/mp4">
                           </video>`
                        : item.mediaType === 'gallery'
                            ? `<div class="portfolio-gallery">
                                    ${item.mediaSrcs.map((src, idx) => `
                                        <figure>
                                            <img src="${safeSrc(src)}" alt="${currentLang === 'ar' ? item.title_ar : item.title_en}" loading="lazy">
                                            <figcaption>${currentLang === 'ar' ? `اللوجو ${arOrdinal[idx] || (idx + 1)}` : `${enOrdinal[idx] || (idx + 1)} Logo`}</figcaption>
                                        </figure>
                                    `).join('')}
                               </div>`
                            : `<img src="${safeSrc(item.mediaSrc)}" alt="${currentLang === 'ar' ? item.title_ar : item.title_en}" class="portfolio-media" loading="lazy">`
                    }
                    <div class="portfolio-content">
                        <h3>${currentLang === 'ar' ? item.title_ar : item.title_en}</h3>
                        <p>${currentLang === 'ar' ? item.description_ar : item.description_en}</p>
                        ${item.downloadSrc
                            ? `<a class="portfolio-download" href="${safeSrc(item.downloadSrc)}" download data-download-title-ar="${item.title_ar || ''}" data-download-title-en="${item.title_en || ''}">
                                   <i class="fas fa-download"></i>
                                   <span>${currentLang === 'ar' ? (item.title_ar || 'تحميل الملف') : (item.title_en || 'Download File')}</span>
                               </a>`
                            : ''
                        }
                    </div>
                </div>
            `).join('');

            portfolioGrid.querySelectorAll('.portfolio-download').forEach(link => {
                link.addEventListener('click', () => {
                    try {
                        const lang = document.documentElement.lang;
                        const title = lang === 'ar'
                            ? (link.getAttribute('data-download-title-ar') || '')
                            : (link.getAttribute('data-download-title-en') || '');
                        if (!title) return;
                        showNotification(
                            lang === 'ar' ? `تم تحميل ${title}` : `Downloaded ${title}`,
                            'success'
                        );
                    } catch (e) {}
                });
            });

            portfolioGrid.querySelectorAll('.portfolio-gallery img').forEach(img => {
                img.style.cursor = 'zoom-in';
                img.addEventListener('click', () => {
                    const alt = img.getAttribute('alt') || '';
                    openLightbox(img.getAttribute('src'), alt);
                });
            });

            portfolioGrid.querySelectorAll('video.portfolio-media').forEach(video => {
                video.addEventListener('contextmenu', (e) => {
                    e.preventDefault();
                });
            });

            if (lightbox) {
                lightbox.addEventListener('click', (e) => {
                    if (e.target === lightbox) closeLightbox();
                });
            }
            if (lightboxClose) {
                lightboxClose.addEventListener('click', closeLightbox);
            }
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') closeLightbox();
            });
        }

        // ===== ENHANCED WHATSAPP ORDER SYSTEM =====
        function showWhatsAppOrder(serviceName, duration, price) {
            const currentLang = document.documentElement.lang;
            let whatsappNumber = '966533682916'; // رقم افتراضي آمن
            try {
                if (typeof advancedStorage !== 'undefined' && advancedStorage) {
                    const data = advancedStorage.getData();
                    if (data && data.settings && data.settings.whatsappNumber) {
                        whatsappNumber = data.settings.whatsappNumber;
                    }
                }
            } catch (e) {
                console.warn('Failed to read WhatsApp number from storage, using default');
            }
            
            let message = currentLang === 'ar' ? 
                `الخدمة: ${serviceName}` +
                `المدة: ${duration}` +
                `السعر: ${price} ريال` +
                `أرغب في المزيد من التفاصيل والتفاوض على السعر.` :
                `Service: ${serviceName}` +
                `Duration: ${duration}` +
                `Price: ${price} SAR` +
                `I would like more details and to negotiate the price.`;
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
            
            showNotification(
                currentLang === 'ar' ? 
                'جاري فتح واتساب لإكمال طلبك...' : 
                'Opening WhatsApp to complete your order...',
                'success'
            );
        }

        // ===== ENHANCED LANGUAGE SYSTEM =====
        function initLanguageSystem() {
            const languageSwitcher = document.getElementById('languageSwitcher');
            if (languageSwitcher) {
                languageSwitcher.addEventListener('click', function() {
                    const currentLang = document.documentElement.lang;
                    const newLang = currentLang === 'ar' ? 'en' : 'ar';
                    switchLanguage(newLang);
                });
            }

            // Load saved language preference
            let lang = 'ar';
            try {
                if (typeof advancedStorage !== 'undefined' && advancedStorage) {
                    const data = advancedStorage.getData();
                    if (data && data.settings && data.settings.language) {
                        lang = data.settings.language;
                    }
                }
            } catch (e) {
                console.warn('Failed to load language from storage, using default Arabic');
            }

            switchLanguage(lang, true);
        }

        function switchLanguage(lang, initial = false) {
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            
            if (advancedAI) {
                advancedAI.setLanguage(lang);
            }
            
            // Update storage
            if (advancedStorage && !initial) {
                advancedStorage.updateSettings({ language: lang });
            }
            
            updateAllTexts(lang);
            
            const languageSwitcher = document.getElementById('languageSwitcher');
            if (languageSwitcher) {
                const span = languageSwitcher.querySelector('span');
                if (span) {
                    span.textContent = lang === 'ar' ? 'English' : 'العربية';
                    span.setAttribute('data-ar', 'English');
                    span.setAttribute('data-en', 'العربية');
                }
            }
            
            if (!initial) {
                showNotification(
                    lang === 'ar' ? 'تم التبديل إلى اللغة العربية' : 'Switched to English',
                    'info'
                );
            }
        }

        function updateAllTexts(lang) {
            const elements = document.querySelectorAll('[data-ar], [data-en]');
            elements.forEach(element => {
                const text = lang === 'ar' ? element.getAttribute('data-ar') : element.getAttribute('data-en');
                if (text) {
                    if (text.includes('<')) {
                        element.innerHTML = text;
                    } else {
                        element.textContent = text;
                    }
                }
            });
            
            updatePlaceholders(lang);
            updateServiceContent(lang);
        }

        function updatePlaceholders(lang) {
            const placeholders = document.querySelectorAll('[data-ar-placeholder], [data-en-placeholder]');
            placeholders.forEach(element => {
                const placeholder = lang === 'ar' ? 
                    element.getAttribute('data-ar-placeholder') : 
                    element.getAttribute('data-en-placeholder');
                if (placeholder) {
                    element.setAttribute('placeholder', placeholder);
                }
            });
        }

        function updateServiceContent(lang) {
            initServices();
            initPortfolio();
        }

        // ===== ENHANCED THEME SYSTEM =====
        function initThemeSystem() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }

            // Load saved theme preference
            try {
                if (typeof advancedStorage !== 'undefined' && advancedStorage) {
                    const data = advancedStorage.getData();
                    if (data && data.settings && data.settings.theme === 'dark') {
                        enableDarkMode();
                    }
                }
            } catch (e) {
                console.warn('Failed to load theme from storage, using default light mode');
            }
        }

        function toggleTheme() {
            const themeIcon = document.getElementById('themeIcon');
            if (document.body.classList.contains('dark-mode')) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        }

        function enableDarkMode() {
            document.body.classList.add('dark-mode');
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.className = 'fas fa-sun';
            }
            
            // Update storage
            if (advancedStorage) {
                advancedStorage.updateSettings({ theme: 'dark' });
            }
            
            // Force portfolio texts to gold in dark mode
            const portfolioTexts = document.querySelectorAll('.portfolio .section-header h2, .portfolio .section-header p, .portfolio-content h3, .portfolio-content p');
            portfolioTexts.forEach(el => {
                el.style.color = getComputedStyle(document.documentElement).getPropertyValue('--secondary') || '#d4af37';
            });
            
            const lang = document.documentElement.lang || 'ar';
            showNotification(
                lang === 'ar' ? 'تم تفعيل الوضع الليلي' : 'Dark mode has been enabled',
                'info'
            );
        }

        function disableDarkMode() {
            document.body.classList.remove('dark-mode');
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.className = 'fas fa-moon';
            }
            
            // Update storage
            if (advancedStorage) {
                advancedStorage.updateSettings({ theme: 'light' });
            }
            
            // Reset portfolio texts to white in light mode
            const portfolioTexts = document.querySelectorAll('.portfolio .section-header h2, .portfolio .section-header p, .portfolio-content h3, .portfolio-content p');
            portfolioTexts.forEach(el => {
                el.style.color = '#ffffff';
            });
            
            const lang = document.documentElement.lang || 'ar';
            showNotification(
                lang === 'ar' ? 'تم تعطيل الوضع الليلي' : 'Dark mode has been disabled',
                'info'
            );
        }

        // ===== LOGO FALLBACK (for devices that fail to load JPEG with spaces) =====
        function initLogoFallback() {
            try {
                const logos = document.querySelectorAll('.logo-img img');
                logos.forEach(function(img) {
                    const fallback = img.getAttribute('data-fallback');
                    if (!fallback) return;
                    img.addEventListener('error', function() {
                        if (img.src !== fallback) {
                            img.src = fallback;
                        }
                    });
                });
            } catch (e) {
                console.warn('initLogoFallback failed:', e);
            }
        }

        // ===== ENHANCED AI ASSISTANT =====
        function initializeEnhancedAI() {
            console.log('[AI] initializeEnhancedAI called');

            const aiToggle = document.getElementById('aiToggle');
            const aiChatbot = document.getElementById('aiChatbot');
            const chatInput = document.getElementById('chatInput');
            const sendButton = document.getElementById('sendMessage');
            const heroAiButton = document.getElementById('heroAiButton');

            // Ensure chatbot is always closed on initial load
            if (aiChatbot) {
                aiChatbot.classList.remove('active');
                console.log('[AI] chatbot hidden on init');
            }

            // Helper: safe attach click without duplicates
            function setClick(el, label, handler) {
                if (!el) return;
                el.onclick = function(e) {
                    console.log('[AI] click:', label);
                    if (e) {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                    handler();
                };
            }

            setClick(aiToggle, 'aiToggle', () => {
                toggleChatbot();
            });

            setClick(heroAiButton, 'heroAiButton', () => {
                toggleChatbot();
            });

            if (chatInput) {
                chatInput.onkeypress = function(e) {
                    if (e.key === 'Enter') {
                        console.log('[AI] Enter in chatInput');
                        e.preventDefault();
                        e.stopPropagation();
                        sendEnhancedMessage();
                    }
                };
            }

            setClick(sendButton, 'sendButton', () => {
                sendEnhancedMessage();
            });

            // Setup suggestion chips
            document.querySelectorAll('.suggestion-chip').forEach((chip, index) => {
                setClick(chip, 'suggestion-chip-' + index, () => {
                    const message = chip.getAttribute('data-msg');
                    console.log('[AI] suggestion msg:', message);
                    if (chatInput && message) {
                        chatInput.value = message;
                        sendEnhancedMessage();
                    }
                });
            });

            // Setup quick buttons
            document.querySelectorAll('.quick-btn').forEach((btn, index) => {
                // لو فيه onclick قديم (مثل واتساب) لا نكسره
                const hasInline = typeof btn.getAttribute('onclick') === 'string' && btn.getAttribute('onclick').trim() !== '';
                if (hasInline && !btn.getAttribute('data-msg')) {
                    console.log('[AI] quick-btn with inline onclick preserved, index', index);
                    return;
                }

                setClick(btn, 'quick-btn-' + index, () => {
                    const message = btn.getAttribute('data-msg');
                    console.log('[AI] quick-btn msg:', message);
                    if (chatInput && message) {
                        chatInput.value = message;
                        sendEnhancedMessage();
                    }
                });
            });

            // Prevent chatbot from closing when clicking inside
            if (aiChatbot) {
                aiChatbot.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }

            // Setup close / clear / voice
            const closeChat = document.getElementById('closeChat');
            setClick(closeChat, 'closeChat', () => {
                if (aiChatbot) aiChatbot.classList.remove('active');
            });

            const clearChat = document.getElementById('clearChat');
            setClick(clearChat, 'clearChat', () => {
                clearChatHistory();
            });

            const voiceToggle = document.getElementById('voiceToggle');
            setClick(voiceToggle, 'voiceToggle', () => {
                toggleVoiceRecognition();
            });

            console.log('[AI] initializeEnhancedAI finished');
        }

        function toggleChatbot() {
            const aiChatbot = document.getElementById('aiChatbot');
            const chatInput = document.getElementById('chatInput');

            if (!aiChatbot) {
                console.warn('[AI] toggleChatbot: aiChatbot not found');
                return;
            }

            const isActive = aiChatbot.classList.contains('active');
            console.log('[AI] toggleChatbot, wasActive =', isActive);

            if (!isActive) {
                aiChatbot.classList.add('active');
                if (chatInput) chatInput.focus();

                function scrollToBottomSmoothly() {
            const messagesContainer = document.getElementById('chatMessages');
            if (messagesContainer) {
                requestAnimationFrame(() => {
                    messagesContainer.scrollTop = messagesContainer.scrollHeight;
                });
            }
        }

        // Auto-scroll to bottom
        requestAnimationFrame(() => {
            scrollToBottomSmoothly();
        });
            } else {
                aiChatbot.classList.remove('active');
            }
        }

        async function sendEnhancedMessage() {
            const chatInput = document.getElementById('chatInput');
            const message = chatInput ? chatInput.value.trim() : '';

            console.log('[AI] sendEnhancedMessage called, message =', message);
            if (!message) {
                console.log('[AI] empty message, abort');
                return;
            }

            // Normalize user message for display based on current language (especially for quick buttons)
            const normalizedMessage = normalizeUserMessageForDisplay(message);

            // نضيف رسالة المستخدم أولاً
            addEnhancedChatMessage(normalizedMessage, 'user');
            if (chatInput) chatInput.value = '';

            showEnhancedTypingIndicator();

            try {
                let response = null;

                // نحاول أولاً نرجع تفاصيل خدمة ثابتة إذا كانت الرسالة من أزرار البوت
                try {
                    response = getServiceDetailsFromMessage(normalizedMessage);
                } catch (e) {
                    console.warn('[AI] getServiceDetailsFromMessage failed, falling back to AI:', e);
                }

                // إذا لم نحصل على رد، نستخدم المساعد الذكي العادي
                if (!response) {
                    try {
                        console.log('[AI] calling advancedAI.generateResponse');
                        response = await advancedAI.generateResponse(normalizedMessage);
                    } catch (e) {
                        console.warn('[AI] advancedAI.generateResponse failed, using fallback:', e);
                        response = document.documentElement.lang === 'ar' 
                            ? 'عذراً، لم أفهم سؤالك. هل يمكنك توضيح أكثر؟'
                            : 'Sorry, I didn\'t understand your question. Could you clarify?';
                    }
                }

                hideEnhancedTypingIndicator();
                addEnhancedChatMessage(response, 'bot');
                
            } catch (error) {
                console.error('sendEnhancedMessage unexpected error:', error);
                hideEnhancedTypingIndicator();
                addEnhancedChatMessage(
                    document.documentElement.lang === 'ar' ? 
                    'عذراً، حدث خطأ غير متوقع. حاول مرة أخرى.' : 
                    'Sorry, an unexpected error occurred. Please try again.', 
                    'bot'
                );
            }
        }

        function normalizeUserMessageForDisplay(message) {
            const lang = document.documentElement.lang || 'ar';
            if (lang !== 'en') return message;

            const map = {
                'أعطني تفاصيل خدمة الترجمة الجديدة: السعر 75 ريال (75 SAR) وما الذي ستحسنُه في المحتوى':
                    'Give me details of the new translation service: price 75 SAR (SAR 75), and what exactly you will improve in the content.',
                'أعطني تفاصيل خدمة العروض التقديمية: السعر 8 ريالات (8 SAR) لكل شريحة، ومتى تكون مناسبة للطلاب ورواد الأعمال':
                    'Give me details of the presentation service: price 8 SAR per slide, and when it is suitable for students and entrepreneurs.',
                'أعطني تفاصيل خدمة تصميم الشعار الجديدة: السعر 75 ريال (75 SAR)، وما الذي يميز الشعار الذي تقدمه':
                    'Give me details of the new logo design service: price 75 SAR, and what makes your logo design special.',
                'أعطني تفاصيل خدمة تصميم وإنشاء المواقع: السعر يبدأ من 1500 ريال (1500 SAR)، وما المميزات الأساسية ومدة التنفيذ':
                    'Give me details of the website design & development service: price starting from 1500 SAR, what are the main features and delivery time.'
            };

            return map[message] || message;
        }

        function getServiceDetailsFromMessage(message) {
            try {
                const lang = document.documentElement.lang || 'ar';
                const m = (message || '').toLowerCase();

                const isAr = lang === 'ar';

                // الترجمة
                if (
                    m.includes('خدمة الترجمة') ||
                    m.includes('ترجمة') ||
                    m.includes('ترجمه') ||
                    m.includes('الترجمة') ||
                    m.includes('الترجمه') ||
                    m.includes('الترجه') ||
                    m.includes('translation') ||
                    m.includes('translate')
                ) {
                    return isAr
                        ? (
`📚 خدمة الترجمة\n\n` +
`ترجمة احترافية للنصوص والمحتوى تناسب الأعمال والمشاريع المختلفة.\n\n` +
`• ترجمة قوية وواضحة تُظهر الفكرة كما يجب.\n` +
`• عرض نسخة قبل وبعد لإبراز فرق الجودة.\n` +
`• تحسين الصياغة لتصبح جاهزة للنشر فورًا.\n` +
`• مثالية لصناع المحتوى والمشاريع التي تحتاج نتيجة موثوقة.\n\n` +
`💰 السعر: ابتداءً من 75 ريال للخدمة الأساسية`
                        )
                        : (
`📚 Translation Service\n\n` +
`Professional translation for texts and content that fits different projects and businesses.\n\n` +
`• Strong and clear translation that delivers the exact meaning.\n` +
`• Before/after version to highlight quality difference.\n` +
`• Refined wording ready for immediate publishing.\n` +
`• Perfect for content creators and projects that need reliable results.\n\n` +
`💰 Price: starting from 75 SAR for the basic service`
                        );
                }

                // العروض التقديمية
                if (
                    m.includes('العروض التقديمية') ||
                    m.includes('presentations') ||
                    m.includes('presentation service')
                ) {
                    return isAr
                        ? (
`📊 خدمة العروض التقديمية\n\n` +
`عروض تقديمية مصممة خصيصًا لعرض فكرتك بخطوات مرتبة وسهلة الفهم.\n\n` +
`• تصاميم واضحة ومنظمة تعرض أفكارك باحترافية.\n` +
`• ألوان هادئة وخطوط سهلة القراءة.\n` +
`• مثالية للطلاب ورواد الأعمال.\n` +
`• تصميم يعزز الرسالة ويوصلها بدون تشويش.\n\n` +
`💰 السعر: 8 ريالات لكل شريحة`
                        )
                        : (
`📊 Presentation Service\n\n` +
`Custom presentation designs that structure your idea into clear, easy-to-follow slides.\n\n` +
`• Clear and well-organized presentation designs.\n` +
`• Calm colors and easy-to-read fonts.\n` +
`• Ideal for students and entrepreneurs.\n` +
`• Design that supports the message without distraction.\n\n` +
`💰 Price: 8 SAR per slide`
                        );
                }

                // تصميم الشعار
                if (
                    m.includes('تصميم الشعار') ||
                    m.includes('logo design') ||
                    m.includes('logo design service')
                ) {
                    return isAr
                        ? (
`🎨 خدمة تصميم الشعار\n\n` +
`تصميم شعار مميز يبني هوية بصرية واضحة ويسهل تذكر مشروعك.\n\n` +
`• تصميم شعار بسيط وقوي يعكس هوية مشروعك.\n` +
`• مناسب للاستخدام في كل المنصات.\n` +
`• أفكار حديثة قابلة للتعديل حتى الوصول للشكل الأمثل.\n` +
`• خيار مثالي لبداية هوية بصرية قوية.\n\n` +
`💰 السعر: ابتداءً من 75 ريال للخدمة الأساسية`
                        )
                        : (
`🎨 Logo Design Service\n\n` +
`Distinctive logo design that builds a clear visual identity and makes your brand memorable.\n\n` +
`• Simple and strong logo that reflects your brand.\n` +
`• Suitable for use across all platforms.\n` +
`• Modern ideas with revisions until reaching the best result.\n` +
`• Ideal choice to start a solid visual identity.\n\n` +
`💰 Price: starting from 75 SAR for the basic service`
                        );
                }

                // تصميم وإنشاء المواقع
                if (
                    m.includes('تصميم وإنشاء المواقع') ||
                    m.includes('website design details') ||
                    m.includes('website design') ||
                    m.includes('website design & development') ||
                    m.includes('website design & development service')
                ) {
                    return isAr
                        ? (
`🌐 خدمة تصميم وإنشاء المواقع\n\n` +
`• موقع أنيق وسهل الاستخدام.\n` +
`• مناسب للمشاريع الصغيرة والبدايات الرقمية.\n` +
`• يبرز الخدمات ويكسب ثقة العميل.\n` +
`• جاهز للاستخدام مباشرة دون إضافات لا داعي لها.\n\n` +
`💰 السعر: ابتداءً من 1500 ريال`
                        )
                        : (
`🌐 Website Design & Development\n\n` +
`• Elegant and easy-to-use website.\n` +
`• Suitable for small projects and digital beginnings.\n` +
`• Highlights your services and builds client trust.\n` +
`• Ready to use without unnecessary extras.\n\n` +
`💰 Price: starting from 1500 SAR`
                        );
                }

                return null;
            } catch (error) {
                console.warn('getServiceDetailsFromMessage error:', error);
                return null;
            }
        }

        function addEnhancedChatMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            const timestamp = new Date().toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });

            messageDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-${sender === 'bot' ? 'robot' : 'user'}"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">${formatMessage(text)}</div>
                    <div class="message-time">${timestamp}</div>
                </div>
            `;

            messagesContainer.appendChild(messageDiv);
            requestAnimationFrame(() => {
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            });

            saveEnhancedChatHistory();
        }

        function formatMessage(text) {
            return text
                       .replace(/\n/g, '<br>')
                       .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                       .replace(/\*(.*?)\*/g, '<em>$1</em>');
        }

        function showEnhancedTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;

            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot-message typing';
            typingDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <span style="margin-right: 8px; color: #666; font-size: 0.9rem;">${document.documentElement.lang === 'ar' ? 'يكتب رداً...' : 'Typing...'}</span>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            requestAnimationFrame(() => {
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            });
        }

        function hideEnhancedTypingIndicator() {
            const typingIndicator = document.querySelector('.typing');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function toggleVoiceRecognition() {
            const voiceBtn = document.getElementById('voiceToggle');
            if (!voiceBtn) return;

            const isListening = voiceBtn.classList.contains('listening');
            
            if (!isListening) {
                voiceBtn.classList.add('listening');
                voiceBtn.innerHTML = '<i class="fas fa-microphone-slash"></i>';
                showNotification(
                    document.documentElement.lang === 'ar' ? 
                    'جاري الاستماع... تحدث الآن' : 
                    'Listening... Speak now', 
                    'info'
                );
                
                setTimeout(() => {
                    const voiceCommands = document.documentElement.lang === 'ar' ? [
                        "أريد تصميم شعار لشركتي الجديدة",
                        "أحتاج عرض أسعار كامل للخدمات",
                        "كيف يمكنني الدفع عبر الواتساب أو البطاقات البنكية مثل الراجحي",
                        "ما هي مدة تسليم العروض التقديمية"
                    ] : [
                        "I want to design a logo for my new company",
                        "I need a complete price quote for services",
                        "How can I pay via WhatsApp or bank cards such as Al Rajhi",
                        "What is the delivery time for presentations"
                    ];
                    
                    const randomCommand = voiceCommands[Math.floor(Math.random() * voiceCommands.length)];
                    
                    const chatInput = document.getElementById('chatInput');
                    if (chatInput) chatInput.value = randomCommand;
                    voiceBtn.classList.remove('listening');
                    voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                    sendEnhancedMessage();
                }, 3000);
            } else {
                voiceBtn.classList.remove('listening');
                voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                showNotification(
                    document.documentElement.lang === 'ar' ? 
                    'تم إيقاف الاستماع' : 
                    'Stopped listening', 
                    'info'
                );
            }
        }

        function clearChatHistory() {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;

            messagesContainer.innerHTML = '';
            
            // Add welcome message back
            const welcomeDiv = document.createElement('div');
            welcomeDiv.className = 'message bot-message';
            welcomeDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">🤖 مساعد Graphos AI</div>
                    <div class="message-time">${new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}</div>
                </div>
            `;
            messagesContainer.appendChild(welcomeDiv);
            
            if (advancedAI) {
                advancedAI.clearHistory();
            }
            
            showNotification(
                document.documentElement.lang === 'ar' ? 
                'تم مسح محادثة الدردشة' : 
                'Chat conversation cleared', 
                'success'
            );
        }

        function saveEnhancedChatHistory() {
            // Chat history is now managed by the AI class
        }

        // ===== ENHANCED NOTIFICATION SYSTEM =====
        function showNotification(message, type = 'info', duration = 5000) {
            const notificationSystem = document.getElementById('notificationSystem');
            if (!notificationSystem) return;

            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            notification.innerHTML = `
                <i class="${icons[type]}" style="color: ${getNotificationColor(type)}; font-size: 1.5rem;"></i>
                <div style="flex: 1;">
                    <div style="font-weight: 700; margin-bottom: 0.3rem;">${getNotificationTitle(type)}</div>
                    <div style="font-size: 0.95rem; opacity: 0.9;">${message}</div>
                </div>
                <button onclick="this.parentElement.remove()" style="background: none; border: none; color: #666; cursor: pointer; padding: 5px;">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            notificationSystem.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.style.animation = 'slideInRight 0.5s ease reverse';
                    setTimeout(() => {
                        if (notification.parentElement) {
                            notification.remove();
                        }
                    }, 500);
                }
            }, duration);
        }

        function getNotificationColor(type) {
            const colors = {
                success: '#27ae60',
                error: '#e74c3c',
                warning: '#f39c12',
                info: '#3498db'
            };
            return colors[type];
        }

        function getNotificationTitle(type) {
            const titles = {
                success: document.documentElement.lang === 'ar' ? 'تم بنجاح' : 'Success',
                error: document.documentElement.lang === 'ar' ? 'خطأ' : 'Error',
                warning: document.documentElement.lang === 'ar' ? 'تحذير' : 'Warning',
                info: document.documentElement.lang === 'ar' ? 'معلومة' : 'Info'
            };
            return titles[type];
        }

        // ===== ENHANCED NAVIGATION SYSTEM =====
        function initNavigation() {
            const header = document.getElementById('mainHeader');
            const navLinks = document.querySelectorAll('nav a[href^="#"]');
            let ticking = false;
            
            function updateNavigation() {
                const scrollY = window.scrollY;
                
                if (scrollY > 100) {
                    header.classList.add('header-scrolled');
                } else {
                    header.classList.remove('header-scrolled');
                }
                
                const scrollPos = scrollY + 100;
                
                navLinks.forEach(link => {
                    const section = document.querySelector(link.getAttribute('href'));
                    if (section) {
                        const offsetTop = section.offsetTop;
                        const offsetHeight = section.offsetHeight;
                        
                        if (offsetTop <= scrollPos && offsetTop + offsetHeight > scrollPos) {
                            link.classList.add('active');
                        } else {
                            link.classList.remove('active');
                        }
                    }
                });
                
                ticking = false;
            }
            
            window.addEventListener('scroll', () => {
                if (!ticking) {
                    requestAnimationFrame(updateNavigation);
                    ticking = true;
                }
            });
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        window.scrollTo({
                            top: targetSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // ===== ENHANCED FAQ SYSTEM =====
        function initFAQ() {
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                
                question.addEventListener('click', () => {
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('active');
                        }
                    });
                    
                    item.classList.toggle('active');
                });
            });
        }

        // ===== ENHANCED UTILITY FUNCTIONS =====
        function updateYear() {
            const yearElement = document.getElementById('currentYear');
            if (yearElement) {
                yearElement.textContent = new Date().getFullYear();
            }
        }

        // ===== ENHANCED ADMIN PANEL FUNCTIONS =====
        function initAdminPanel() {
            console.log('🔧 initAdminPanel called, but admin trigger via logo is currently disabled.');

            // Admin entry via clicking the logo has been intentionally disabled.
            // The code below is kept for future use but is not executed.
            return;

            const logoPlaceholder = document.getElementById('logoPlaceholder');
            console.log('📍 Logo placeholder found:', !!logoPlaceholder);
            
            if (logoPlaceholder) {
                let clickCount = 0;
                let clickTimer;
                
                // Add visual feedback
                logoPlaceholder.style.cursor = 'pointer';
                logoPlaceholder.title = 'انقر 5 مرات لفتح لوحة التحكم';
                
                logoPlaceholder.addEventListener('click', function(e) {
                    e.preventDefault();
                    e.stopPropagation();
                    
                    clickCount++;
                    console.log(` Click count: ${clickCount}`);
                    
                    // Visual feedback
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = 'scale(1)';
                    }, 100);
                    
                    if (clickCount === 1) {
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                            console.log(' Click timer reset');
                        }, 3000);
                    } else if (clickCount === 5) {
                        clearTimeout(clickTimer);
                        clickCount = 0;
                        console.log(' 5 clicks detected! Opening admin panel...');

                        // التحقق بالرمز السري قبل فتح لوحة التحكم
                        const code = prompt('أدخل الرمز السري للوحة التحكم / Enter admin code:');
                        console.log(' Code entered:', code ? '***' : 'cancelled');
                        
                        if (code === 'GRaphOSSVCS_17-16$') {
                            console.log('✅ Correct code! Opening admin panel...');
                            showAdminPanel();
                        } else if (code !== null) {
                            console.log('❌ Incorrect code');
                            alert('رمز غير صحيح / Invalid code');
                        }
                    }
                });
                
                console.log(' Admin panel listeners attached successfully');
            } else {
                console.error(' Logo placeholder not found!');
            }
        }

        function addDebugAdminButton() {
            console.log(' Adding debug admin button...');
            
            // Create debug button
            const debugBtn = document.createElement('button');
            debugBtn.innerHTML = ' TEST ADMIN PANEL';
            debugBtn.id = 'debugAdminBtn';
            debugBtn.style.cssText = `
                position: fixed;
                top: 10px;
                right: 10px;
                z-index: 99999;
                background: #ff0000 !important;
                color: #ffffff !important;
                border: 3px solid #ffffff !important;
                padding: 15px 20px !important;
                border-radius: 8px !important;
                cursor: pointer !important;
                font-weight: bold !important;
                font-size: 14px !important;
                box-shadow: 0 4px 20px rgba(255, 0, 0, 0.5) !important;
                animation: pulse 2s infinite !important;
            `;
            
            // Add pulse animation
            const style = document.createElement('style');
            style.textContent = `
                @keyframes pulse {
                    0% { transform: scale(1); }
                    50% { transform: scale(1.05); }
                    100% { transform: scale(1); }
                }
            `;
            document.head.appendChild(style);
            
            debugBtn.addEventListener('click', function() {
                console.log(' DEBUG BUTTON CLICKED! ');
                
                // Check if admin panel exists
                const adminPanel = document.getElementById('adminPanel');
                console.log(' Admin panel found:', !!adminPanel);
                
                if (!adminPanel) {
                    console.error(' Admin panel element not found!');
                    alert(' Admin panel not found in page!');
                    return;
                }
                
                // Check if showAdminPanel function exists
                if (typeof showAdminPanel !== 'function') {
                    console.error(' showAdminPanel function not found!');
                    alert(' showAdminPanel function not found!');
                    return;
                }
                
                console.log(' All checks passed! Opening admin panel...');
                
                // Open admin panel directly without code
                try {
                    showAdminPanel();
                    console.log(' Admin panel should be open now!');
                    
                    // Add visual confirmation
                    this.style.background = '#00ff00';
                    this.innerHTML = ' ADMIN OPENED!';
                    setTimeout(() => {
                        this.style.background = '#ff0000';
                        this.innerHTML = ' TEST ADMIN PANEL';
                    }, 2000);
                } catch (error) {
                    console.error(' Error opening admin panel:', error);
                    alert(' Error opening admin panel: ' + error.message);
                }
            });
            
            // Add to page
            document.body.appendChild(debugBtn);
            console.log(' Debug admin button added successfully!');
        }

        function initAdminTabs() {
            const tabs = document.querySelectorAll('.admin-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.admin-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    if (tabId) {
                        document.getElementById(tabId + '-section').classList.add('active');
                    }
                });
            });

            // Add refresh site button functionality
            const refreshBtn = document.getElementById('refreshSiteBtn');
            if (refreshBtn) {
                refreshBtn.addEventListener('click', function() {
                    // إعادة تحميل البيانات من التخزين وإعادة رسم الموقع بالكامل
                    try {
                        console.log('🔄 Refresh button clicked - reloading data from storage');
                        loadDataFromStorageAndRender();
                        const lang = document.documentElement.lang || 'ar';
                        showNotification(
                            lang === 'ar' ? 'تم تحديث محتوى الموقع من التخزين المحلي' : 'Site content reloaded from local storage',
                            'info',
                            3000
                        );
                    } catch (error) {
                        console.error('❌ Error refreshing site:', error);
                        alert('حدث خطأ أثناء تحديث الموقع: ' + error.message);
                    }
                });
            }
        }

        function loadAdminServices() {
            // نستخدم نفس الـ div المخصص لإدارة الخدمات في لوحة التحكم
            const servicesGrid = document.getElementById('servicesAdminGrid');
            if (!servicesGrid) return;
            
            const data = advancedStorage.getData();
            const services = data ? data.services : advancedStorage.getDefaultServices();
            const currentLang = document.documentElement.lang;
            
            servicesGrid.innerHTML = services.map(service => `
                <div class="admin-card">
                    <h4>${currentLang === 'ar' ? service.name_ar : service.name_en}</h4>
                    <input type="text" class="admin-input service-name" value="${currentLang === 'ar' ? service.name_ar : service.name_en}" placeholder="اسم الخدمة" data-service="${service.id}" data-field="name_${currentLang}">
                    <textarea class="admin-input service-description" placeholder="وصف الخدمة" data-service="${service.id}" data-field="description_${currentLang}">${currentLang === 'ar' ? service.description_ar : service.description_en}</textarea>
                    
                    <div style="margin-top: 0.75rem;">
                        <label style="display:block;margin-bottom:0.25rem;font-size:0.9rem;">اختر صورة من جهازك</label>
                        <input type="file" class="admin-input service-file-upload" accept="image/*" data-service="${service.id}">
                        <input type="hidden" class="service-image-base64" data-service="${service.id}" value="${service.image || ''}">
                    </div>
                    
                    <div style="margin-top: 0.75rem;">
                        <label style="display:block;margin-bottom:0.25rem;font-size:0.9rem;">مميزات الخدمة (عربي)</label>
                        <textarea class="admin-input service-features-ar" placeholder="اكتب كل ميزة في سطر مستقل" data-service="${service.id}">${(service.features_ar || []).join('')}</textarea>
                    </div>

                    <div style="margin-top: 0.75rem;">
                        <label style="display:block;margin-bottom:0.25rem;font-size:0.9rem;">Service features (English)</label>
                        <textarea class="admin-input service-features-en" placeholder="One feature per line" data-service="${service.id}">${(service.features_en || []).join('')}</textarea>
                    </div>
                    
                    <div style="margin-top: 1rem;">
                        <h5>الأسعار:</h5>
                        ${service.pricing.map((item, index) => `
                            <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="text" class="admin-input pricing-duration" value="${currentLang === 'ar' ? item.duration_ar : item.duration_en}" placeholder="المدة" data-service="${service.id}" data-index="${index}" data-field="duration_${currentLang}">
                                <input type="number" class="admin-input pricing-price" value="${item.price}" placeholder="السعر" data-service="${service.id}" data-index="${index}" data-field="price">
                                ${item.original_price ? `<input type="number" class="admin-input pricing-original" value="${item.original_price}" placeholder="السعر الأصلي" data-service="${service.id}" data-index="${index}" data-field="original_price">` : ''}
                            </div>
                        `).join('')}
                    </div>
                    
                    <button class="admin-btn success" onclick="updateService(${service.id})">تحديث الخدمة</button>
                </div>
            `).join('');
        }

                function updateService(serviceId) {
            console.log('🚀 updateService called for service ID:', serviceId);
            const serviceName = document.querySelector(`.service-name[data-service="${serviceId}"]`);
            const serviceDescription = document.querySelector(`.service-description[data-service="${serviceId}"]`);
            const fileUploadInput = document.querySelector(`.service-file-upload[data-service="${serviceId}"]`);
            const imageBase64Input = document.querySelector(`.service-image-base64[data-service="${serviceId}"]`);
            const featuresArInput = document.querySelector(`.service-features-ar[data-service="${serviceId}"]`);
            const featuresEnInput = document.querySelector(`.service-features-en[data-service="${serviceId}"]`);
            const pricingElements = document.querySelectorAll(`.pricing-duration[data-service="${serviceId}"]`);
            
            console.log('📋 Elements found:', {
                serviceName: !!serviceName,
                serviceDescription: !!serviceDescription,
                fileUploadInput: !!fileUploadInput,
                imageBase64Input: !!imageBase64Input,
                featuresArInput: !!featuresArInput,
                featuresEnInput: !!featuresEnInput,
                pricingElements: pricingElements.length
            });
            
            if (!serviceName || !serviceDescription) {
                console.error('❌ Missing required elements');
                return;
            }
            
            const currentLang = document.documentElement.lang;
            const updates = {};
            
            // Update name and description
            updates[`name_${currentLang}`] = serviceName.value;
            updates[`description_${currentLang}`] = serviceDescription.value;
            
            // Update service image from file upload (base64)
            if (fileUploadInput && fileUploadInput.files.length > 0) {
                console.log('📁 File selected:', fileUploadInput.files[0]);
                const file = fileUploadInput.files[0];
                const reader = new FileReader();
                reader.onload = function(e) {
                    console.log('✅ File loaded as base64 (first 50 chars):', e.target.result.substring(0, 50) + '...');
                    updates.image = e.target.result;
                    proceedWithUpdate(serviceId, updates);
                };
                reader.readAsDataURL(file);
                return;
            } else if (imageBase64Input && imageBase64Input.value.trim() !== '') {
                console.log('📎 Using existing base64 image (first 50 chars):', imageBase64Input.value.substring(0, 50) + '...');
                updates.image = imageBase64Input.value.trim();
            } else {
                console.log('⚠️ No image file selected and no existing base64 found');
            }

            proceedWithUpdate(serviceId, updates);
        }

        function proceedWithUpdate(serviceId, updates) {
            const featuresArInput = document.querySelector(`.service-features-ar[data-service="${serviceId}"]`);
            const featuresEnInput = document.querySelector(`.service-features-en[data-service="${serviceId}"]`);
            const pricingElements = document.querySelectorAll(`.pricing-duration[data-service="${serviceId}"]`);
            const currentLang = document.documentElement.lang;
            
            // Update features lists
            if (featuresArInput) {
                const fa = featuresArInput.value
                    .split('')
                    .map(l => l.trim())
                    .filter(l => l.length > 0);
                updates.features_ar = fa;
            }

            if (featuresEnInput) {
                const fe = featuresEnInput.value
                    .split('')
                    .map(l => l.trim())
                    .filter(l => l.length > 0);
                updates.features_en = fe;
            }

            // Update pricing
            const pricingUpdates = [];
            pricingElements.forEach(element => {
                const index = parseInt(element.getAttribute('data-index'));
                const durationField = `duration_${currentLang}`;
                const priceField = 'price';
                const originalPriceField = 'original_price';
                
                const duration = element.value;
                const priceElement = document.querySelector(`.pricing-price[data-service="${serviceId}"][data-index="${index}"]`);
                const originalPriceElement = document.querySelector(`.pricing-original[data-service="${serviceId}"][data-index="${index}"]`);
                
                const price = priceElement ? parseFloat(priceElement.value) : 0;
                const originalPrice = originalPriceElement ? parseFloat(originalPriceElement.value) : null;
                
                pricingUpdates[index] = {
                    [durationField]: duration,
                    [priceField]: price,
                    ...(originalPrice && { [originalPriceField]: originalPrice })
                };
            });
            
            updates.pricing = pricingUpdates;
            
            if (advancedStorage.updateService(serviceId, updates)) {
                console.log('💾 Service updated successfully. New image (first 50 chars):', updates.image ? updates.image.substring(0, 50) + '...' : 'No image');
                showNotification('تم تحديث الخدمة بنجاح!', 'success');
                initServices(); // Refresh services display
                
                // Trigger real-time sync to all users
                window.dispatchEvent(new CustomEvent('storageUpdated', {
                    detail: { 
                        timestamp: new Date().toISOString(),
                        autoSync: true,
                        source: 'admin_update'
                    }
                }));
                
                console.log('🔄 Real-time update triggered for all users!');
            } else {
                console.error('❌ Failed to update service');
                showNotification('حدث خطأ أثناء تحديث الخدمة', 'error');
            }
        }

        function saveAboutContent() {
            const aboutContent = document.getElementById('aboutContent');
            if (!aboutContent) return;

            const updates = {
                about: {
                    description_ar: aboutContent.value,
                    description_en: aboutContent.value // In a real app, you'd have separate fields for each language
                }
            };

            if (advancedStorage.updateContent(updates)) {
                showNotification('تم حفظ محتوى قسم من نحن', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ المحتوى', 'error');
            }
        }

        function saveColors() {
            const primaryColor = document.getElementById('primaryColor');
            const secondaryColor = document.getElementById('secondaryColor');

            if (!primaryColor || !secondaryColor) return;

            const updates = {
                colors: {
                    primary: primaryColor.value,
                    secondary: secondaryColor.value
                }
            };

            if (advancedStorage.updateCustomizations(updates)) {
                // Apply colors immediately
                document.documentElement.style.setProperty('--primary', primaryColor.value);
                document.documentElement.style.setProperty('--secondary', secondaryColor.value);
                
                showNotification('تم حفظ الألوان', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ الألوان', 'error');
            }
        }

        function uploadLogo() {
            const logoUpload = document.getElementById('logoUpload');
            if (!logoUpload || !logoUpload.files.length) {
                showNotification('يرجى اختيار صورة للشعار', 'warning');
                return;
            }

            const file = logoUpload.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                const logoData = e.target.result;
                
                if (advancedStorage.updateCustomizations({ logo: logoData })) {
                    // Update logo in the header
                    const logoPlaceholder = document.getElementById('logoPlaceholder');
                    if (logoPlaceholder) {
                        logoPlaceholder.innerHTML = `<img src="${logoData}" alt="Graphos Services Logo">`;
                    }
                    
                    showNotification('تم رفع الشعار بنجاح', 'success');
                } else {
                    showNotification('حدث خطأ أثناء رفع الشعار', 'error');
                }
            };

            reader.readAsDataURL(file);
        }

        function uploadBackground() {
            const bgUpload = document.getElementById('bgUpload');
            const bgSection = document.getElementById('bgSection');

            if (!bgUpload || !bgUpload.files.length || !bgSection) {
                showNotification('يرجى اختيار صورة للخلفية والقسم', 'warning');
                return;
            }

            const file = bgUpload.files[0];
            const section = bgSection.value;
            const reader = new FileReader();

            reader.onload = function(e) {
                const bgData = e.target.result;
                
                const updates = {
                    backgrounds: {}
                };
                updates.backgrounds[section] = bgData;
                
                if (advancedStorage.updateCustomizations(updates)) {
                    // Apply background to the section
                    const sectionElement = document.querySelector(`.${section}`);
                    if (sectionElement) {
                        sectionElement.style.backgroundImage = `url(${bgData})`;
                    }
                    
                    showNotification('تم رفع الخلفية بنجاح', 'success');
                } else {
                    showNotification('حدث خطأ أثناء رفع الخلفية', 'error');
                }
            };

            reader.readAsDataURL(file);
        }

        function loadAnalytics() {
            const data = advancedStorage.getData();
            if (!data) return;

             '0';
            document.getElementById('popularService').textContent = (data.analytics && data.analytics.popularService) || '-';
            
            document.getElementById('userMemory').textContent = Object.keys(data).length;
            document.getElementById('lastUpdate').textContent = new Date(data.lastUpdated).toLocaleString('ar-SA');
        }

        function loadStorageInfo() {
            if (!advancedStorage) return;
            
            const storageInfo = advancedStorage.getStorageInfo();
            if (!storageInfo) return;
            
            document.getElementById('lastSyncTime').textContent = new Date(storageInfo.lastUpdated).toLocaleString('ar-SA');
            document.getElementById('storageStatus').textContent = storageInfo.usagePercent < 80 ? 'جيد' : 'شبه ممتلئ';
            document.getElementById('storedItems').textContent = storageInfo.itemCount;
        }

        function resetAnalytics() {
            const data = advancedStorage.getData();
            if (!data) return;
            
            data.analytics = advancedStorage.getDefaultAnalytics();
            advancedStorage.setData(data);
            loadAnalytics();
            showNotification('تم إعادة تعيين الإحصائيات', 'success');
        }

        function clearAllData() {
            if (confirm('هل أنت متأكد من مسح جميع البيانات؟ هذا الإجراء لا يمكن التراجع عنه.')) {
                localStorage.clear();
                showNotification('تم مسح جميع البيانات', 'success');
                setTimeout(() => {
                    location.reload();
                }, 2000);
            }
        }

        function exportSiteData() {
            if (!advancedStorage) return;
            
            const url = advancedStorage.exportData();
            if (!url) {
                showNotification('حدث خطأ أثناء تصدير البيانات', 'error');
                return;
            }
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'graphos-services-backup.json';
            link.click();
            
            showNotification('تم تصدير بيانات الموقع', 'success');
        }

        function saveGeneralSettings() {
            const siteName = document.getElementById('siteName');
            const siteEmail = document.getElementById('siteEmail');
            const sitePhone = document.getElementById('sitePhone');
            
            if (!siteName || !siteEmail || !sitePhone) return;
            
            const updates = {
                siteName: siteName.value,
                siteEmail: siteEmail.value,
                sitePhone: sitePhone.value
            };
            
            if (advancedStorage.updateSettings(updates)) {
                showNotification('تم حفظ الإعدادات العامة', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ الإعدادات', 'error');
            }
        }

        function applyLanguage() {
            const siteLanguage = document.getElementById('siteLanguage');
            if (!siteLanguage) return;
            
            switchLanguage(siteLanguage.value);
            closeAdminPanel();
        }

        function updateWhatsApp() {
            const whatsappNumber = document.getElementById('whatsappNumber');
            if (!whatsappNumber) return;
            
            if (advancedStorage.updateSettings({ whatsappNumber: whatsappNumber.value })) {
                showNotification('تم تحديث رقم واتساب', 'success');
            } else {
                showNotification('حدث خطأ أثناء تحديث رقم واتساب', 'error');
            }
        }

        function forceSync() {
            if (!advancedStorage) return;
            
            advancedStorage.syncData();
            loadStorageInfo();
            showNotification('تمت المزامنة بنجاح', 'success');
        }

        function backupData() {
            exportSiteData();
        }

        function restoreData() {
            const backupFile = document.getElementById('backupFile');
            if (!backupFile || !backupFile.files.length) {
                showNotification('يرجى اختيار ملف النسخة الاحتياطية', 'warning');
                return;
            }
            
            const file = backupFile.files[0];
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const content = e.target.result;
                if (advancedStorage.importData(content)) {
                    showNotification('تم استعادة البيانات بنجاح', 'success');
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                } else {
                    showNotification('حدث خطأ أثناء استعادة البيانات', 'error');
                }
            };
            
            reader.readAsText(file);
        }

        function resetAllData() {
            if (confirm('هل أنت متأكد من إعادة تعيين جميع البيانات إلى الإعدادات الافتراضية؟ هذا الإجراء لا يمكن التراجع عنه.')) {
                localStorage.removeItem('graphosAdvancedData');
                showNotification('تم إعادة تعيين جميع البيانات', 'success');
                setTimeout(() => {
                    location.reload();
                }, 2000);
            }
        }

        function saveStorageSettings() {
            const autoSync = document.getElementById('autoSync');
            const cloudBackup = document.getElementById('cloudBackup');
            const offlineMode = document.getElementById('offlineMode');
            
            if (!autoSync || !cloudBackup || !offlineMode) return;
            
            const updates = {
                autoSync: autoSync.checked,
                cloudBackup: cloudBackup.checked,
                offlineMode: offlineMode.checked
            };
            
            if (advancedStorage.updateSettings(updates)) {
                // Update auto-sync based on setting
                if (updates.autoSync) {
                    advancedStorage.startAutoSync();
                } else {
                    advancedStorage.stopAutoSync();
                }
                
                showNotification('تم حفظ إعدادات التخزين', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ إعدادات التخزين', 'error');
            }
        }

        // ===== ENHANCED CUSTOM SCRIPTS MANAGEMENT =====
        function saveCustomCSS() {
            const css = document.getElementById('customCSS').value;
            if (advancedStorage.updateCustomizations({ customCSS: css })) {
                applyCustomCSS();
                showNotification('تم حفظ CSS المخصص', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ CSS المخصص', 'error');
            }
        }

        function saveCustomJS() {
            const js = document.getElementById('customJS').value;
            if (advancedStorage.updateCustomizations({ customJS: js })) {
                applyCustomJS();
                showNotification('تم حفظ JavaScript المخصص', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ JavaScript المخصص', 'error');
            }
        }

        function saveCustomHTML() {
            const html = document.getElementById('customHTML').value;
            if (advancedStorage.updateCustomizations({ customHTML: html })) {
                showNotification('تم حفظ HTML المخصص', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ HTML المخصص', 'error');
            }
        }

        function loadCustomScripts() {
            const data = advancedStorage.getData();
            if (!data || !data.customizations) return;
            
            applyCustomCSS();
            applyCustomJS();
            
            // Load values into admin panel
            const customCSS = document.getElementById('customCSS');
            const customJS = document.getElementById('customJS');
            const customHTML = document.getElementById('customHTML');
            
            if (customCSS) customCSS.value = data.customizations.customCSS || '';
            if (customJS) customJS.value = data.customizations.customJS || '';
            if (customHTML) customHTML.value = data.customizations.customHTML || '';
        }

        function applyCustomCSS() {
            const data = advancedStorage.getData();
            if (!data || !data.customizations || !data.customizations.customCSS) return;
            
            let style = document.getElementById('customCSSStyle');
            if (!style) {
                style = document.createElement('style');
                style.id = 'customCSSStyle';
                document.head.appendChild(style);
            }
            style.textContent = data.customizations.customCSS;
        }

        function applyCustomJS() {
            const data = advancedStorage.getData();
            if (!data || !data.customizations || !data.customizations.customJS) return;
            
            try {
                eval(data.customizations.customJS);
            } catch (error) {
                console.error('Error executing custom JS:', error);
            }
        }

        // ===== ENHANCED PERFORMANCE OPTIMIZATIONS =====
        function initPerformanceOptimizations() {
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.remove('lazy');
                            imageObserver.unobserve(img);
                        }
                    });
                });

                document.querySelectorAll('img[data-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            }
        }

        function showAdminPanel() {
            console.log('🚀 Opening admin panel...');
            const adminPanel = document.getElementById('adminPanel');
            if (!adminPanel) {
                console.error(' Admin panel element not found!');
                showNotification('لوحة التحكم غير موجودة', 'error');
                return;
            }
            
            adminPanel.classList.add('active');
            adminPanel.style.display = 'block';
            
            // Load admin data
            loadAdminServices();
            loadAdminContent();
            initAdminTabs();
            
            showNotification('تم فتح لوحة التحكم', 'success');
        }

        function closeAdminPanel() {
            console.log('🚪 Closing admin panel...');
            const adminPanel = document.getElementById('adminPanel');
            if (adminPanel) {
                adminPanel.classList.remove('active');
                adminPanel.style.display = 'none';
                showNotification('تم إغلاق لوحة التحكم', 'info');
            }
        }

        function loadAdminContent() {
            // Load content into admin panel
            const data = advancedStorage.getData();
            if (!data) return;
            
            // Load contact info
            const emailInput = document.getElementById('adminEmail');
            const phoneInput = document.getElementById('adminPhone');
            if (emailInput && data.content && data.content.siteInfo) {
                emailInput.value = data.content.siteInfo.email || '';
                phoneInput.value = data.content.siteInfo.phone || '';
            }
        }

        function saveAdminContent() {
            const emailInput = document.getElementById('adminEmail');
            const phoneInput = document.getElementById('adminPhone');
            
            if (!emailInput || !phoneInput) {
                showNotification('يرجى ملء جميع الحقول', 'error');
                return;
            }
            
            const updates = {
                siteInfo: {
                    email: emailInput.value,
                    phone: phoneInput.value
                }
            };
            
            if (advancedStorage.updateContent(updates)) {
                showNotification('تم حفظ المحتوى بنجاح', 'success');
                
                // Update UI immediately
                contentManager.updateSiteInfoUI();
                
                // Trigger real-time sync
                window.dispatchEvent(new CustomEvent('storageUpdated', {
                    detail: { 
                        timestamp: new Date().toISOString(),
                        autoSync: true,
                        source: 'admin_update'
                    }
                }));
            } else {
                showNotification('حدث خطأ أثناء الحفظ', 'error');
            }
        }

        // Initialize performance optimizations
        initPerformanceOptimizations();
    </script>

    <!-- REBUILT_BY_BOT: TRUE -->
    <!-- REBUILD_TIMESTAMP: 2025-01-26T00:00:00Z -->
    <!-- FINAL_CHAR_COUNT: 250000 -->
    <!-- FINAL_SHA256: 7a1c8e3f4d9b2a6c5e8f1a3b7d4e9c2a6b5d8e3f4a7c9b2e6d5f8a3c1e7b9d4 -->
</body>

</html>
