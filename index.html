<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval'; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com https://use.fontawesome.com https://cdn.jsdelivr.net https://unpkg.com; img-src 'self' data: https:; font-src 'self' data: https://cdnjs.cloudflare.com https://use.fontawesome.com https://cdn.jsdelivr.net https://unpkg.com https:; connect-src 'self'; media-src 'self'; object-src 'none'; frame-src 'none'; child-src 'none'; worker-src 'none'; manifest-src 'self'; form-action 'self'; base-uri 'self';">
    <meta name="robots" content="noindex, nofollow">
    <meta name="googlebot" content="noindex, nofollow">
    <meta name="google" content="notranslate">
    <meta name="format-detection" content="telephone=no">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta http-equiv="X-DNS-Prefetch-Control" content="off">
    <meta http-equiv="X-Download-Options" content="noopen">
    <meta http-equiv="X-Permitted-Cross-Domain-Policies" content="none">
    <title>Graphos Services - منصة رقمية احترافية</title>
    <!-- Font Awesome with reliable loading -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"></noscript>
    
    <!-- Backup sources -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.4.0/css/all.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    <link rel="stylesheet" href="https://unpkg.com/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" media="none" onload="if(media!='all')media='all'">
    
    <!-- Local fallback -->
    <style>
        @font-face {
            font-family: 'Font Awesome 6 Free';
            font-style: normal;
            font-weight: 900;
            font-display: block;
            src: local('Font Awesome 6 Free'), local('FontAwesome6Free');
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        /* ===== FONT AWESOME ICON SYSTEM ===== */
        
        /* Font Awesome icons */
        .fa, .fas, .far, .fab, .fal {
            display: inline-block;
            font-style: normal;
            font-variant: normal;
            text-rendering: auto;
            line-height: 1;
            min-width: 1em;
            min-height: 1em;
            opacity: 1 !important;
        }
        
        /* Service icons styling */
        .service-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
            text-align: center;
            color: var(--secondary);
            transition: all 0.3s ease;
        }
        
        .service-icon:hover {
            transform: scale(1.1);
            color: var(--primary);
        }
        
        /* Dark mode icon adjustments */
        .dark-mode .service-icon {
            color: var(--secondary);
        }
        
        .dark-mode .service-icon:hover {
            color: var(--light);
        }
        
        /* ===== COMPREHENSIVE CSS RESET AND BASE STYLES ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Cairo', Tahoma, Geneva, Verdana, sans-serif;
            -webkit-tap-highlight-color: transparent;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* ===== CRITICAL FIX: MOBILE SCROLLING SOLUTION ===== */
        html, body {
            overflow-x: hidden !important;
            height: auto !important;
            min-height: 100vh !important;
            position: relative;
            scroll-behavior: smooth !important;
            -webkit-overflow-scrolling: touch !important;
        }

        body {
            overflow-y: auto !important;
            -webkit-overflow-scrolling: touch !important;
            height: auto !important;
            max-width: 100%;
        }

        .container, section, .hero, .services, .about, .portfolio, .how-it-works, .faq, .cta-section, footer {
            overflow: visible !important;
            height: auto !important;
            max-width: 100% !important;
        }

        /* ===== ENHANCED ROOT VARIABLES WITH DARK MODE FIXES ===== */
        :root {
            /* Primary Colors */
            --primary: #0a0a0a;
            --secondary: #d4af37;
            --accent: #f8f9fa;
            --text: #2d3436;
            --light: #ffffff;
            --dark: #1a1a1a;
            
            /* Status Colors */
            --success: #27ae60;
            --warning: #f39c12;
            --error: #e74c3c;
            --info: #3498db;
            
            /* Gradients */
            --gradient: linear-gradient(135deg, #0a0a0a 0%, #2d2d2d 100%);
            --gold-gradient: linear-gradient(135deg, #d4af37 0%, #f9e076 50%, #d4af37 100%);
            --gold-light: rgba(212, 175, 55, 0.1);
            
            /* Effects */
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 20px 50px rgba(0, 0, 0, 0.15);
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --border-radius: 16px;
            --neon-glow: 0 0 10px rgba(212, 175, 55, 0.7), 0 0 20px rgba(212, 175, 55, 0.5), 0 0 30px rgba(212, 175, 55, 0.3);
            
            /* Glass Morphism */
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            
            /* Text Direction */
            --text-direction: rtl;
            --text-align: right;
        }

        /* ===== CRITICAL FIX: DARK MODE TEXT VISIBILITY ===== */
        .dark-mode {
            --primary: #f8f9fa !important;
            --secondary: #d4af37 !important;
            --accent: #1a1a1a !important;
            --text: #e9ecef !important;
            --light: #2d3436 !important;
            --dark: #f8f9fa !important;
            --gradient: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%) !important;
        }

        .dark-mode .service-card,
        .dark-mode .step-card,
        .dark-mode .testimonial-card,
        .dark-mode .pricing-card,
        .dark-mode .faq-item,
        .dark-mode .admin-content,
        .dark-mode .ai-chatbot,
        .dark-mode .notification,
        .dark-mode .hero,
        .dark-mode .about,
        .dark-mode .portfolio,
        .dark-mode .cta-section,
        .dark-mode footer {
            background: var(--accent) !important;
            color: var(--text) !important;
        }

        .dark-mode .service-card h3,
        .dark-mode .step-card h3,
        .dark-mode .testimonial-card h3,
        .dark-mode .pricing-card h3,
        .dark-mode .faq-question,
        .dark-mode .admin-content h2,
        .dark-mode .admin-content h3,
        .dark-mode .admin-content h4,
        .dark-mode .hero h1,
        .dark-mode .hero h2,
        .dark-mode .hero h3,
        .dark-mode .hero p,
        .dark-mode .about h2,
        .dark-mode .about h3,
        .dark-mode .about p,
        .dark-mode .section-header h2,
        .dark-mode .section-header p,
        .dark-mode .cta-content h2,
        .dark-mode .cta-content p,
        .dark-mode footer h3,
        .dark-mode footer p,
        .dark-mode footer a {
            color: var(--text) !important;
        }

        .dark-mode .service-card p,
        .dark-mode .step-card p,
        .dark-mode .testimonial-card p,
        .dark-mode .pricing-card p,
        .dark-mode .faq-answer,
        .dark-mode .admin-content p,
        .dark-mode .hero-description,
        .dark-mode .about-text p,
        .dark-mode .mission-card p,
        .dark-mode .vision-card p,
        .dark-mode .stat-label,
        .dark-mode .service-features,
        .dark-mode .feature-item,
        .dark-mode .quick-links a,
        .dark-mode .contact-info p {
            color: var(--text) !important;
            opacity: 0.9 !important;
        }

        [dir="ltr"] {
            --text-direction: ltr;
            --text-align: left;
        }

        [dir="rtl"] {
            --text-direction: rtl;
            --text-align: right;
        }

        body {
            background: var(--accent);
            color: var(--text);
            line-height: 1.7;
            overflow-x: hidden;
            font-size: 16px;
            direction: var(--text-direction);
            text-align: var(--text-align);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(212, 175, 55, 0.03) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(212, 175, 55, 0.03) 0%, transparent 20%);
            font-feature-settings: "kern" 1, "liga" 1, "calt" 1;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ===== ENHANCED LOADING SCREEN ===== */
        .loading-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gradient);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 99999;
            color: var(--light);
            transition: opacity 0.3s ease;
        }

        .loading-content {
            text-align: center;
            animation: fadeIn 0.5s ease;
        }

        .loading-logo {
            width: 120px;
            height: 120px;
            background: var(--gold-gradient);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            font-weight: bold;
            margin: 0 auto 2rem;
            animation: pulse 1.5s infinite;
            box-shadow: var(--neon-glow);
            border: 3px solid rgba(255, 255, 255, 0.3);
        }

        .loading-bar-container {
            width: 400px;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 2rem auto;
            position: relative;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        .loading-bar {
            height: 100%;
            background: var(--gold-gradient);
            width: 0%;
            transition: width 0.2s ease;
            position: relative;
            overflow: hidden;
            box-shadow: var(--neon-glow);
        }

        .loading-bar::after {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
            animation: shimmer 1.5s infinite;
        }

        .loading-stats {
            display: flex;
            justify-content: space-between;
            width: 400px;
            margin: 1rem auto;
            color: rgba(255,255,255,0.9);
            font-size: 1rem;
            font-weight: 600;
        }

        .loading-particles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: var(--secondary);
            border-radius: 50%;
            animation: floatParticle 8s infinite linear;
            box-shadow: 0 0 10px var(--secondary);
        }

        /* ===== ENHANCED HEADER WITH SCROLL FIX ===== */
        header {
            background: rgba(10, 10, 10, 0.95);
            color: var(--light);
            padding: 1.5rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow);
            backdrop-filter: blur(20px);
            transition: var(--transition);
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
        }

        .header-scrolled {
            padding: 1rem 0;
            background: rgba(10, 10, 10, 0.98);
            backdrop-filter: blur(30px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 20px;
            cursor: pointer;
            transition: var(--transition);
            position: relative;
        }

        .logo-container:hover {
            transform: translateY(-2px);
        }

        .logo-img {
            width: 60px;
            height: 60px;
            background: var(--gold-gradient);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.8rem;
            font-weight: bold;
            border: 3px solid rgba(212, 175, 55, 0.5);
            overflow: hidden;
            box-shadow: var(--neon-glow);
            position: relative;
        }

        .logo-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 12px;
        }

        .logo-text {
            font-size: 2.2rem;
            font-weight: 800;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 3s ease-in-out infinite alternate;
            text-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
            position: relative;
        }

        .logo-text::after {
            content: 'AI';
            position: absolute;
            top: -8px;
            right: -25px;
            font-size: 0.8rem;
            background: var(--success);
            color: white;
            padding: 2px 6px;
            border-radius: 10px;
            animation: pulse 2s infinite;
        }

        [dir="ltr"] .logo-text::after {
            right: auto;
            left: -25px;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 2.5rem;
            align-items: center;
        }

        nav ul li a {
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
            font-weight: 600;
            padding: 0.8rem 1.5rem;
            border-radius: 30px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            border: 1px solid transparent;
        }

        nav ul li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            transition: var(--transition);
            z-index: -1;
            border-radius: 30px;
        }

        nav ul li a:hover {
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
            border-color: var(--secondary);
        }

        nav ul li a:hover::before {
            left: 0;
        }

        .language-switcher {
            background: transparent;
            border: 2px solid var(--secondary);
            color: var(--secondary);
            padding: 0.8rem 1.8rem;
            border-radius: 30px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 700;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
        }

        .language-switcher::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            transition: var(--transition);
            z-index: -1;
        }

        .language-switcher:hover {
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        .language-switcher:hover::before {
            left: 0;
        }

        /* ===== ENHANCED HERO SECTION WITH SCROLL FIX ===== */
        .hero {
            background: var(--gradient);
            color: var(--light);
            padding: 180px 0 100px;
            position: relative;
            overflow: hidden;
            min-height: 100vh;
            display: flex;
            align-items: center;
            background-image: 
                radial-gradient(circle at 20% 80%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(212, 175, 55, 0.1) 0%, transparent 50%),
                linear-gradient(45deg, rgba(10, 10, 10, 0.9) 0%, rgba(45, 45, 45, 0.7) 100%);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><polygon fill="rgba(212,175,55,0.05)" points="0,1000 1000,0 1000,1000"/></svg>');
            animation: float 6s ease-in-out infinite;
        }

        .hero-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            align-items: center;
            position: relative;
            z-index: 2;
        }

        .hero-text {
            animation: slideInRight 1s ease;
        }

        [dir="ltr"] .hero-text {
            animation: slideInLeft 1s ease;
        }

        .ai-badge {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: var(--gold-gradient);
            color: var(--primary);
            padding: 1rem 2.2rem;
            border-radius: 35px;
            font-weight: 700;
            margin-bottom: 2.5rem;
            box-shadow: var(--neon-glow);
            animation: pulse 3s infinite;
            border: 2px solid rgba(255,255,255,0.3);
            position: relative;
            overflow: hidden;
        }

        .ai-badge::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 3s infinite;
        }

        .hero-title {
            font-size: 4.5rem;
            font-weight: 800;
            margin-bottom: 2rem;
            line-height: 1.1;
            background: linear-gradient(135deg, #ffffff 0%, #f9e076 50%, #ffffff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 10px 30px rgba(0,0,0,0.5);
            position: relative;
        }

        .hero-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: 0;
            width: 200px;
            height: 4px;
            background: var(--gold-gradient);
            border-radius: 2px;
            box-shadow: var(--neon-glow);
        }

        [dir="ltr"] .hero-title::after {
            right: auto;
            left: 0;
        }

        .hero-description {
            font-size: 1.6rem;
            line-height: 2;
            font-weight: 600;
            margin-bottom: 3rem;
            opacity: 0.95;
            background: rgba(255,255,255,0.1);
            padding: 2rem;
            border-radius: var(--border-radius);
            border-right: 4px solid var(--secondary);
            backdrop-filter: blur(10px);
        }

        [dir="ltr"] .hero-description {
            border-right: none;
            border-left: 4px solid var(--secondary);
        }

        .hero-buttons {
            display: flex;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .cta-button {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            padding: 1.3rem 2.8rem;
            border-radius: 35px;
            text-decoration: none;
            font-weight: 700;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1.1rem;
            position: relative;
            overflow: hidden;
            transform-style: preserve-3d;
            perspective: 1000px;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: var(--transition);
        }

        .cta-button:hover::before {
            left: 100%;
        }

        .cta-button.primary {
            background: var(--gold-gradient);
            color: var(--primary);
            box-shadow: var(--neon-glow);
            border: 2px solid rgba(255,255,255,0.3);
        }

        .cta-button.primary:hover {
            transform: translateY(-8px) scale(1.05) rotateX(10deg);
            box-shadow: 0 25px 60px rgba(212, 175, 55, 0.6), var(--neon-glow);
        }

        .cta-button.secondary {
            background: transparent;
            color: var(--light);
            border: 3px solid var(--secondary);
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(212, 175, 55, 0.2);
        }

        .cta-button.secondary:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(212, 175, 55, 0.4), var(--neon-glow);
        }

        .hero-visual {
            position: relative;
            height: 500px;
            animation: slideInLeft 1s ease;
        }

        [dir="ltr"] .hero-visual {
            animation: slideInRight 1s ease;
        }

        .floating-shapes {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .shape {
            position: absolute;
            width: 100px;
            height: 100px;
            background: var(--gold-gradient);
            border-radius: 25px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 2.5rem;
            box-shadow: var(--neon-glow);
            animation: float 6s ease-in-out infinite;
            border: 3px solid rgba(255,255,255,0.3);
            cursor: pointer;
            transition: var(--transition);
        }

        .shape:hover {
            transform: scale(1.2) rotate(15deg);
            animation-play-state: paused;
        }

        .shape-1 { top: 10%; left: 5%; animation-delay: 0s; }
        .shape-2 { top: 60%; right: 15%; animation-delay: 1.5s; }
        .shape-3 { bottom: 15%; left: 25%; animation-delay: 3s; }
        .shape-4 { top: 25%; right: 5%; animation-delay: 4.5s; }

        /* ===== ENHANCED SERVICES SECTION ===== */
        .services {
            padding: 120px 0;
            background: var(--accent);
            position: relative;
        }

        .section-header {
            text-align: center;
            margin-bottom: 5rem;
        }

        .section-header h2 {
            font-size: 3.5rem;
            color: var(--primary);
            margin-bottom: 1.5rem;
            font-weight: 800;
            position: relative;
            display: inline-block;
        }

        .section-header h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--gold-gradient);
            border-radius: 2px;
            box-shadow: var(--neon-glow);
        }

        .section-header p {
            font-size: 1.4rem;
            color: var(--text);
            opacity: 0.8;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 2.5rem;
        }

        .service-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 3rem;
            box-shadow: var(--shadow);
            transition: var(--transition);
            border: 1px solid rgba(0,0,0,0.05);
            position: relative;
            overflow: hidden;
            animation: fadeInUp 0.8s ease;
        }

        .service-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100%;
            height: 5px;
            background: var(--gold-gradient);
            box-shadow: var(--neon-glow);
        }

        [dir="ltr"] .service-card::before {
            right: auto;
            left: 0;
        }

        .service-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: var(--shadow-lg), 0 20px 40px rgba(212, 175, 55, 0.2);
        }

        .service-icon {
            width: 90px;
            height: 90px;
            background: var(--gold-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            color: var(--primary);
            font-size: 2.2rem;
            box-shadow: var(--neon-glow);
            transition: var(--transition);
            position: relative;
        }

        .service-icon::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: var(--gold-gradient);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.5;
            animation: pulse 2s infinite;
        }

        .service-card:hover .service-icon {
            transform: scale(1.1) rotate(10deg);
        }

        .service-card h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-weight: 700;
        }

        .service-card p {
            color: var(--text);
            opacity: 0.8;
            margin-bottom: 2rem;
            line-height: 1.7;
            font-size: 1.1rem;
        }

        .service-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 2rem;
            background: var(--gold-light);
            transition: var(--transition);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .service-card:hover .service-image {
            transform: scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .service-features {
            margin-bottom: 2rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 0.8rem;
            font-size: 1.1rem;
        }

        .feature-item i {
            color: var(--secondary);
            font-size: 1.2rem;
        }

        .pricing-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            background: var(--gold-light);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .pricing-table th,
        .pricing-table td {
            padding: 1.2rem;
            text-align: right;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            font-size: 1rem;
        }

        [dir="ltr"] .pricing-table th,
        [dir="ltr"] .pricing-table td {
            text-align: left;
        }

        .pricing-table th {
            background: var(--secondary);
            color: var(--primary);
            font-weight: 700;
            font-size: 1.1rem;
        }

        .pricing-table tr:last-child td {
            border-bottom: none;
        }

        .price {
            font-weight: 800;
            color: var(--secondary);
            font-size: 1.2rem;
        }

        .original-price {
            text-decoration: line-through;
            color: #999;
            font-size: 0.9em;
            margin-left: 8px;
            font-weight: 500;
        }

        [dir="ltr"] .original-price {
            margin-left: 0;
            margin-right: 8px;
        }

        .service-order-btn {
            background: var(--primary);
            color: var(--light);
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            font-size: 1rem;
            width: 100%;
            justify-content: center;
            position: relative;
            overflow: hidden;
            margin-top: 1rem;
        }

        .service-order-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: var(--transition);
        }

        .service-order-btn:hover::before {
            left: 100%;
        }

        .service-order-btn:hover {
            background: var(--secondary);
            color: var(--primary);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        .service-order-btn.whatsapp {
            background: #25D366;
            color: white;
        }

        .service-order-btn.whatsapp:hover {
            background: #128C7E;
            transform: translateY(-3px);
        }

        .negotiable {
            font-size: 1rem;
            color: var(--text);
            opacity: 0.7;
            font-style: italic;
            display: block;
            margin-top: 1.5rem;
            text-align: center;
            font-weight: 500;
            background: rgba(212, 175, 55, 0.1);
            padding: 1rem;
            border-radius: 10px;
            border: 1px dashed var(--secondary);
        }

        /* ===== ENHANCED ADMIN PANEL WITH SYNC FIX ===== */
        .admin-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.95);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 100000;
            backdrop-filter: blur(20px);
        }

        .admin-panel.active {
            display: flex;
        }

        .admin-content {
            background: var(--light);
            padding: 2rem;
            border-radius: 20px;
            max-width: 90%;
            width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-lg);
            border: 3px solid var(--secondary);
        }

        .admin-content h2 {
            color: var(--primary);
            margin-bottom: 1.5rem;
            text-align: center;
            font-size: 2rem;
        }

        .admin-tabs {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            border-bottom: 2px solid var(--gold-light);
            padding-bottom: 1rem;
            flex-wrap: wrap;
        }

        .admin-tab {
            padding: 1rem 2rem;
            background: transparent;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
            transition: var(--transition);
            color: var(--text);
        }

        .admin-tab.active {
            background: var(--gold-gradient);
            color: var(--primary);
        }

        .admin-section {
            margin-bottom: 2rem;
            display: none;
        }

        .admin-section.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .admin-section h3 {
            color: var(--secondary);
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .admin-input {
            width: 100%;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            font-family: monospace;
        }

        .admin-textarea {
            width: 100%;
            height: 200px;
            padding: 1rem;
            margin-bottom: 1rem;
            border: 2px solid #eee;
            border-radius: 8px;
            font-size: 1rem;
            font-family: monospace;
            resize: vertical;
        }

        .admin-btn {
            padding: 1rem 2rem;
            background: var(--secondary);
            color: var(--primary);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            transition: var(--transition);
        }

        .admin-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .admin-btn.danger {
            background: var(--error);
            color: white;
        }

        .admin-btn.success {
            background: var(--success);
            color: white;
        }

        .service-upload {
            margin-bottom: 1.5rem;
            padding: 1rem;
            border: 1px dashed var(--secondary);
            border-radius: 8px;
        }

        .code-editor {
            background: #1e1e1e;
            color: #d4d4d4;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 1rem;
        }

        .editor-header {
            background: #2d2d2d;
            padding: 0.5rem 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .editor-content {
            padding: 1rem;
            font-family: 'Courier New', monospace;
        }

        .admin-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .admin-card {
            background: var(--gold-light);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid rgba(212, 175, 55, 0.3);
        }

        /* ===== ENHANCED ABOUT SECTION ===== */
        .about {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
            position: relative;
        }

        .about-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 5rem;
            align-items: center;
        }

        .about-text {
            animation: slideInRight 1s ease;
        }

        .about-text h2 {
            font-size: 3.5rem;
            margin-bottom: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #f9e076 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .about-text p {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        .mission-vision {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 3rem;
        }

        .mission-card, .vision-card {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            padding: 2.5rem;
            border-radius: var(--border-radius);
            border: 1px solid rgba(255,255,255,0.2);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .mission-card::before, .vision-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            opacity: 0;
            transition: var(--transition);
            z-index: -1;
        }

        .mission-card:hover, .vision-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
        }

        .mission-card:hover::before, .vision-card:hover::before {
            opacity: 0.1;
        }

        .mission-card h3, .vision-card h3 {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
            color: var(--secondary);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .about-visual {
            position: relative;
            height: 500px;
            animation: slideInLeft 1s ease;
        }

        .visual-container {
            position: relative;
            width: 100%;
            height: 100%;
            background: rgba(255,255,255,0.05);
            border-radius: 20px;
            overflow: hidden;
            border: 2px solid rgba(212, 175, 55, 0.3);
            box-shadow: var(--neon-glow);
        }

        /* ===== ENHANCED HOW IT WORKS SECTION ===== */
        .how-it-works {
            padding: 120px 0;
            background: var(--accent);
        }

        .steps-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .step-card {
            background: var(--light);
            padding: 3rem 2.5rem;
            border-radius: var(--border-radius);
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            border: 2px solid transparent;
        }

        .step-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
            border-color: var(--secondary);
        }

        .step-number {
            width: 70px;
            height: 70px;
            background: var(--gold-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            font-weight: 800;
            color: var(--primary);
            margin: 0 auto 2rem;
            box-shadow: var(--neon-glow);
            position: relative;
        }

        .step-number::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -5px;
            right: -5px;
            bottom: -5px;
            background: var(--gold-gradient);
            border-radius: 50%;
            z-index: -1;
            opacity: 0.5;
            animation: pulse 2s infinite;
        }

        .step-card h3 {
            font-size: 1.6rem;
            margin-bottom: 1.5rem;
            color: var(--primary);
            font-weight: 700;
        }

        .step-card p {
            color: var(--text);
            opacity: 0.8;
            line-height: 1.7;
            font-size: 1.1rem;
        }

        /* ===== ENHANCED FAQ SECTION ===== */
        .faq {
            padding: 120px 0;
            background: var(--accent);
        }

        .faq-container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--light);
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow);
            overflow: hidden;
            transition: var(--transition);
        }

        .faq-item:hover {
            box-shadow: var(--shadow-lg);
        }

        .faq-question {
            padding: 2rem;
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: var(--transition);
            background: var(--gold-light);
        }

        .faq-question:hover {
            background: var(--gold-gradient);
            color: var(--primary);
        }

        .faq-answer {
            padding: 0 2rem 2rem;
            color: var(--text);
            opacity: 0.8;
            line-height: 1.7;
            font-size: 1.1rem;
            display: none;
        }

        .faq-item.active .faq-answer {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .faq-toggle {
            color: var(--secondary);
            font-size: 1.5rem;
            transition: var(--transition);
        }

        .faq-item.active .faq-toggle {
            transform: rotate(180deg);
        }

        /* ===== ENHANCED CTA SECTION ===== */
        .cta-section {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .cta-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 1000"><circle fill="rgba(212,175,55,0.05)" cx="500" cy="500" r="400"/></svg>');
            animation: rotate 20s linear infinite;
        }

        .cta-content {
            position: relative;
            z-index: 2;
            max-width: 800px;
            margin: 0 auto;
        }

        .cta-content h2 {
            font-size: 3.5rem;
            margin-bottom: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #f9e076 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .cta-content p {
            font-size: 1.4rem;
            margin-bottom: 3rem;
            opacity: 0.9;
            line-height: 1.7;
        }

        /* ===== ENHANCED FOOTER ===== */
        footer {
            background: var(--gradient);
            color: var(--light);
            padding: 5rem 0 2rem;
            position: relative;
        }

        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 4rem;
            margin-bottom: 4rem;
        }

        .footer-section h3 {
            margin-bottom: 2rem;
            position: relative;
            display: inline-block;
            font-size: 1.8rem;
            font-weight: 700;
        }

        .footer-section h3::after {
            content: '';
            display: block;
            width: 50px;
            height: 4px;
            background: var(--secondary);
            margin-top: 0.8rem;
            border-radius: 2px;
            box-shadow: var(--neon-glow);
        }

        .contact-info p {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .quick-links {
            list-style: none;
        }

        .quick-links li {
            margin-bottom: 1.2rem;
        }

        .quick-links a {
            color: var(--light);
            text-decoration: none;
            transition: var(--transition);
            opacity: 0.9;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quick-links a:hover {
            opacity: 1;
            color: var(--secondary);
            transform: translateX(10px);
        }

        .social-links {
            display: flex;
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .social-links a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            color: var(--light);
            transition: var(--transition);
            font-size: 1.3rem;
            position: relative;
            overflow: hidden;
        }

        .social-links a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: var(--gold-gradient);
            transition: var(--transition);
            z-index: -1;
        }

        .social-links a:hover {
            color: var(--primary);
            transform: translateY(-5px) scale(1.1);
            box-shadow: var(--neon-glow);
        }

        .social-links a:hover::before {
            left: 0;
        }

        .footer-bottom {
            text-align: center;
            padding-top: 3rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .footer-bottom p {
            margin-bottom: 0;
            color: rgba(255,255,255,0.7);
            font-size: 0.9rem;
        }

        /* Social Media Fixed Position */
        .social-media-fixed {
            position: fixed;
            bottom: 20px;
            left: 20px;
            display: flex;
            flex-direction: column;
            gap: 12px;
            z-index: 1000;
        }

        .social-media-fixed .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 20px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255,255,255,0.1);
        }

        .social-media-fixed .social-btn:hover {
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        .social-media-fixed .social-btn.tiktok {
            background: linear-gradient(135deg, #000000, #ff0050);
            color: white;
        }

        .social-media-fixed .social-btn.x-twitter {
            background: linear-gradient(135deg, #1da1f2, #14171a);
            color: white;
        }

        .social-media-fixed .social-btn.instagram {
            background: linear-gradient(135deg, #5851db, #c13584, #e1306c, #fd1d1d);
            color: white;
        }

        /* Dark mode support */
        [data-theme="dark"] .social-media-fixed .social-btn {
            border-color: rgba(255,255,255,0.2);
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .social-media-fixed {
                bottom: 15px;
                left: 15px;
                gap: 10px;
            }
            
            .social-media-fixed .social-btn {
                width: 45px;
                height: 45px;
                font-size: 18px;
            }
        }

        /* Social Media Buttons */
        .social-media-buttons {
            display: flex;
            gap: 1.5rem;
            align-items: center;
            justify-content: center;
        }

        .social-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
            font-size: 1.3rem;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .social-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.1), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s;
        }

        .social-btn:hover::before {
            transform: translateX(100%);
        }

        .social-btn:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        }

        .social-btn.tiktok {
            background: linear-gradient(45deg, #000000, #FF0050, #00F2EA);
            color: white;
        }

        .social-btn.x-twitter {
            background: linear-gradient(45deg, #000000, #1DA1F2);
            color: white;
        }

        .social-btn.instagram {
            background: linear-gradient(45deg, #833AB4, #FD1D1D, #F77737, #FCAF45, #E1306C, #C13584);
            color: white;
        }

        .social-btn i {
            z-index: 1;
            position: relative;
        }

        /* Dark mode adjustments */
        .dark-mode .social-btn {
            box-shadow: 0 4px 15px rgba(255, 255, 255, 0.1);
        }

        .dark-mode .social-btn:hover {
            box-shadow: 0 8px 25px rgba(255, 255, 255, 0.2);
        }

        /* Mobile responsiveness */
        @media (max-width: 768px) {
            .social-media-buttons {
                gap: 1rem;
            }
            
            .social-btn {
                width: 45px;
                height: 45px;
                font-size: 1.1rem;
            }
        }

        /* ===== ENHANCED AI ASSISTANT ===== */
        .ai-assistant {
            position: fixed;
            bottom: 40px;
            left: 40px;
            z-index: 1000;
        }

        [dir="ltr"] .ai-assistant {
            left: auto;
            right: 40px;
        }

        .ai-chatbot {
            position: fixed;
            bottom: 120px;
            left: 40px;
            width: 360px;
            max-height: 80vh;
            display: none;
            flex-direction: column;
            background: #ffffff;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            overflow: hidden;
        }

        .ai-chatbot.active {
            display: flex;
        }

        [dir="ltr"] .ai-chatbot {
            left: auto;
            right: 40px;
        }

        .ai-toggle {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: var(--neon-glow);
            transition: var(--transition);
            position: relative;
            border: none;
            animation: pulseEnhanced 2s infinite;
        }

        .ai-pulse {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            background: var(--gold-gradient);
            opacity: 0;
            animation: pulse 2s infinite;
        }

        .chat-header {
            background: var(--gradient);
            color: var(--light);
            padding: 1.2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .chat-title {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .chat-title h3 {
            margin: 0;
            font-size: 1.2rem;
            font-weight: 700;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.8rem;
            opacity: 0.9;
        }

        .status.online::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            display: inline-block;
            margin-right: 5px;
            animation: pulse 2s infinite;
            box-shadow: 0 0 10px var(--success);
        }

        .chat-actions {
            display: flex;
            gap: 8px;
        }

        .chat-btn {
            background: transparent;
            border: none;
            color: var(--light);
            cursor: pointer;
            padding: 6px;
            border-radius: 6px;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .chat-btn:hover {
            background: rgba(255,255,255,0.1);
            transform: scale(1.1);
        }

        .chat-messages {
            flex: 1;
            padding: 1.2rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            max-height: 420px;
            background: #fafafa;
        }

        .dark-mode .chat-messages {
            background: #2d3436 !important;
        }

        .message {
            display: flex;
            gap: 10px;
            animation: messageSlide 0.4s ease;
        }

        .message.bot-message {
            align-self: flex-start;
        }

        .message.user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            flex-shrink: 0;
            font-size: 1rem;
            box-shadow: var(--neon-glow);
        }

        .message-content {
            max-width: 75%;
        }

        .message-text {
            padding: 12px 16px;
            border-radius: 18px;
            background: var(--gold-light);
            line-height: 1.6;
            font-size: 0.9rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .user-message .message-text {
            background: var(--gradient);
            color: var(--light);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .message-time {
            font-size: 0.7rem;
            color: #666;
            margin-top: 6px;
            text-align: center;
        }

        .typing-indicator {
            display: inline-flex;
            gap: 5px;
            padding: 12px 16px;
            align-items: center;
            background: var(--gold-light);
            border-radius: 18px;
        }

        .typing-dot {
            width: 8px;
            height: 8px;
            background: var(--secondary);
            border-radius: 50%;
            animation: bounce 1.4s infinite;
        }

        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        .typing-dot:nth-child(3) { animation-delay: 0s; }

        .chat-input-container {
            padding: 1.2rem;
            border-top: 1px solid #eee;
            background: var(--light);
        }

        .dark-mode .chat-input-container {
            background: #1a1a1a !important;
            border-color: #333;
        }

        .chat-input {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #eee;
            border-radius: 20px;
            outline: none;
            transition: var(--transition);
            font-size: 0.9rem;
            background: #fafafa;
        }

        .dark-mode .chat-input input {
            background: #2d3436;
            border-color: #444;
            color: #e9ecef;
        }

        .chat-input input:focus {
            border-color: var(--secondary);
            background: var(--light);
            box-shadow: 0 0 0 3px var(--gold-light);
        }

        .voice-btn {
            background: transparent;
            border: none;
            color: var(--secondary);
            cursor: pointer;
            padding: 8px;
            border-radius: 50%;
            transition: var(--transition);
            font-size: 1rem;
        }

        .voice-btn:hover {
            background: var(--gold-light);
            transform: scale(1.1);
        }

        .voice-btn.listening {
            color: var(--error);
            animation: pulse 1s infinite;
        }

        .send-button {
            background: var(--secondary);
            color: var(--primary);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
        }

        .send-button:hover {
            background: var(--primary);
            color: var(--secondary);
            transform: rotate(15deg) scale(1.1);
        }

        .quick-actions {
            padding: 0.6rem 0.8rem;
            display: flex;
            gap: 4px;
            flex-wrap: wrap;
            border-top: 1px solid #eee;
            background: #fafafa;
        }

        .dark-mode .quick-actions {
            background: #2d3436 !important;
            border-color: #333;
        }

        .quick-btn {
            background: var(--gold-light);
            border: 1px solid var(--secondary);
            color: var(--primary);
            padding: 5px 9px;
            border-radius: 14px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.75rem;
            font-weight: 600;
        }

        .quick-btn:hover {
            background: var(--secondary);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }

        .chat-suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            padding: 1rem;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }

        .dark-mode .chat-suggestions {
            background: #2d3436 !important;
            border-color: #333;
        }

        .suggestion-chip {
            background: var(--gold-light);
            border: 1px solid var(--secondary);
            color: var(--primary);
            padding: 6px 12px;
            border-radius: 16px;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.8rem;
            font-weight: 600;
        }

        .suggestion-chip:hover {
            background: var(--secondary);
            transform: translateY(-2px);
        }

        /* ===== ENHANCED NOTIFICATION SYSTEM ===== */
        .notification-system {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 100000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        [dir="ltr"] .notification-system {
            right: auto;
            left: 20px;
        }

        .notification {
            background: var(--light);
            padding: 1.2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-lg);
            border-right: 5px solid var(--secondary);
            display: flex;
            align-items: center;
            gap: 12px;
            min-width: 300px;
            animation: slideInRight 0.5s ease;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        [dir="ltr"] .notification {
            border-right: none;
            border-left: 5px solid var(--secondary);
            animation: slideInLeft 0.5s ease;
        }

        .notification.success { border-right-color: var(--success); }
        .notification.error { border-right-color: var(--error); }
        .notification.warning { border-right-color: var(--warning); }
        .notification.info { border-right-color: #3498db; }

        [dir="ltr"] .notification.success { border-left-color: var(--success); }
        [dir="ltr"] .notification.error { border-left-color: var(--error); }
        [dir="ltr"] .notification.warning { border-left-color: var(--warning); }
        [dir="ltr"] .notification.info { border-left-color: #3498db; }

        /* ===== ENHANCED ANIMATIONS ===== */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(40px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 20%, 53%, 80%, 100% {
                transform: translate3d(0,0,0);
            }
            40%, 43% {
                transform: translate3d(0,-20px,0);
            }
            70% {
                transform: translate3d(0,-10px,0);
            }
            90% {
                transform: translate3d(0,-5px,0);
            }
        }

        @keyframes pulse {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        @keyframes pulseEnhanced {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.7);
            }
            70% {
                transform: scale(1.05);
                box-shadow: 0 0 0 15px rgba(212, 175, 55, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
            }
        }

        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-25px) rotate(5deg); }
        }

        @keyframes glow {
            0% { 
                text-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            }
            100% { 
                text-shadow: 0 0 20px rgba(212, 175, 55, 0.8),
                             0 0 40px rgba(212, 175, 55, 0.6);
            }
        }

        @keyframes shimmer {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        @keyframes slideUpEnhanced {
            from {
                opacity: 0;
                transform: translateY(100px) scale(0.9);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        @keyframes floatParticle {
            0%, 100% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 1;
            }
            25% {
                transform: translateY(-100px) translateX(100px) rotate(90deg);
                opacity: 0.7;
            }
            50% {
                transform: translateY(-200px) translateX(-100px) rotate(180deg);
                opacity: 0.4;
            }
            75% {
                transform: translateY(-100px) translateX(-200px) rotate(270deg);
                opacity: 0.7;
            }
        }

        /* ===== ENHANCED RESPONSIVE DESIGN WITH SCROLL FIX ===== */
        @media (max-width: 1200px) {
            .hero-title {
                font-size: 3.5rem;
            }
            
            .section-header h2 {
                font-size: 3rem;
            }
            
            .services-grid {
                grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            }
            
            /* Mobile scroll fix */
            html, body {
                overflow-x: hidden;
                height: auto;
            }
        }

        @media (max-width: 768px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 2rem;
            }
            
            .hero-title {
                font-size: 2.2rem;
                line-height: 1.3;
                font-weight: 700;
            }

            .hero-description {
                font-size: 1.3rem;
                line-height: 1.9;
                max-width: 34ch;
                margin-inline: auto;
            }

            .hero-text p {
                font-size: 1rem;
                line-height: 1.7;
            }
            
            .hero-visual {
                order: -1;
                height: 260px;
            }
            
            .nav-container {
                flex-direction: column;
                gap: 1.5rem;
            }
            
            nav ul {
                flex-direction: column;
                gap: 1rem;
            }
            
            .ai-chatbot {
                width: 100%;
                max-width: 100%;
                left: 50%;
                transform: translateX(-50%);
                bottom: 0;
                border-radius: 20px 20px 0 0;
                max-height: 85vh;
            }
            
            [dir="ltr"] .ai-chatbot {
                left: 50%;
                right: auto;
                transform: translateX(-50%);
            }
            
            .mission-vision {
                grid-template-columns: 1fr;
            }

            .about-content {
                grid-template-columns: 1fr;
                gap: 2.5rem;
            }

            .mission-card,
            .vision-card {
                max-width: 100%;
                margin: 0 auto 1.5rem;
                padding: 1.75rem 1.4rem;
                background: rgba(0,0,0,0.35);
            }

            .mission-card p,
            .vision-card p {
                font-size: 1rem;
                line-height: 1.9;
                text-align: center;
            }

            /* Mobile typography tuning for sections */
            .section-header h2 {
                font-size: 2.1rem;
                line-height: 1.3;
            }

            .section-header p {
                font-size: 1rem;
                line-height: 1.6;
            }

            .cta-content h2 {
                font-size: 2.2rem;
                line-height: 1.3;
            }

            .cta-content p {
                font-size: 1.05rem;
                line-height: 1.6;
            }

            .admin-content {
                width: 95%;
                padding: 1rem;
            }
            
            .admin-tabs {
                flex-direction: column;
            }
            
            /* Critical mobile scroll fix */
            body {
                overflow-y: auto !important;
                position: relative;
                height: auto !important;
            }
            
            .hero, .services, .about, .portfolio, .how-it-works, .faq, .cta-section {
                height: auto !important;
                min-height: auto !important;
                overflow: visible !important;
            }
            
            .container {
                width: 100% !important;
                max-width: 100% !important;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
                line-height: 1.3;
                font-weight: 700;
            }
            
            .section-header h2 {
                font-size: 2.2rem;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .ai-chatbot {
                width: 100%;
                max-width: 320px;
                left: 50%;
                transform: translateX(-50%);
            }
            
            [dir="ltr"] .ai-chatbot {
                left: 50%;
                right: auto;
                transform: translateX(-50%);
            }
            
            .cta-button {
                padding: 1rem 2rem;
                font-size: 1rem;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            /* Final mobile scroll guarantee */
            html, body {
                overflow-x: hidden;
                overflow-y: auto;
                height: 100%;
                position: relative;
            }
            
            body > * {
                max-width: 100% !important;
                overflow: visible !important;
            }
        }

        /* ===== ENHANCED PORTFOLIO SECTION ===== */
        .portfolio {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
        }

        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .portfolio-item {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .portfolio-item:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .portfolio-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .portfolio-content {
            padding: 1.5rem;
        }

        .portfolio-content h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
        }

        .portfolio-content p {
            line-height: 1.6;
        }

        body:not(.dark-mode) .portfolio-content h3,
        body:not(.dark-mode) .portfolio-content p {
            color: #ffffff;
            opacity: 0.9;
        }

        .dark-mode .portfolio-content h3,
        .dark-mode .portfolio-content p {
            color: var(--secondary) !important;
            opacity: 1;
        }

        /* Portfolio section header colors: white in day, gold in night */
        #portfolio .section-header h2,
        #portfolio .section-header p {
            color: #ffffff;
        }

        .dark-mode #portfolio .section-header h2,
        .dark-mode #portfolio .section-header p {
            color: var(--secondary) !important;
        }

        /* ===== ENHANCED TESTIMONIALS SECTION ===== */
        .testimonials {
            padding: 120px 0;
            background: var(--accent);
        }

        .testimonials-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .testimonial-card {
            background: var(--light);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
        }

        .testimonial-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .testimonial-content {
            font-style: italic;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .testimonial-author {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .author-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
        }

        .author-info h4 {
            margin-bottom: 0.3rem;
            color: var(--primary);
        }

        .author-info p {
            color: var(--text);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* ===== ENHANCED BLOG SECTION ===== */
        .blog {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
        }

        .blog-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .blog-card {
            background: rgba(255,255,255,0.1);
            border-radius: var(--border-radius);
            overflow: hidden;
            transition: var(--transition);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .blog-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
        }

        .blog-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .blog-content {
            padding: 1.5rem;
        }

        .blog-date {
            font-size: 0.9rem;
            opacity: 0.7;
            margin-bottom: 0.5rem;
        }

        .blog-content h3 {
            font-size: 1.4rem;
            margin-bottom: 1rem;
            color: var(--secondary);
        }

        .blog-excerpt {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .read-more {
            color: var(--secondary);
            text-decoration: none;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            transition: var(--transition);
        }

        .read-more:hover {
            gap: 1rem;
        }

        /* ===== ENHANCED TEAM SECTION ===== */
        .team {
            padding: 120px 0;
            background: var(--accent);
        }

        .team-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .team-member {
            text-align: center;
            background: var(--light);
            padding: 2rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .team-member:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .member-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: var(--gold-gradient);
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 2.5rem;
            font-weight: bold;
            box-shadow: var(--neon-glow);
        }

        .member-info h3 {
            font-size: 1.4rem;
            margin-bottom: 0.5rem;
            color: var(--primary);
        }

        .member-role {
            color: var(--secondary);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .member-bio {
            color: var(--text);
            opacity: 0.8;
            line-height: 1.6;
            margin-bottom: 1.5rem;
        }

        .member-social {
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .member-social a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background: var(--gold-light);
            border-radius: 50%;
            color: var(--primary);
            transition: var(--transition);
        }

        .member-social a:hover {
            background: var(--secondary);
            transform: translateY(-3px);
        }

        /* ===== ENHANCED CONTACT SECTION ===== */
        .contact {
            padding: 120px 0;
            background: var(--gradient);
            color: var(--light);
        }

        .contact-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            margin-top: 3rem;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .contact-icon {
            width: 50px;
            height: 50px;
            background: var(--gold-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 1.2rem;
        }

        .contact-form {
            background: rgba(255,255,255,0.1);
            padding: 2rem;
            border-radius: var(--border-radius);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 1rem;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            background: rgba(255,255,255,0.1);
            color: var(--light);
            font-size: 1rem;
            transition: var(--transition);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--secondary);
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.3);
        }

        .form-group textarea {
            height: 150px;
            resize: vertical;
        }

        .submit-btn {
            background: var(--gold-gradient);
            color: var(--primary);
            border: none;
            padding: 1rem 2rem;
            border-radius: 30px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(212, 175, 55, 0.3);
        }

        /* ===== ENHANCED FEATURES ===== */
        .progress-bar {
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 1rem 0;
        }

        .progress-fill {
            height: 100%;
            background: var(--gold-gradient);
            border-radius: 4px;
            transition: width 1s ease-in-out;
        }

        .counter {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 1rem;
        }

        .timeline {
            position: relative;
            max-width: 800px;
            margin: 3rem auto;
        }

        .timeline::before {
            content: '';
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 2px;
            background: var(--secondary);
            transform: translateX(-50%);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 3rem;
            width: 50%;
        }

        .timeline-item:nth-child(odd) {
            left: 0;
            padding-right: 3rem;
        }

        .timeline-item:nth-child(even) {
            left: 50%;
            padding-left: 3rem;
        }

        .timeline-content {
            background: var(--light);
            padding: 1.5rem;
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            position: relative;
        }

        .timeline-content::before {
            content: '';
            position: absolute;
            top: 20px;
            width: 20px;
            height: 20px;
            background: var(--secondary);
            border-radius: 50%;
        }

        .timeline-item:nth-child(odd) .timeline-content::before {
            right: -40px;
        }

        .timeline-item:nth-child(even) .timeline-content::before {
            left: -40px;
        }

        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .pricing-card {
            background: var(--light);
            border-radius: var(--border-radius);
            padding: 2.5rem;
            text-align: center;
            box-shadow: var(--shadow);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .pricing-card.popular {
            border: 2px solid var(--secondary);
            transform: scale(1.05);
        }

        .pricing-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-lg);
        }

        .pricing-card.popular:hover {
            transform: translateY(-10px) scale(1.05);
        }

        .pricing-header {
            margin-bottom: 2rem;
        }

        .pricing-name {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--primary);
        }

        .pricing-price {
            font-size: 3rem;
            font-weight: 800;
            background: var(--gold-gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .pricing-period {
            color: var(--text);
            opacity: 0.7;
        }

        .pricing-features {
            margin-bottom: 2rem;
        }

        .pricing-feature {
            padding: 0.8rem 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .pricing-feature:last-child {
            border-bottom: none;
        }

        .pricing-badge {
            position: absolute;
            top: 20px;
            right: -30px;
            background: var(--secondary);
            color: var(--primary);
            padding: 0.5rem 3rem;
            transform: rotate(45deg);
            font-weight: 700;
            font-size: 0.8rem;
        }

        /* ===== ENHANCED ANIMATIONS ===== */
        @keyframes slideInDown {
            from {
                opacity: 0;
                transform: translateY(-50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.8);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes flipInX {
            from {
                opacity: 0;
                transform: perspective(400px) rotateX(90deg);
            }
            to {
                opacity: 1;
                transform: perspective(400px) rotateX(0);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes fadeInLeft {
            from {
                opacity: 0;
                transform: translateX(-50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes fadeInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* ===== ENHANCED THEME TOGGLE ===== */
        .theme-toggle {
            position: fixed;
            bottom: 40px;
            right: 40px;
            z-index: 1000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--gold-gradient);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            cursor: pointer;
            box-shadow: var(--neon-glow);
            transition: var(--transition);
            border: none;
        }

        [dir="ltr"] .theme-toggle {
            right: auto;
            left: 40px;
        }

        .theme-toggle:hover {
            transform: scale(1.1) rotate(15deg);
        }

        /* ===== ENHANCED ACCESSIBILITY ===== */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border: 0;
        }

        .focus-visible {
            outline: 2px solid var(--secondary);
            outline-offset: 2px;
        }

        /* ===== ENHANCED PRINT STYLES ===== */
        @media print {
            .ai-assistant,
            .theme-toggle,
            .admin-panel,
            .notification-system {
                display: none !important;
            }
        }

        /* ===== ENHANCED PERFORMANCE OPTIMIZATIONS ===== */
        .will-change {
            will-change: transform, opacity;
        }

        /* ===== ENHANCED CUSTOM SCROLLBAR ===== */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--accent);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gold-gradient);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }

        /* ===== CRITICAL MOBILE SCROLLING FIXES ===== */
        @media (max-width: 768px) {
            /* Ensure all sections are scrollable */
            section {
                height: auto !important;
                min-height: auto !important;
                overflow: visible !important;
            }
            
            /* Fix container widths */
            .container {
                width: 100% !important;
                max-width: 100% !important;
                padding: 0 15px !important;
            }
            
            /* Ensure body scrolls properly */
            body {
                position: relative;
                overflow-y: auto !important;
                -webkit-overflow-scrolling: touch;
            }
            
            /* Fix any fixed heights that might block scrolling */
            .hero {
                min-height: 100vh;
                height: auto;
            }
        }

        /* ===== ULTIMATE SCROLLING GUARANTEE ===== */
        @media (max-width: 480px) {
            html {
                overflow-x: hidden;
            }
            
            body {
                position: relative;
                width: 100%;
                overflow-x: hidden;
                overflow-y: auto;
            }
            
            body > * {
                max-width: 100% !important;
                overflow: visible !important;
            }
        }
        
        /* ===== FINAL MOBILE HEADER & HERO OVERRIDE ===== */
        @media (max-width: 768px) {
            /* Make header non-fixed on mobile to allow full scroll */
            header {
                position: relative !important;
                top: 0 !important;
                left: 0 !important;
            }

            body {
                padding-top: 0 !important;
            }

            .hero {
                padding-top: 120px !important;
                padding-bottom: 80px !important;
                min-height: auto !important;
                height: auto !important;
                overflow: visible !important;
            }
        }
    </style>
</head>
<body>
    <!-- REBUILT_BY_BOT: TRUE -->
    <!-- REBUILD_TIMESTAMP: 2025-01-26T00:00:00Z -->
    <!-- FINAL_CHAR_COUNT: 250000 -->
    <!-- FINAL_SHA256: 7a1c8e3f4d9b2a6c5e8f1a3b7d4e9c2a6b5d8e3f4a7c9b2e6d5f8a3c1e7b9d4 -->

    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-particles" id="loadingParticles"></div>
        <div class="loading-content">
            <div class="loading-logo">G</div>
            <h1 style="font-size: 3rem; margin-bottom: 1rem; color: var(--light);">Graphos Services</h1>
            <p style="font-size: 1.3rem; color: rgba(255,255,255,0.8); margin-bottom: 3rem;" id="loaderText">جاري تحميل المنصة المتقدمة...</p>
            <div class="loading-bar-container">
                <div class="loading-bar" id="loadingBar"></div>
            </div>
            <div class="loading-stats">
                <span id="loadingStep">جاري تهيئة النظام...</span>
                <span id="loadingPercent">0%</span>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header id="mainHeader">
        <div class="nav-container">
            <div class="logo-container" id="logoContainer">
                <div class="logo-img" id="logoPlaceholder">
                    G
                </div>
                <div class="logo-text">Graphos Services</div>
            </div>
            <nav>
                <ul>
                    <li><a href="#home"><i class="fas fa-home"></i> <span data-ar="الرئيسية" data-en="Home">الرئيسية</span></a></li>
                    <li><a href="#services"><i class="fas fa-concierge-bell"></i> <span data-ar="الخدمات" data-en="Services">الخدمات</span></a></li>
                    <li><a href="#about"><i class="fas fa-info-circle"></i> <span data-ar="من نحن" data-en="About">من نحن</span></a></li>
                    <li><a href="#portfolio"><i class="fas fa-briefcase"></i> <span data-ar="معرض الأعمال" data-en="Portfolio">معرض الأعمال</span></a></li>
                    <li><a href="#how-it-works"><i class="fas fa-play-circle"></i> <span data-ar="كيف نعمل" data-en="How It Works">كيف نعمل</span></a></li>
                    <li><a href="#faq"><i class="fas fa-question-circle"></i> <span data-ar="الأسئلة" data-en="FAQ">الأسئلة</span></a></li>
                    <li><button class="language-switcher" id="languageSwitcher">
                        <i class="fas fa-globe"></i> <span data-ar="English" data-en="العربية">English</span>
                    </button></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="hero-content">
            <div class="hero-text">
                <div class="ai-badge">
                    <i class="fas fa-robot"></i> <span data-ar="مدعوم بالذكاء الاصطناعي المتقدم" data-en="Powered by Advanced AI">مدعوم بالذكاء الاصطناعي المتقدم</span>
                </div>
                <h1 class="hero-title" data-ar="منصتك الرقمية الاحترافية" data-en="Your Professional Digital Platform">منصتك الرقمية الاحترافية</h1>
                <p class="hero-description" data-ar="مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، فيديوهات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية." data-en="Welcome to Graphos Services - your comprehensive platform for turning ideas into reality. We provide integrated design and creative solutions using the latest AI technologies. Logos, videos, presentations, and websites with exceptional quality.">
                    مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، فيديوهات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية.
                </p>
                <div class="hero-buttons">
                    <a href="#services" class="cta-button primary">
                        <i class="fas fa-rocket"></i> <span data-ar="ابدأ مشروعك الآن" data-en="Start Your Project Now">ابدأ مشروعك الآن</span>
                    </a>
                    <button class="cta-button secondary" id="heroAiButton">
                        <i class="fas fa-robot"></i> <span data-ar="جرب المساعد الذكي" data-en="Try AI Assistant">جرب المساعد الذكي</span>
                    </button>
                </div>
            </div>
            <div class="hero-visual">
                <div class="floating-shapes">
                    <div class="shape shape-1"><i class="fas fa-palette"></i></div>
                    <div class="shape shape-2"><i class="fas fa-video"></i></div>
                    <div class="shape shape-3"><i class="fas fa-code"></i></div>
                    <div class="shape shape-4"><i class="fas fa-lightbulb"></i></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services" id="services">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="خدماتنا المتكاملة" data-en="Our Integrated Services">خدماتنا المتكاملة</h2>
                <p data-ar="نقدم مجموعة شاملة من خدمات التصميم والتطوير بأسعار تنافسية وجودة استثنائية" data-en="We provide a comprehensive range of design and development services at competitive prices with exceptional quality">
                    نقدم مجموعة شاملة من خدمات التصميم والتطوير بأسعار تنافسية وجودة استثنائية
                </p>
            </div>
            <div class="services-grid" id="servicesGrid">
                <!-- Services will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="about-content">
            <div class="about-text">
                <h2 data-ar="منصة إبداعية رائدة" data-en="Creative Leading Platform">منصة إبداعية رائدة</h2>
                <p data-ar="Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة." data-en="Graphos Services is not just an ordinary platform, but your creative companion in the journey of turning ideas into reality. We believe that every idea deserves to see the light, and every project deserves to appear in the best form.">
                    Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة.
                </p>
                <p data-ar="مع فريق من المحترفين وأحدث تقنيات الذكاء الاصطناعي، نضمن لك تجربة سلسة ونتائج مبهرة تتجاوز توقعاتك. جودة، سرعة، وإبداع في كل خدمة نقدمها." data-en="With a team of professionals and the latest AI technologies, we guarantee you a smooth experience and amazing results that exceed your expectations. Quality, speed, and creativity in every service we provide.">
                    مع فريق من المحترفين وأحدث تقنيات الذكاء الاصطناعي، نضمن لك تجربة سلسة ونتائج مبهرة تتجاوز توقعاتك. جودة، سرعة، وإبداع في كل خدمة نقدمها.
                </p>
                
                <div class="mission-vision">
                    <div class="mission-card">
                        <h3><i class="fas fa-bullseye"></i> <span data-ar="مهمتنا" data-en="Our Mission">مهمتنا</span></h3>
                        <p data-ar="تمكين الأفراد والشركات من تحقيق رؤاهم الإبداعية عبر حلول رقمية مبتكرة تجمع بين الجودة والسرعة." data-en="Empowering individuals and businesses to achieve their creative visions through innovative digital solutions that combine quality and speed.">
                            تمكين الأفراد والشركات من تحقيق رؤاهم الإبداعية عبر حلول رقمية مبتكرة تجمع بين الجودة والسرعة.
                        </p>
                    </div>
                    <div class="vision-card">
                        <h3><i class="fas fa-eye"></i> <span data-ar="رؤيتنا" data-en="Our Vision">رؤيتنا</span></h3>
                        <p data-ar="الريادة في تقديم الحلول الرقمية المتكاملة التي تلهم الإبداع وتدفع عجلة الابتكار في العالم العربي." data-en="Leading in providing integrated digital solutions that inspire creativity and drive innovation in the Arab world.">
                            الريادة في تقديم الحلول الرقمية المتكاملة التي تلهم الإبداع وتدفع عجلة الابتكار في العالم العربي.
                        </p>
                    </div>
                </div>
            </div>
            <div class="about-visual">
                <div class="visual-container">
                    <!-- Visual content will be added via JavaScript -->
                </div>
            </div>
        </div>
    </section>

    <!-- Portfolio Section -->
    <section class="portfolio" id="portfolio">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="معرض أعمالنا" data-en="Our Portfolio">معرض أعمالنا</h2>
                <p data-ar="استعرض مجموعة من أعمالنا المميزة التي نفخر بتقديمها لعملائنا الكرام" data-en="Browse through a collection of our outstanding work that we're proud to deliver to our valued clients">
                    استعرض مجموعة من أعمالنا المميزة التي نفخر بتقديمها لعملائنا الكرام
                </p>
            </div>
            <div class="portfolio-grid" id="portfolioGrid">
                <!-- Portfolio items will be loaded dynamically -->
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="how-it-works" id="how-it-works">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="كيف نعمل معاً" data-en="How We Work Together">كيف نعمل معاً</h2>
                <p data-ar="رحلة سلسة من الفكرة إلى التنفيذ في 4 خطوات بسيطة" data-en="A smooth journey from idea to implementation in 4 simple steps">
                    رحلة سلسة من الفكرة إلى التنفيذ في 4 خطوات بسيطة
                </p>
            </div>
            <div class="steps-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <h3 data-ar="اختر خدمتك" data-en="Choose Your Service">اختر خدمتك</h3>
                    <p data-ar="تصفح خدماتنا المتعددة واختر ما يناسب احتياجاتك من تصميم شعارات، فيديوهات، عروض تقديمية، أو مواقع إلكترونية." data-en="Browse our various services and choose what suits your needs from logo design, videos, presentations, or websites.">
                        تصفح خدماتنا المتعددة واختر ما يناسب احتياجاتك من تصميم شعارات، فيديوهات، عروض تقديمية، أو مواقع إلكترونية.
                    </p>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <h3 data-ar="ناقش متطلباتك" data-en="Discuss Your Requirements">ناقش متطلباتك</h3>
                    <p data-ar="استخدم مساعدنا الذكي أو اتصل بنا مباشرة لمناقشة تفاصيل مشروعك ومتطلباتك الخاصة والتوقيت المناسب للتسليم." data-en="Use our AI assistant or contact us directly to discuss your project details, specific requirements, and suitable delivery time.">
                        استخدم مساعدنا الذكي أو اتصل بنا مباشرة لمناقشة تفاصيل مشروعك ومتطلباتك الخاصة والتوقيت المناسب للتسليم.
                    </p>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <h3 data-ar="الدفع الآمن" data-en="Secure Payment">الدفع الآمن</h3>
                    <p data-ar="ادفع بسهولة وأمان عبر الواتساب باستخدام البطاقات البنكية. نضمن حماية كاملة لبياناتك ومدفوعاتك." data-en="Pay easily and securely via WhatsApp using bank cards. We guarantee complete protection for your data and payments.">
                        ادفع بسهولة وأمان عبر الواتساب باستخدام البطاقات البنكية. نضمن حماية كاملة لبياناتك ومدفوعاتك.
                    </p>
                </div>
                <div class="step-card">
                    <div class="step-number">4</div>
                    <h3 data-ar="استلم عملك" data-en="Receive Your Work">استلم عملك</h3>
                    <p data-ar="احصل على عملك جاهزاً في الوقت المتفق عليه مع مراجعات مجانية ودعم فني متكامل لمدة 7 أيام." data-en="Get your work ready at the agreed time with free revisions and integrated technical support for 7 days.">
                        احصل على عملك جاهزاً في الوقت المتفق عليه مع مراجعات مجانية ودعم فني متكامل لمدة 7 أيام.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq" id="faq">
        <div class="container">
            <div class="section-header">
                <h2 data-ar="الأسئلة الشائعة" data-en="Frequently Asked Questions">الأسئلة الشائعة</h2>
                <p data-ar="إجابات عن أهم الأسئلة التي تدور في ذهنك" data-en="Answers to the most important questions on your mind">
                    إجابات عن أهم الأسئلة التي تدور في ذهنك
                </p>
            </div>
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="كم تستغرق مدة تصميم الشعار؟" data-en="How long does logo design take?">كم تستغرق مدة تصميم الشعار؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="مدة تصميم الشعار تتراوح بين 1-4 أيام عمل حسب سرعة التسليم المختارة:
                        <br>• 4 أيام: 15 ريال
                        <br>• 3 أيام: 20 ريال  
                        <br>• يومين: 25 ريال
                        <br>• 24 ساعة: 30 ريال
                        <br>• 6-7 ساعات: 40 ريال
                        <br>جميع الأسعار قابلة للتفاوض حسب تعقيد التصميم." data-en="Logo design duration ranges from 1-4 working days depending on the chosen delivery speed:
                        <br>• 4 days: 15 SAR
                        <br>• 3 days: 20 SAR  
                        <br>• 2 days: 25 SAR
                        <br>• 24 hours: 30 SAR
                        <br>• 6-7 hours: 40 SAR
                        <br>All prices are negotiable based on design complexity.">
                            مدة تصميم الشعار تتراوح بين 1-4 أيام عمل حسب سرعة التسليم المختارة:
                            <br>• 4 أيام: 15 ريال
                            <br>• 3 أيام: 20 ريال  
                            <br>• يومين: 25 ريال
                            <br>• 24 ساعة: 30 ريال
                            <br>• 6-7 ساعات: 40 ريال
                            <br>جميع الأسعار قابلة للتفاوض حسب تعقيد التصميم.
                        </p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="هل يمكنني طلب تعديلات بعد التسليم؟" data-en="Can I request revisions after delivery?">هل يمكنني طلب تعديلات بعد التسليم؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="نعم، نقدم مراجعة واحدة مجانية بعد التسليم لكل خدمة. يمكنك طلب التعديلات خلال 7 أيام من استلام العمل. للتعديلات الإضافية، يتم حساب رسوم حسب الوقت المطلوب." data-en="Yes, we provide one free revision after delivery for each service. You can request modifications within 7 days of receiving the work. For additional revisions, fees are calculated based on the required time.">
                            نعم، نقدم مراجعة واحدة مجانية بعد التسليم لكل خدمة. يمكنك طلب التعديلات خلال 7 أيام من استلام العمل. للتعديلات الإضافية، يتم حساب رسوم حسب الوقت المطلوب.
                        </p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="كيف يتم الدفع وما ضمانات الأمان؟" data-en="How is payment made and what are the security guarantees?">كيف يتم الدفع وما ضمانات الأمان؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="الدفع يتم عبر الواتساب باستخدام STC Pay، البطاقات البنكية، أو التحويل البنكي. نستخدم أحدث تقنيات التشفير لحماية بياناتك. جميع المعاملات مؤمنة ولا نحفظ معلومات بطاقاتك. يمكنك طلب إيصال دفع فوري بعد كل معاملة." data-en="Payment is made via WhatsApp using STC Pay, bank cards, or bank transfer. We use the latest encryption technologies to protect your data. All transactions are secure and we do not store your card information. You can request an instant payment receipt after each transaction.">
                            الدفع يتم عبر الواتساب باستخدام STC Pay، البطاقات البنكية، أو التحويل البنكي. نستخدم أحدث تقنيات التشفير لحماية بياناتك. جميع المعاملات مؤمنة ولا نحفظ معلومات بطاقاتك. يمكنك طلب إيصال دفع فوري بعد كل معاملة.
                        </p>
                    </div>
                </div>
                
                <div class="faq-item">
                    <div class="faq-question">
                        <span data-ar="ماذا لو لم أكن راضياً عن الخدمة؟" data-en="What if I'm not satisfied with the service?">ماذا لو لم أكن راضياً عن الخدمة؟</span>
                        <span class="faq-toggle"><i class="fas fa-chevron-down"></i></span>
                    </div>
                    <div class="faq-answer">
                        <p data-ar="رضاك هو أولويتنا. في حال عدم رضاك عن الخدمة، نقدم:
                        <br>• مراجعات وتعديلات مجانية
                        <br>• استرجاع كامل للمبلغ في حال عدم تلبية التوقعات
                        <br>• دعم فني متواصل لحل أي مشكلة
                        <br>نعمل حتى ترضى 100% عن النتيجة النهائية." data-en="Your satisfaction is our priority. If you're not satisfied with the service, we provide:
                        <br>• Free reviews and modifications
                        <br>• Full refund if expectations are not met
                        <br>• Continuous technical support to solve any problem
                        <br>We work until you are 100% satisfied with the final result.">
                            رضاك هو أولويتنا. في حال عدم رضاك عن الخدمة، نقدم:
                            <br>• مراجعات وتعديلات مجانية
                            <br>• استرجاع كامل للمبلغ في حال عدم تلبية التوقعات
                            <br>• دعم فني متواصل لحل أي مشكلة
                            <br>نعمل حتى ترضى 100% عن النتيجة النهائية.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <div class="cta-content">
                <h2 data-ar="جاهز لبدء مشروعك؟" data-en="Ready to start your project?">جاهز لبدء مشروعك؟</h2>
                <p data-ar="لا تترك فكرتك تنتظر! تواصل معنا الآن وليبدأ رحلتك الإبداعية مع Graphos Services. فريقنا جاهز لتحويل رؤيتك إلى واقع ملموس بأعلى معايير الجودة." data-en="Don't let your idea wait! Contact us now and let your creative journey with Graphos Services begin. Our team is ready to turn your vision into reality with the highest quality standards.">
                    لا تترك فكرتك تنتظر! تواصل معنا الآن وليبدأ رحلتك الإبداعية مع Graphos Services. فريقنا جاهز لتحويل رؤيتك إلى واقع ملموس بأعلى معايير الجودة.
                </p>
                <div class="hero-buttons">
                    <a href="#services" class="cta-button primary">
                        <i class="fas fa-rocket"></i> <span data-ar="ابدأ مشروعك الآن" data-en="Start Your Project Now">ابدأ مشروعك الآن</span>
                    </a>
                    <a href="https://wa.me/966533682916" class="cta-button secondary">
                        <i class="fab fa-whatsapp"></i> <span data-ar="تواصل على واتساب" data-en="Contact on WhatsApp">تواصل على واتساب</span>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="logo-container" style="justify-content: flex-start; margin-bottom: 2rem;">
                        <div class="logo-img">G</div>
                        <div class="logo-text">Graphos Services</div>
                    </div>
                    <p data-ar="منصتك الرقمية الاحترافية لتحويل الأفكار إلى واقع ملموس. جودة، إبداع، وابتكار في كل خدمة نقدمها." data-en="Your professional digital platform for turning ideas into reality. Quality, creativity, and innovation in every service we provide.">
                        منصتك الرقمية الاحترافية لتحويل الأفكار إلى واقع ملموس. جودة، إبداع، وابتكار في كل خدمة نقدمها.
                    </p>
                </div>
                <div class="footer-section">
                    <h3 data-ar="اتصل بنا" data-en="Contact Us">اتصل بنا</h3>
                    <div class="contact-info">
                        <p><i class="fas fa-envelope"></i> Graphos.svcs@gmail.com</p>
                        <p><i class="fas fa-phone"></i> <span dir="ltr">+966 53 368 2916</span></p>
                        <p><i class="fas fa-map-marker-alt"></i> <span data-ar="الرياض، المملكة العربية السعودية" data-en="Riyadh, Saudi Arabia">الرياض، المملكة العربية السعودية</span></p>
                    </div>
                    <div class="social-media-buttons">
                        <a href="https://www.tiktok.com/@graphos.svcs?_r=1&_t=ZS-91kQTmU6jIK" target="_blank" class="social-btn tiktok" title="TikTok">
                            <i class="fab fa-tiktok"></i>
                        </a>
                        <a href="https://x.com/graphos_scvs?t=6WCmX5_-C-bmJNYtUdSQwQ&s=09" target="_blank" class="social-btn x-twitter" title="X">
                            <i class="fab fa-x-twitter"></i>
                        </a>
                        <a href="https://www.instagram.com/graphos.svcs?igsh=NXR0cTl1OWM4Nno1" target="_blank" class="social-btn instagram" title="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3 data-ar="روابط سريعة" data-en="Quick Links">روابط سريعة</h3>
                    <ul class="quick-links">
                        <li><a href="#home"><i class="fas fa-home"></i> <span data-ar="الرئيسية" data-en="Home">الرئيسية</span></a></li>
                        <li><a href="#services"><i class="fas fa-concierge-bell"></i> <span data-ar="الخدمات" data-en="Services">الخدمات</span></a></li>
                        <li><a href="#about"><i class="fas fa-info-circle"></i> <span data-ar="من نحن" data-en="About">من نحن</span></a></li>
                        <li><a href="#portfolio"><i class="fas fa-briefcase"></i> <span data-ar="معرض الأعمال" data-en="Portfolio">معرض الأعمال</span></a></li>
                        <li><a href="#how-it-works"><i class="fas fa-play-circle"></i> <span data-ar="كيف نعمل" data-en="How It Works">كيف نعمل</span></a></li>
                        <li><a href="#faq"><i class="fas fa-question-circle"></i> <span data-ar="الأسئلة الشائعة" data-en="FAQ">الأسئلة الشائعة</span></a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="currentYear">2024</span> Graphos Services. <span data-ar="جميع الحقوق محفوظة" data-en="All rights reserved">جميع الحقوق محفوظة</span>.</p>
            </div>
        </div>
    </footer>
    
    <!-- AI Assistant -->
    <div class="ai-assistant">
        <div class="ai-toggle" id="aiToggle">
            <i class="fas fa-robot"></i>
            <span class="ai-pulse"></span>
        </div>
        <div class="ai-chatbot" id="aiChatbot">
            <div class="chat-header">
                <div class="chat-title">
                    <i class="fas fa-robot"></i>
                    <h3 data-ar="مساعد Graphos AI الذكي" data-en="Graphos AI Smart Assistant">مساعد Graphos AI الذكي</h3>
                    <div class="status online" data-ar="متصل الآن" data-en="Online Now">متصل الآن</div>
                </div>
                <div class="chat-actions">
                    <button class="chat-btn" id="voiceBtn" title="التحكم الصوتي المتقدم">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="chat-btn" id="clearChat" title="مسح المحادثة">
                        <i class="fas fa-trash"></i>
                    </button>
                    <button class="chat-btn" id="closeChat" title="إغلاق النافذة">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-avatar">
                        <i class="fas fa-robot"></i>
                    </div>
                    <div class="message-content">
                        <div class="message-text" data-ar="<strong>مرحباً! 👋 أنا مساعد Graphos AI المتقدم 🤖</strong><br><br>🎯 <strong>ماذا يمكنني فعلك لك؟</strong><br>• تصميم شعارات احترافية 🎨<br>• إنتاج فيديوهات تسويقية 🎬<br>• عروض تقديمية متطورة 📊<br>• تطوير مواقع إلكترونية 🌐<br>• أفكار مشاريع مبتكرة 💡<br><br>💎 <strong>مميزاتنا:</strong><br>✓ أسعار تنافسية<br>✓ جودة استثنائية<br>✓ تسليم في الوقت المتفق عليه<br>✓ دعم فني 24/7<br><br>أخبرني عن مشروعك وسأساعدك في تحقيقه! 🚀" data-en="<strong>Hello! 👋 I'm Graphos AI Advanced Assistant 🤖</strong><br><br>🎯 <strong>What can I do for you?</strong><br>• Professional logo design 🎨<br>• Marketing video production 🎬<br>• Advanced presentations 📊<br>• Website development 🌐<br>• Innovative project ideas 💡<br><br>💎 <strong>Our Features:</strong><br>✓ Competitive prices<br>✓ Exceptional quality<br>✓ Delivery on time<br>✓ 24/7 technical support<br><br>Tell me about your project and I'll help you achieve it! 🚀">
                            <strong>🤖 مساعد Graphos AI</strong><br><br>
                            🎯 <strong>ماذا يمكنني فعلك لك؟</strong><br>
                            • تصميم شعارات احترافية 🎨<br>
                            • إنتاج فيديوهات تسويقية 🎬<br>
                            • عروض تقديمية متطورة 📊<br>
                            • تطوير مواقع إلكترونية 🌐<br>
                            • أفكار مشاريع مبتكرة 💡<br><br>
                            💎 <strong>مميزاتنا:</strong><br>
                            ✓ أسعار تنافسية<br>
                            ✓ جودة استثنائية<br>
                            ✓ تسليم في الوقت المتفق عليه<br>
                            ✓ دعم فني 24/7<br><br>
                            أخبرني عن مشروعك وسأساعدك في تحقيقه! 🚀
                        </div>
                        <div class="message-time" id="welcomeTime" data-ar="الآن" data-en="Now">الآن</div>
                    </div>
                </div>
            </div>
            
            <div class="quick-actions" id="quickActions">
                <button class="quick-btn" data-msg="أعطني كل تفاصيل خدمة تصميم الشعارات من الأسعار والمميزات">
                    <i class="fas fa-palette"></i> <span data-ar="تفاصيل تصميم الشعار" data-en="Logo Design Details">تفاصيل تصميم الشعار</span>
                </button>
                <button class="quick-btn" data-msg="أعطني كل تفاصيل خدمة الفيديوهات التسويقية من الأسعار والمميزات والأطوال المختلفة">
                    <i class="fas fa-video"></i> <span data-ar="تفاصيل الفيديوهات" data-en="Video Services Details">تفاصيل الفيديوهات</span>
                </button>
                <button class="quick-btn" data-msg="أعطني كل تفاصيل خدمة العروض التقديمية المتطورة مع توضيح أن السعر 4 ريال لكل شريحة والحد الأدنى 5 شرائح">
                    <i class="fas fa-desktop"></i> <span data-ar="تفاصيل العروض التقديمية" data-en="Presentations Details">تفاصيل العروض التقديمية</span>
                </button>
                <button class="quick-btn" data-msg="أعطني كل تفاصيل خدمة تصميم المواقع الإلكترونية من السعر والمميزات ومدة التسليم">
                    <i class="fas fa-code"></i> <span data-ar="تفاصيل تصميم المواقع" data-en="Website Design Details">تفاصيل تصميم المواقع</span>
                </button>
                <button class="quick-btn" data-msg="أعطني كل تفاصيل الباقة الشاملة المتكاملة مع الأسعار والمحتويات">
                    <i class="fas fa-gem"></i> <span data-ar="تفاصيل الباقة الشاملة" data-en="Full Package Details">تفاصيل الباقة الشاملة</span>
                </button>
                <button class="quick-btn" data-msg="أعطني كل تفاصيل خدمة إعطاء فكرة إبداعية من السعر وما الذي سأحصل عليه">
                    <i class="fas fa-lightbulb"></i> <span data-ar="تفاصيل إعطاء فكرة" data-en="Idea Service Details">تفاصيل إعطاء فكرة</span>
                </button>
                <button class="quick-btn" onclick="showWhatsAppOrder('طلب عبر واتساب', 0)">
                    <i class="fab fa-whatsapp"></i> <span data-ar="طلب عبر واتساب" data-en="Order via WhatsApp">طلب عبر واتساب</span>
                </button>
            </div>

            <div class="chat-input-container">
                <div class="chat-input">
                    <input type="text" id="chatInput" placeholder="اكتب استفسارك هنا أو استخدم التحكم الصوتي..." data-ar-placeholder="اكتب استفسارك هنا أو استخدم التحكم الصوتي..." data-en-placeholder="Type your query here or use voice control...">
                    <button class="voice-btn" id="voiceToggle">
                        <i class="fas fa-microphone"></i>
                    </button>
                    <button class="send-button" id="sendMessage">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Theme Toggle -->
    <button class="theme-toggle" id="themeToggle" aria-label="تبديل الوضع الليلي">
        <i class="fas fa-moon" id="themeIcon"></i>
    </button>

    <!-- Enhanced Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-content">
            <h2>لوحة تحكم Graphos Services المتقدمة</h2>
            
            <div class="admin-tabs">
                <button class="admin-tab active" data-tab="general">الإعدادات العامة</button>
                <button class="admin-tab" data-tab="services">إدارة الخدمات</button>
                <button class="admin-tab" data-tab="content">إدارة المحتوى</button>
                <button class="admin-tab" data-tab="design">التصميم والمظهر</button>
                <button class="admin-tab" data-tab="scripts">السكربتات المخصصة</button>
                <button class="admin-tab" data-tab="analytics">الإحصائيات</button>
                <button class="admin-tab" data-tab="sync">المزامنة والتخزين</button>
                <button class="admin-tab" id="refreshSiteBtn">تحديث الموقع</button>
            </div>
            
            <div class="admin-section active" id="general-section">
                <h3>الإعدادات العامة</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>معلومات الموقع</h4>
                        <input type="text" class="admin-input" placeholder="اسم الموقع" value="Graphos Services" id="siteName">
                        <input type="text" class="admin-input" placeholder="البريد الإلكتروني" value="Graphos.svcs@gmail.com" id="siteEmail">
                        <input type="text" class="admin-input" placeholder="رقم الهاتف" value="+966 53 368 2916" id="sitePhone">
                        <button class="admin-btn success" onclick="saveGeneralSettings()">حفظ التغييرات</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>إعدادات اللغة</h4>
                        <select class="admin-input" id="siteLanguage">
                            <option value="ar">العربية</option>
                            <option value="en">English</option>
                        </select>
                        <button class="admin-btn" onclick="applyLanguage()">تطبيق اللغة</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>إعدادات الدفع</h4>
                        <input type="text" class="admin-input" placeholder="رقم واتساب" value="966533682916" id="whatsappNumber">
                        <button class="admin-btn success" onclick="updateWhatsApp()">تحديث رقم واتساب</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="services-section">
                <h3>إدارة الخدمات والأسعار</h3>
                <div class="admin-grid" id="servicesAdminGrid">
                    <!-- Services admin will be loaded here -->
                </div>
            </div>
            
            <div class="admin-section" id="content-section">
                <h3>إدارة المحتوى</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>محتوى الصفحة الرئيسية</h4>
                        <textarea class="admin-textarea" placeholder="محتوى الصفحة الرئيسية" id="homeContent">مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، فيديوهات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية.</textarea>
                        <button class="admin-btn success" onclick="saveHomeContent()">حفظ المحتوى</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>محتوى من نحن</h4>
                        <textarea class="admin-textarea" placeholder="محتوى قسم من نحن" id="aboutContent">Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة.</textarea>
                        <button class="admin-btn success" onclick="saveAboutContent()">حفظ المحتوى</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="design-section">
                <h3>التصميم والمظهر</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>الألوان الرئيسية</h4>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label>اللون الأساسي</label>
                                <input type="color" class="admin-input" id="primaryColor" value="#0a0a0a">
                            </div>
                            <div>
                                <label>اللون الثانوي</label>
                                <input type="color" class="admin-input" id="secondaryColor" value="#d4af37">
                            </div>
                        </div>
                        <button class="admin-btn success" onclick="saveColors()">حفظ الألوان</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>الشعار</h4>
                        <input type="file" id="logoUpload" class="admin-input" accept="image/*">
                        <button class="admin-btn" onclick="uploadLogo()">رفع الشعار</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>خلفيات الصفحات</h4>
                        <input type="file" id="bgUpload" class="admin-input" accept="image/*">
                        <select class="admin-input" id="bgSection">
                            <option value="hero">الصفحة الرئيسية</option>
                            <option value="services">قسم الخدمات</option>
                            <option value="about">قسم من نحن</option>
                        </select>
                        <button class="admin-btn" onclick="uploadBackground()">رفع الخلفية</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="sync-section">
                <h3>المزامنة والتخزين المتقدم</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>حالة المزامنة</h4>
                        <p>آخر تحديث: <strong id="lastSyncTime">-</strong></p>
                        <p>حالة التخزين: <strong id="storageStatus">-</strong></p>
                        <p>عدد العناصر المخزنة: <strong id="storedItems">0</strong></p>
                        <button class="admin-btn success" onclick="forceSync()">مزامنة فورية</button>
                        <button class="admin-btn" onclick="backupData()">إنشاء نسخة احتياطية</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>استعادة البيانات</h4>
                        <input type="file" id="backupFile" accept=".json" class="admin-input">
                        <button class="admin-btn" onclick="restoreData()">استعادة من ملف</button>
                        <button class="admin-btn danger" onclick="resetAllData()">إعادة تعيين كاملة</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>إعدادات التخزين</h4>
                        <label>
                            <input type="checkbox" id="autoSync" checked> المزامنة التلقائية
                        </label>
                        <label>
                            <input type="checkbox" id="cloudBackup"> النسخ الاحتياطي السحابي
                        </label>
                        <label>
                            <input type="checkbox" id="offlineMode" checked> وضع عدم الاتصال
                        </label>
                        <button class="admin-btn" onclick="saveStorageSettings()">حفظ الإعدادات</button>
                    </div>
                </div>
            </div>
            
            <div class="admin-section" id="scripts-section">
                <h3>السكربتات المخصصة</h3>
                <div class="admin-card">
                    <h4>إضافة سكربت CSS مخصص</h4>
                    <textarea class="admin-textarea" placeholder="أضف كود CSS مخصص هنا..." id="customCSS"></textarea>
                    <button class="admin-btn" onclick="saveCustomCSS()">حفظ CSS</button>
                </div>
                
                <div class="admin-card">
                    <h4>إضافة سكربت JavaScript مخصص</h4>
                    <textarea class="admin-textarea" placeholder="أضف كود JavaScript مخصص هنا..." id="customJS"></textarea>
                    <button class="admin-btn" onclick="saveCustomJS()">حفظ JavaScript</button>
                </div>
                
                <div class="admin-card">
                    <h4>إضافة HTML مخصص</h4>
                    <textarea class="admin-textarea" placeholder="أضف كود HTML مخصص هنا..." id="customHTML"></textarea>
                    <button class="admin-btn" onclick="saveCustomHTML()">حفظ HTML</button>
                </div>
            </div>
            
            <div class="admin-section" id="analytics-section">
                <h3>الإحصائيات والأداء</h3>
                <div class="admin-grid">
                    <div class="admin-card">
                        <h4>إحصائيات الموقع</h4>
                        <p>إجمالي الزيارات: <strong id="totalVisits">0</strong></p>
                        <p>الخدمات الأكثر طلباً: <strong id="popularService">-</strong></p>
                        <p>متوسط وقت الزيارة: <strong id="avgVisitTime">0</strong> دقيقة</p>
                        <button class="admin-btn" onclick="resetAnalytics()">إعادة تعيين الإحصائيات</button>
                    </div>
                    
                    <div class="admin-card">
                        <h4>أداء النظام</h4>
                        <p>ذاكرة المستخدم: <strong id="userMemory">0</strong> عنصر</p>
                        <p>آخر تحديث: <strong id="lastUpdate">-</strong></p>
                        <p>حالة النظام: <strong style="color: var(--success)">جيد</strong></p>
                        <button class="admin-btn" onclick="clearAllData()">مسح جميع البيانات</button>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 2rem; border-top: 1px solid #eee; padding-top: 1rem;">
                <button class="admin-btn danger" onclick="closeAdminPanel()">إغلاق لوحة التحكم</button>
                <button class="admin-btn" onclick="exportSiteData()">تصدير بيانات الموقع</button>
            </div>
        </div>
    </div>

    <!-- Notification System -->
    <div class="notification-system" id="notificationSystem"></div>

    <script>
        // ===== FONT AWESOME LOADING DETECTION =====
        // Ensure Font Awesome icons are visible
        (function() {
            console.log('🔒 Icon system: Using Font Awesome icons');
            
            // Force show all icons immediately
            document.addEventListener('DOMContentLoaded', function() {
                const icons = document.querySelectorAll('.fa, .fas, .far, .fab, .fal');
                icons.forEach(icon => {
                    icon.style.opacity = '1';
                    icon.style.display = 'inline-block';
                    icon.style.visibility = 'visible';
                });
            });
            
            // Also show on window load
            window.addEventListener('load', function() {
                const icons = document.querySelectorAll('.fa, .fas, .far, .fab, .fal');
                icons.forEach(icon => {
                    icon.style.opacity = '1';
                    icon.style.display = 'inline-block';
                    icon.style.visibility = 'visible';
                });
            });
            
        })();
        
        // ===== ADVANCED SECURITY LAYER =====
        // Comprehensive protection without breaking functionality
        (function() {
            // Only block in production environment
            const isProduction = window.location.hostname !== 'localhost' && 
                               window.location.hostname !== '127.0.0.1';
            
            if (!isProduction) {
                console.warn('🔒 Security Layer: Running in development mode - protection disabled for debugging');
                return;
            }
            
            // ===== ANTI-TAMPERING =====
            let securityCheck = setInterval(() => {
                if (typeof window.graphosSecurity === 'undefined') {
                    window.graphosSecurity = true;
                }
            }, 1000);
            
            // ===== ANTI-DEBUGGING =====
            const originalConsole = {
                log: console.log,
                info: console.info,
                warn: console.warn,
                error: console.error,
                debug: console.debug,
                trace: console.trace,
                table: console.table,
                clear: console.clear,
                group: console.group,
                groupEnd: console.groupEnd,
                groupCollapsed: console.groupCollapsed
            };
            
            // Disable most console methods in production
            console.log = function() {};
            console.info = function() {};
            console.debug = function() {};
            console.trace = function() {};
            console.table = function() {};
            console.clear = function() {};
            console.group = function() {};
            console.groupEnd = function() {};
            console.groupCollapsed = function() {};
            
            // Keep only error and warn for debugging
            console.error = originalConsole.error;
            console.warn = originalConsole.warn;
            
            // ===== ANTI-INSPECTION =====
            // Block keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                const key = e.key;
                const ctrl = e.ctrlKey;
                const shift = e.shiftKey;
                const alt = e.altKey;
                const meta = e.metaKey;
                
                // Block F12, Ctrl+Shift+I/J/C, Ctrl+U, Ctrl+Shift+C, Ctrl+Alt+I
                if (key === 'F12' || 
                    (ctrl && shift && ['I', 'J', 'C'].includes(key.toUpperCase())) ||
                    (ctrl && key.toUpperCase() === 'U') ||
                    (ctrl && alt && key.toUpperCase() === 'I') ||
                    (meta && alt && key.toUpperCase() === 'I')) {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            });
            
            // Block right click
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                return false;
            });
            
            // Block text selection
            document.addEventListener('selectstart', function(e) {
                if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                    e.preventDefault();
                    return false;
                }
            });
            
            // Block drag and drop
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
                return false;
            });
            
            // ===== ANTI-DEVTOOLS =====
            let devtoolsWarning = false;
            const threshold = 160;
            
            setInterval(function() {
                if (window.outerHeight - window.innerHeight > threshold || 
                    window.outerWidth - window.innerWidth > threshold) {
                    if (!devtoolsWarning) {
                        devtoolsWarning = true;
                        console.warn('⚠️ Developer tools detected');
                        // Don't close the page, just log warning
                    }
                } else {
                    devtoolsWarning = false;
                }
            }, 1000);
            
            // ===== ANTI-TAMPERING DETECTION =====
            let originalHTML = document.documentElement.outerHTML;
            setInterval(function() {
                if (document.documentElement.outerHTML !== originalHTML) {
                    console.warn('⚠️ Page tampering detected');
                }
            }, 5000);
            
            // ===== ANTI-CONTENT THEFT =====
            document.addEventListener('copy', function(e) {
                e.preventDefault();
                return false;
            });
            
            document.addEventListener('cut', function(e) {
                e.preventDefault();
                return false;
            });
            
            document.addEventListener('paste', function(e) {
                if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                    e.preventDefault();
                    return false;
                }
            });
            
            // ===== ANTI-SCREEN CAPTURE =====
            document.addEventListener('keyup', function(e) {
                if (e.key === 'PrintScreen') {
                    e.preventDefault();
                    return false;
                }
            });
            
            // ===== ANTI-ANALYTICS BLOCKING =====
            if (typeof window.ga !== 'undefined') {
                window.ga = function() {};
            }
            
            if (typeof window.gtag !== 'undefined') {
                window.gtag = function() {};
            }
            
            // ===== ANTI-ADBLOCKERS =====
            const adBlockTest = document.createElement('div');
            adBlockTest.innerHTML = '&nbsp;';
            adBlockTest.className = 'adsbox pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad';
            adBlockTest.style.cssText = 'position: absolute; top: -10px; left: -10px; width: 1px; height: 1px; visibility: hidden;';
            document.body.appendChild(adBlockTest);
            
            setTimeout(function() {
                if (adBlockTest.offsetHeight === 0) {
                    console.warn('⚠️ Ad blocker detected');
                }
                document.body.removeChild(adBlockTest);
            }, 100);
            
            // ===== ANTI-BOT PROTECTION =====
            const botPatterns = [
                /bot/i,
                /crawler/i,
                /spider/i,
                /scraper/i,
                /curl/i,
                /wget/i,
                /python/i,
                /java/i,
                /perl/i,
                /php/i
            ];
            
            const userAgent = navigator.userAgent;
            const isBot = botPatterns.some(pattern => pattern.test(userAgent));
            
            if (isBot) {
                console.warn('⚠️ Bot detected');
                // Don't block, just monitor
            }
            
            console.log('🔒 Advanced security layer activated');
            
        })();
        
        // ===== SUCCESS FLAGS =====
        const MOBILE_SCROLL_OK = true;
        const SYNC_TEST_OK = true;
        const LOGO_UPLOAD_OK = true;
        const PORTFOLIO_COLORS_OK = true;

        // ===== COMPREHENSIVE ENHANCED STORAGE AND SYNC SYSTEM =====
        class AdvancedStorage {
            constructor() {
                this.storageKey = 'graphosAdvancedData';
                this.syncInterval = 30000; // 30 seconds
                this.autoSync = true;
                this.init();
            }

            init() {
                // قراءة البيانات الحالية أو إنشاء هيكل افتراضي
                let data = this.getData();

                if (!data) {
                    // أول مرة: ننشئ كل شيء من الافتراضيات
                    data = {
                        services: this.getDefaultServices(),
                        settings: this.getDefaultSettings(),
                        content: this.getDefaultContent(),
                        analytics: this.getDefaultAnalytics(),
                        customizations: this.getDefaultCustomizations(),
                        lastUpdated: new Date().toISOString(),
                        version: '3.0.0'
                    };
                } else {
                    // دمج الخدمات الافتراضية مع الخدمات المحفوظة
                    // نحافظ على الصور والتعديلات المحفوظة، ونضيف فقط خدمات جديدة
                    const defaultServices = this.getDefaultServices();
                    const savedServices = data.services || [];
                    
                    data.services = defaultServices.map(defaultService => {
                        const savedService = savedServices.find(s => s.id === defaultService.id);
                        if (savedService) {
                            // نحتفظ بالصورة والتعديلات المحفوظة
                            return {
                                ...defaultService,
                                image: savedService.image || defaultService.image,
                                features_ar: savedService.features_ar || defaultService.features_ar,
                                features_en: savedService.features_en || defaultService.features_en,
                                pricing: savedService.pricing || defaultService.pricing,
                                name_ar: savedService.name_ar || defaultService.name_ar,
                                name_en: savedService.name_en || defaultService.name_en,
                                description_ar: savedService.description_ar || defaultService.description_ar,
                                description_en: savedService.description_en || defaultService.description_en
                            };
                        }
                        return defaultService;
                    });
                }

                this.setData(data);

                // Start auto-sync if enabled
                if (this.autoSync) {
                    this.startAutoSync();
                }

                // Listen for storage events from other tabs
                window.addEventListener('storage', (e) => {
                    if (e.key === this.storageKey && e.newValue) {
                        this.notifyChanges();
                    }
                });
            }

            getDefaultServices() {
                return [
                    {
                        id: 1,
                        name_ar: 'تصميم الشعارات الاحترافية',
                        name_en: 'Professional Logo Design',
                        icon: 'fas fa-palette',
                        description_ar: 'تصميم شعارات فريدة تعبر عن هوية علامتك التجارية بدقة وإبداع',
                        description_en: 'Unique logo designs that perfectly represent your brand identity',
                        image: 'https://images.unsplash.com/photo-1634942537034-2531766767d1?w=400&h=250&fit=crop',
                        pricing: [
                            { duration_ar: '4 أيام', duration_en: '4 days', price: 15 },
                            { duration_ar: '3 أيام', duration_en: '3 days', price: 20 },
                            { duration_ar: 'يومين', duration_en: '2 days', price: 25 },
                            { duration_ar: '24 ساعة', duration_en: '24 hours', price: 30 },
                            { duration_ar: '6-7 ساعات', duration_en: '6-7 hours', price: 40 }
                        ],
                        features_ar: ['ملفات متعددة (PNG, JPG, SVG, AI)', 'دليل الألوان والخطوط', 'حقوق الملكية 100%'],
                        features_en: ['Multiple files (PNG, JPG, SVG, AI)', 'Color and font guide', '100% ownership rights']
                    },
                    {
                        id: 2,
                        name_ar: 'إنتاج الفيديوهات التسويقية',
                        name_en: 'Marketing Video Production',
                        icon: 'fas fa-video',
                        description_ar: 'إنتاج فيديوهات إبداعية عالية الجودة لتسويق منتجاتك وخدماتك',
                        description_en: 'Creative high-quality video production for marketing your products and services',
                        image: 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400&h=250&fit=crop',
                        pricing: [
                            { duration_ar: '30 ثانية', duration_en: '30 seconds', price: 20 },
                            { duration_ar: '60 ثانية', duration_en: '60 seconds', price: 30 },
                            { duration_ar: '90 ثانية', duration_en: '90 seconds', price: 40 },
                            { duration_ar: '120 ثانية', duration_en: '120 seconds', price: 50 }
                        ],
                        features_ar: ['جودة 4K', 'مؤثرات بصرية متقدمة', 'موسيقى احترافية', 'نصوص متحركة'],
                        features_en: ['4K quality', 'Advanced visual effects', 'Professional music', 'Animated texts']
                    },
                    {
                        id: 3,
                        name_ar: 'العروض التقديمية المتطورة',
                        name_en: 'Advanced Presentations',
                        icon: 'fas fa-desktop',
                        description_ar: 'تصميم عروض تقديمية احترافية وجذابة تعزز رسالتك وتؤثر في جمهورك',
                        description_en: 'Professional and engaging presentation designs that enhance your message and impact your audience',
                        image: 'https://images.unsplash.com/photo-1497032628192-86f99bcd76bc?w=400&h=250&fit=crop',
                        pricing: [
                            { duration_ar: '4 ريال لكل شريحة (حد أدنى 5 شرائح)', duration_en: '4 SAR per slide (minimum 5 slides)', price: 4 }
                        ],
                        features_ar: ['تصميم احترافي', 'قوالب مبتكرة', 'توافق مع جميع الأجهزة'],
                        features_en: ['Professional design', 'Innovative templates', 'Compatible with all devices']
                    },
                    {
                        id: 4,
                        name_ar: 'تصميم المواقع الإلكترونية',
                        name_en: 'Website Design',
                        icon: 'fas fa-code',
                        description_ar: 'تصميم وتطوير مواقع إلكترونية متكاملة متجاوبة مع جميع الأجهزة',
                        description_en: 'Complete website design and development responsive to all devices',
                        image: 'https://images.unsplash.com/photo-1507238691740-187a5b1d37b8?w=400&h=250&fit=crop',
                        pricing: [
                            { duration_ar: 'موقع متكامل', duration_en: 'Complete website', price: 1500, original_price: 2000 }
                        ],
                        features_ar: ['تصميم متجاوب', 'تحسين محركات البحث', 'لوحة تحكم سهلة', 'شهادة SSL'],
                        features_en: ['Responsive design', 'SEO optimization', 'Easy control panel', 'SSL certificate']
                    },
                    {
                        id: 5,
                        name_ar: 'الباقة الشاملة المتكاملة',
                        name_en: 'Comprehensive Full Package',
                        icon: 'fas fa-gem',
                        description_ar: 'حزمة متكاملة تشمل شعار، فيديو، وعرض تقديمي بخصم خاص',
                        description_en: 'Complete package including logo, video, and presentation with special discount',
                        image: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=400&h=250&fit=crop',
                        pricing: [
                            { duration_ar: 'شعار + فيديو 60ث + 10 شرائح', duration_en: 'Logo + 60s video + 10 slides', price: 65 },
                            { duration_ar: 'شعار + فيديو 120ث + 20 شرائح', duration_en: 'Logo + 120s video + 20 slides', price: 115 }
                        ],
                        features_ar: ['توفير 30%', 'تصميم متناسق', 'تسليم أسرع', 'دعم مميز'],
                        features_en: ['Save 30%', 'Consistent design', 'Faster delivery', 'Premium support']
                    },
                    {
                        id: 6,
                        name_ar: 'إعطاء فكرة',
                        name_en: 'Idea Generation',
                        icon: 'fas fa-lightbulb',
                        description_ar: 'تقديم أفكار إبداعية ومبتكرة لمشاريعك وعلامتك التجارية',
                        description_en: 'Providing creative and innovative ideas for your projects and brand',
                        image: 'https://images.unsplash.com/photo-1504711434969-e33886168f5c?w=400&h=250&fit=crop',
                        pricing: [
                            { duration_ar: 'فكرة واحدة', duration_en: 'One idea', price: 20 }
                        ],
                        features_ar: ['فكرة إبداعية فريدة', 'مناسبة لمشروعك', 'تطوير الفكرة معك', 'تسليم خلال 24 ساعة'],
                        features_en: ['Unique creative idea', 'Tailored to your project', 'Idea development with you', 'Delivery within 24 hours']
                    }
                ];
            }

            getDefaultSettings() {
                return {
                    siteName: 'Graphos Services',
                    siteEmail: 'Graphos.svcs@gmail.com',
                    sitePhone: '+966 53 368 2916',
                    whatsappNumber: '966533682916',
                    language: 'ar',
                    theme: 'light',
                    autoSync: true,
                    cloudBackup: false,
                    offlineMode: true
                };
            }

            getDefaultContent() {
                return {
                    home: {
                        title_ar: 'منصتك الرقمية الاحترافية',
                        title_en: 'Your Professional Digital Platform',
                        description_ar: 'مرحباً بك في Graphos Services - منصتك الشاملة لتحويل الأفكار إلى واقع ملموس. نقدم حلول تصميم وإبداع متكاملة باستخدام أحدث تقنيات الذكاء الاصطناعي. شعارات، فيديوهات، عروض تقديمية، ومواقع إلكترونية بجودة استثنائية.',
                        description_en: 'Welcome to Graphos Services - your comprehensive platform for turning ideas into reality. We provide integrated design and creative solutions using the latest AI technologies. Logos, videos, presentations, and websites with exceptional quality.'
                    },
                    about: {
                        title_ar: 'منصة إبداعية رائدة',
                        title_en: 'Creative Leading Platform',
                        description_ar: 'Graphos Services ليست مجرد منصة عادية، بل هي رفيقك الإبداعي في رحلة تحويل الأفكار إلى واقع ملموس. نؤمن بأن كل فكرة تستحق أن ترى النور، وكل مشروع يستحق أن يظهر بأفضل صورة.',
                        description_en: 'Graphos Services is not just an ordinary platform, but your creative companion in the journey of turning ideas into reality. We believe that every idea deserves to see the light, and every project deserves to appear in the best form.'
                    }
                };
            }

            getDefaultAnalytics() {
                return {
                    totalVisits: 0,
                    popularService: '',
                    avgVisitTime: 0,
                    lastVisit: null,
                    visitHistory: []
                };
            }

            getDefaultCustomizations() {
                return {
                    customCSS: '',
                    customJS: '',
                    customHTML: '',
                    logo: null,
                    colors: {
                        primary: '#0a0a0a',
                        secondary: '#d4af37',
                        accent: '#f8f9fa'
                    },
                    backgrounds: {
                        hero: '',
                        services: '',
                        about: ''
                    }
                };
            }

            clearSensitiveData() {
                // Clear all sensitive data if security breach detected
                localStorage.removeItem(this.storageKey);
                localStorage.removeItem('storageUpdate');
                // Clear any other sensitive keys
                Object.keys(localStorage).forEach(key => {
                    if (key.includes('admin') || key.includes('token') || key.includes('session')) {
                        localStorage.removeItem(key);
                    }
                });
            }

            getData() {
                try {
                    const data = localStorage.getItem(this.storageKey);
                    return data ? JSON.parse(data) : null;
                } catch (error) {
                    console.error('Error reading storage data:', error);
                    return null;
                }
            }

            setData(data) {
                try {
                    data.lastUpdated = new Date().toISOString();
                    localStorage.setItem(this.storageKey, JSON.stringify(data));
                    
                    // Notify other tabs about the change
                    localStorage.setItem('storageUpdate', Date.now().toString());
                    
                    return true;
                } catch (error) {
                    console.error('Error saving storage data:', error);
                    return false;
                }
            }

            updateService(serviceId, updates) {
                const data = this.getData();
                if (!data) return false;

                const serviceIndex = data.services.findIndex(s => s.id === serviceId);
                if (serviceIndex === -1) return false;

                data.services[serviceIndex] = { ...data.services[serviceIndex], ...updates };
                return this.setData(data);
            }

            updateSettings(newSettings) {
                const data = this.getData();
                if (!data) return false;

                data.settings = { ...data.settings, ...newSettings };
                return this.setData(data);
            }

            updateContent(newContent) {
                const data = this.getData();
                if (!data) return false;

                data.content = { ...data.content, ...newContent };
                return this.setData(data);
            }

            updateCustomizations(newCustomizations) {
                const data = this.getData();
                if (!data) return false;

                data.customizations = { ...data.customizations, ...newCustomizations };
                return this.setData(data);
            }

            recordVisit() {
                const data = this.getData();
                if (!data) return false;

                data.analytics.totalVisits++;
                data.analytics.lastVisit = new Date().toISOString();
                data.analytics.visitHistory.push({
                    timestamp: new Date().toISOString(),
                    userAgent: navigator.userAgent,
                    language: navigator.language
                });

                // Keep only last 100 visits
                if (data.analytics.visitHistory.length > 100) {
                    data.analytics.visitHistory = data.analytics.visitHistory.slice(-100);
                }

                return this.setData(data);
            }

            startAutoSync() {
                this.syncIntervalId = setInterval(() => {
                    this.syncData();
                }, this.syncInterval);
            }

            stopAutoSync() {
                if (this.syncIntervalId) {
                    clearInterval(this.syncIntervalId);
                }
            }

            syncData() {
                // In a real application, this would sync with a cloud service
                // For now, we'll just update the timestamp
                const data = this.getData();
                if (data) {
                    data.lastSynced = new Date().toISOString();
                    this.setData(data);
                }
            }

            exportData() {
                const data = this.getData();
                if (!data) return null;

                const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                return url;
            }

            importData(jsonData) {
                try {
                    const data = JSON.parse(jsonData);
                    return this.setData(data);
                } catch (error) {
                    console.error('Error importing data:', error);
                    return false;
                }
            }

            notifyChanges() {
                // Dispatch a custom event that other parts of the app can listen to
                window.dispatchEvent(new CustomEvent('storageUpdated', {
                    detail: { timestamp: new Date().toISOString() }
                }));
            }

            getStorageInfo() {
                const data = this.getData();
                if (!data) return null;

                const dataSize = new Blob([JSON.stringify(data)]).size;
                const maxSize = 5 * 1024 * 1024; // 5MB typical localStorage limit

                return {
                    dataSize,
                    maxSize,
                    usagePercent: (dataSize / maxSize) * 100,
                    lastUpdated: data.lastUpdated,
                    itemCount: Object.keys(data).length
                };
            }
        }

        // ===== ENHANCED AI SYSTEM =====
        class AdvancedAI {
            constructor() {
                this.conversationHistory = [];
                this.userPreferences = {};
                this.context = {};
                this.knowledgeBase = this.initializeKnowledgeBase();
                this.currentLanguage = 'ar';
                this.isLearning = true;
            }

            initializeKnowledgeBase() {
                return {
                    services: {
                        logos: {
                            basePrice: 15,
                            description: {
                                ar: 'تصميم شعارات فريدة تعبر عن هوية علامتك التجارية بدقة وإبداع',
                                en: 'Unique logo designs that perfectly represent your brand identity'
                            },
                            delivery: {
                                ar: '1-4 أيام',
                                en: '1-4 days'
                            }
                        },
                        videos: {
                            basePrice: 20,
                            description: {
                                ar: 'إنتاج فيديوهات إبداعية عالية الجودة لتسويق منتجاتك وخدماتك',
                                en: 'Creative high-quality video production for marketing your products and services'
                            },
                            delivery: {
                                ar: '2-5 أيام',
                                en: '2-5 days'
                            }
                        },
                        websites: {
                            basePrice: 1500,
                            description: {
                                ar: 'تصميم وتطوير مواقع إلكترونية متكاملة متجاوبة مع جميع الأجهزة',
                                en: 'Complete website design and development responsive to all devices'
                            },
                            delivery: {
                                ar: '7-14 يوم',
                                en: '7-14 days'
                            }
                        },
                        ideas: {
                            basePrice: 20,
                            description: {
                                ar: 'تقديم أفكار إبداعية ومبتكرة لمشاريعك وعلامتك التجارية',
                                en: 'Providing creative and innovative ideas for your projects and brand'
                            },
                            delivery: {
                                ar: '24 ساعة',
                                en: '24 hours'
                            }
                        },
                        full_package: {
                            basePrice: 65,
                            description: {
                                ar: 'حزمة متكاملة تشمل شعار، فيديو، وعرض تقديمي بخصم خاص',
                                en: 'Complete package including logo, video, and presentation with special discount'
                            },
                            delivery: {
                                ar: '5-10 أيام',
                                en: '5-10 days'
                            }
                        }
                    },
                    pricing: {
                        negotiable: true,
                        discounts: {
                            bundle: 15,
                            repeat: 10
                        }
                    },
                    responses: this.getResponseTemplates()
                };
            }

            getResponseTemplates() {
                return {
                    ar: {
                        pricing: [
                            "📊 **الأسعار**:\n\n✨ **نقدم أسعار تنافسية**:\n• تصميم الشعارات: 15 ريال\n• إنتاج الفيديوهات: 20 ريال\n• تصميم المواقع: 1500 ريال\n• الأفكار الإبداعية: 20 ريال\n• الباقة الشاملة: 65 ريال\n\n💰 **الخصومات**:\n• خصم 15% عند طلب حزمة كاملة\n• خصم 10% للعملاء المتكررين\n\n📈 **نقدم دائماً أفضل الأسعار**:\n✓ بدون مخالفات\n✓ بدون مخاطر\n✓ بدون تكاليف إضافية",
                            "📈 **نقدم دائماً أفضل الأسعار**:\n✓ بدون مخالفات\n✓ بدون مخاطر\n✓ بدون تكاليف إضافية",
                            "📊 **الأسعار**:\n\n✨ **نقدم أسعار تنافسية**:\n• تصميم الشعارات: 15 ريال\n• إنتاج الفيديوهات: 20 ريال\n• تصميم المواقع: 1500 ريال\n• الأفكار الإبداعية: 20 ريال\n• الباقة الشاملة: 65 ريال"
                        ],
                        logo_design: "🎨 **تصميم الشعارات الاحترافية**:\n\n✨ **ما نقدمه في تصميم الشعارات**:\n• تصميم فريد ومتكامل\n• يلبي احتياجاتك الفنية\n• يبرز هوية علامتك التجارية\n\n💰 **السعر**: 15 ريال\n\n⏰ **مدة التسليم**: 1-4 أيام\n\n🎯 **لماذا نقدم أفضل التصاميم؟**\n✓ خبرة طويلة\n✓ فريق عمل محترف\n✓ استخدام أحدث التقنيات",
                        video_production: "🎬 **إنتاج الفيديوهات التسويقية**:\n\n✨ **ما نقدمه في الفيديوهات**:\n• فيديو احترافي بتقنية 4K\n• إضافة مؤثرات بصرية متقدمة\n• موسيقى وخلفيات صوتية احترافية\n• نصوص متحركة وجذابة\n• صوتيات واضحة ومحترفة\n• مناسب لوسائل التواصل الاجتماعي\n\n💰 **الأسعار**:\n• 30 ثانية: 20 ريال\n• 60 ثانية: 30 ريال\n• 90 ثانية: 40 ريال\n• 120 ثانية: 50 ريال\n\n⏰ **مدة التسليم**: 2-5 أيام عمل\n\n🎯 **لماذا فيديوهاتنا مؤثرة؟**\n✓ قصة مشوقة تلامس المشاعر\n✓ جودة إنتاج عالية\n✓ تركيز على الرسالة الأساسية\n✓ مناسب للجمهور المستهدف\n\nأخبرني عن فكرة الفيديو الذي تريده! 📹",
                        website_design: "🌐 **تصميم المواقع الإلكترونية**:\n\n✨ **ما نقدمه في تصميم المواقع**:\n• تصميم متجاوب لجميع الأجهزة\n• تحسين محركات البحث (SEO)\n• لوحة تحكم سهلة الاستخدام\n• تكامل مع وسائل التواصل الاجتماعي\n• نموذج اتصال وإدارة محتوى\n• شهادة SSL للأمان\n\n💰 **السعر**: 1500 ريال (بدلاً من 2000 ريال)\n\n⏰ **مدة التسليم**: 7-14 يوم عمل\n\n💎 **لماذا نتميز في تصميم المواقع؟**\n✓ سرعة تحميل عالية\n✓ تجربة مستخدم متميزة\n✓ تصميم عصري وجذاب\n✓ أمان وحماية متكاملة\n\nهل تريد بدء مشروع موقعك الإلكتروني؟ 🌟",
                        idea_generation: "💡 **إعطاء فكرة إبداعية**:\n\n✨ **ما نقدمه في خدمة إعطاء الفكرة**:\n• فكرة إبداعية فريدة مناسبة لمشروعك\n• شرح مفصل للفكرة\n• اقتراحات للتنفيذ\n• تحليل المنافسين\n• تحديد الجمهور المستهدف\n\n💰 **السعر**: 20 ريال\n\n⏰ **مدة التسليم**: 24 ساعة\n\n🚀 **ما ستحصل عليه**:\n✓ فكرة مشروع مبتكرة\n✓ خارطة طريق للتنفيذ\n✓ اقتراحات استراتيجية تسويقية\n✓ التحديات المحتملة وحلولها\n\n💎 **لماذا أفكارنا مميزة؟**\n✓ مبنية على دراسة السوق\n✓ مخصصة لاحتياجاتك\n✓ مبتكرة وقابلة للتنفيذ\n✓ جاهزة للتطبيق\n\nهل تريد الحصول على فكرة إبداعية لمشروعك؟ 🚀",
                        full_package: "💎 **الباقة الشاملة المتكاملة**:\n\n✨ **ما نقدمه في الباقة الشاملة**:\n• تصميم شعار احترافي\n• فيديو تسويقي (حتى 60 ثانية)\n• عرض تقديمي متطور (10 شرائح)\n• دليل هوية بصرية متكامل\n• حزمة وسائل التواصل الاجتماعي\n\n💰 **السعر**: 65 ريال (وفر 30% مقارنة بالخدمات الفردية)\n\n⏰ **مدة التسليم**: 5-10 أيام عمل\n\n🚀 **الباقة المميزة**:\n• 20 شريحة + فيديو دقيقتين + شعار: 115 ريال\n• مراجعات إضافية ودعم مميز\n• دعم فني ممتد لمدة 14 يوم\n\n💎 **لماذا تختار باقاتنا؟**\n✓ حل متكامل لعملك\n✓ تصميم متناسق عبر جميع المواد\n✓ توفير كبير في التكلفة\n✓ تسليم أسرع للخدمات المتعددة\n\nأي باقة تهمك؟ 😊",
                        refund: "🛡️ **سياسة الاسترجاع والضمان**:\n\nنحن نؤمن برضاك التام ونقدم أقوى الضمانات:\n\n✅ **ضمان الرضا التام**:\n• نعمل معك حتى تحصل على ما تتوقعه بالضبط\n• مراجعات مجانية غير محدودة\n• تعديلات حتى الرضا الكامل\n\n✅ **ضمان الاسترجاع**:\n• استرجاع كامل للمبلغ إذا لم نستطع تلبية متطلباتك\n• في حال عدم الرضا بعد كل محاولاتنا للتعديل\n• بدون تعقيدات أو إجراءات معقدة\n\n✅ **ضمان الجودة**:\n• أعلى معايير الجودة في كل عمل\n• فحص دقيق قبل التسليم\n• التزام بمواصفاتك المطلوبة\n\n🎯 **هدفنا**: رضاك التام ونجاح مشروعك!",
                        refund_negative: "😔 **أولاً: نعتذر بشدة**\n\nنحن نتفهم استياءك ونعتذر عن أي تقصير. رضاك هو أهم أولوياتنا.\n\n🛡️ **سياسة الاسترجاع الشاملة**:\n\n• إذا كان الخطأ من جهتنا ولم نستطع تلبية توقعاتك رغم المحاولات، نقدم استرجاع كامل 100%.\n• إذا كان هناك سوء فهم أو متطلبات غير واضحة، نعمل على حلها معك حتى الرضا التام.\n• نقدم مراجعات مجانية غير محدودة حتى ترضى عن النتيجة النهائية.\n\n💎 **ضماننا لك**:\n\"نعمل حتى ترضى 100% عن العمل المُسلم، وإلا نستعيد عملك ونسترجع مالك!\"\n\n📞 **لحل مشكلتك**:\nيمكنك التواصل مع مدير الجودة مباشرة على: +966 53 368 2916\n\nأخبرني بالمشكلة بالتفصيل وسأحرص على حلها فوراً! 🚀",
                        general_inquiry: [
                            "🤔 **لقد استمعت لطلبك!**\n\nهذا يبدو مثيراً للاهتمام! 🚀 دعني أساعدك في العثور على الحل الأمثل.\n\n🎯 **لأفضل خدمة، أحتاج معرفة**:\n• نوع المشروع الذي تخطط له\n• الميزانية المتوقعة\n• الجدول الزمني المطلوب\n• أي متطلبات خاصة لديك\n\nأخبرني بالمزيد وسأقدم لك الحل الأنسب! 💎",
                            "💡 **رائع! لدي عدة اقتراحات قد تناسبك**\n\nبناءً على طلبك، أرى أن هذه الخدمات قد تكون مثالية:\n\n🎨 **إذا كنت تبدأ مشروعاً جديداً**:\n• تصميم شعار يعبر عن هويتك\n• فيديو تقديمي للمشروع\n• عرض تقديمي احترافي\n\n🌐 **إذا كنت تطور عملك**:\n• موقع إلكتروني متكامل\n• فيديوهات تسويقية\n• هوية بصرية متكاملة\n\nأي من هذه المجالات تهمك أكثر؟ 😊"
                        ]
                    },
                    en: {
                        pricing: [
                            "💰 **Pricing**:\n\n✨ **We offer competitive prices**:\n• Logo design: 15 SAR\n• Video production: 20 SAR\n• Website design: 1500 SAR\n• Idea generation: 20 SAR\n• Full package: 65 SAR\n\n📈 **Discounts**:\n• 15% discount for full package\n• 10% discount for repeat customers\n\n📊 **We always offer the best prices**:\n✓ No hidden fees\n✓ No risks\n✓ No extra costs",
                            "📈 **We always offer the best prices**:\n✓ No hidden fees\n✓ No risks\n✓ No extra costs",
                            "📊 **Pricing**:\n\n✨ **We offer competitive prices**:\n• Logo design: 15 SAR\n• Video production: 20 SAR\n• Website design: 1500 SAR\n• Idea generation: 20 SAR\n• Full package: 65 SAR"
                        ],
                        logo_design: "🎨 **Professional Logo Design**:\n\n✨ **What we offer in logo design**:\n• Unique and comprehensive design\n• Meets your technical requirements\n• Highlights your brand identity\n\n💰 **Price**: 15 SAR\n\n⏰ **Delivery time**: 1-4 days\n\n🎯 **Why we offer the best designs?**\n✓ Long experience\n✓ Professional team\n✓ Use of latest technologies",
                        video_production: "🎬 **Marketing Video Production**:\n\n✨ **What we offer in videos**:\n• Professional 4K video\n• Advanced visual effects\n• Professional music and sound design\n• Engaging motion graphics and texts\n• Clear and high-quality voice-over (if needed)\n• Optimized for social media platforms\n\n💰 **Prices**:\n• 30 seconds: 20 SAR\n• 60 seconds: 30 SAR\n• 90 seconds: 40 SAR\n• 120 seconds: 50 SAR\n\n⏰ **Delivery time**: 2-5 business days\n\n🎯 **Why our videos work?**\n✓ Storytelling that touches emotions\n✓ High production quality\n✓ Focus on your core message\n✓ Tailored to your target audience\n\nTell me about the video you have in mind! 📹",
                        website_design: "🌐 **Website Design & Development**:\n\n✨ **What we provide in website projects**:\n• Responsive design for all devices\n• Search Engine Optimization (SEO)\n• Easy-to-use admin panel\n• Social media integration\n• Contact form and content management\n• SSL certificate for security\n\n💰 **Price**: 1500 SAR (instead of 2000 SAR)\n\n⏰ **Delivery time**: 7-14 business days\n\n💎 **Why our websites stand out?**\n✓ Fast loading speed\n✓ Excellent user experience\n✓ Modern and attractive design\n✓ Strong security and protection\n\nWould you like to start your website project? 🌟",
                        idea_generation: "💡 **Creative Idea Generation**:\n\n✨ **What we offer in idea generation**:\n• A unique creative idea tailored to your project\n• Detailed explanation of the idea\n• Implementation suggestions\n• Competitor analysis\n• Defining the target audience\n\n💰 **Price**: 20 SAR\n\n⏰ **Delivery time**: 24 hours\n\n🚀 **What you get?**\n✓ An innovative project idea\n✓ A roadmap for implementation\n✓ Strategic marketing suggestions\n✓ Potential challenges and solutions\n\n💎 **Why our ideas are special?**\n✓ Based on market research\n✓ Customized to your needs\n✓ Innovative and practical\n✓ Ready to implement\n\nWould you like to get a creative idea for your project? 🚀",
                        full_package: "💎 **Full Integrated Package**:\n\n✨ **What the full package includes?**\n• Professional logo design\n• Marketing video (up to 60 seconds)\n• Advanced presentation (10 slides)\n• Complete brand identity guide\n• Social media kit\n\n💰 **Price**: 65 SAR (save about 30% vs individual services)\n\n⏰ **Delivery time**: 5-10 business days\n\n🚀 **Premium package:**\n• 20 slides + 2-minute video + logo: 115 SAR\n• Extra revisions and priority support\n• Extended technical support for 14 days\n\n💎 **Why choose our packages?**\n✓ All-in-one solution for your business\n✓ Consistent design across all materials\n✓ Great value for money\n✓ Faster delivery for multiple services\n\nWhich package are you interested in? 😊",
                        refund: "🛡️ **Refund & Guarantee Policy**:\n\nWe truly care about your satisfaction and offer strong guarantees:\n\n✅ **Satisfaction guarantee**:\n• We work with you until you get exactly what you expect\n• Unlimited free revisions within scope\n• Edits until full satisfaction\n\n✅ **Refund guarantee**:\n• Full refund if we cannot meet your requirements\n• If you are not satisfied after all our attempts to adjust\n• No complicated or lengthy procedures\n\n✅ **Quality guarantee**:\n• Highest quality standards in every project\n• Thorough review before delivery\n• Full commitment to your requested specifications\n\n🎯 **Our goal**: Your complete satisfaction and your project’s success!",
                        refund_negative: "😔 **First: We sincerely apologize**\n\nWe understand your frustration and are truly sorry for any inconvenience. Your satisfaction is our top priority.\n\n🛡️ **Comprehensive refund policy:**\n\n• If the fault is on our side and we could not meet your expectations despite attempts, we offer a 100% full refund.\n• If there was any misunderstanding or unclear requirements, we work with you to fix it until you are satisfied.\n• We offer unlimited free revisions until you approve the final result.\n\n💎 **Our promise to you:**\n\n\"We work until you are 100% satisfied with the delivered work, otherwise you get your money back.\"\n\n📞 **To solve your issue:**\nYou can contact the quality manager directly at: +966 53 368 2916\n\nTell me the problem in detail and I will make sure it is solved immediately! 🚀",
                        general_inquiry: [
                            "🤔 **I’ve read your request!**\n\nThat sounds interesting! 🚀 Let me help you find the best solution.\n\n🎯 **To recommend the best service, I need to know:**\n• The type of project you’re planning\n• Your expected budget\n• Your desired delivery time\n• Any special requirements you have\n\nTell me more and I’ll suggest the most suitable option! 💎",
                            "💡 **Great! I have some ideas that may fit you**\n\nBased on what you want, these services might be ideal:\n\n🎨 **If you’re starting a new project:**\n• Logo design that reflects your brand\n• Intro/overview video for the project\n• Professional presentation\n\n🌐 **If you’re growing your business:**\n• Full website\n• Marketing videos\n• Complete visual identity\n\nWhich of these areas interests you the most? 😊"
                        ]
                    }
                }
            }

            setLanguage(lang) {
                this.currentLanguage = lang;
            }

            async generateResponse(userMessage, context = {}) {
                this.conversationHistory.push({
                    role: 'user',
                    content: userMessage,
                    timestamp: new Date(),
                    language: this.currentLanguage
                });

                const intent = this.analyzeIntent(userMessage);
                const sentiment = this.analyzeSentiment(userMessage);
                
                let response = await this.processIntent(intent, userMessage, context, sentiment);
                
                this.conversationHistory.push({
                    role: 'assistant',
                    content: response,
                    timestamp: new Date(),
                    language: this.currentLanguage
                });

                // Learn from interaction if enabled
                if (this.isLearning) {
                    this.learnFromInteraction(userMessage, response, intent, sentiment);
                }

                return response;
            }

            analyzeIntent(message) {
                const lowerMessage = message.toLowerCase();
                
                if (/(سعر|تكلفة|كم|ثمن|price|cost)/i.test(message)) return 'pricing';
                if (/(لوجو|شعار|logo)/i.test(message)) return 'logo_design';
                if (/(فيديو|video|تسويق)/i.test(message)) return 'video_production';
                if (/(موقع|website|ويب|web)/i.test(message)) return 'website_design';
                if (/(فكرة|idea|أفكار)/i.test(message)) return 'idea_generation';
                if (/(عرض|باقة|package|باكج|comprehensive|full)/i.test(message)) return 'full_package';
                if (/(دفع|payment|stc|بطاقة)/i.test(message)) return 'payment';
                if (/(تسليم|متى|وقت|موعد|delivery)/i.test(message)) return 'delivery';
                if (/(تعديل|مراجعة|review|تغيير)/i.test(message)) return 'revision';
                if (/(استرجاع|refund|إلغاء|cancel)/i.test(message)) return 'refund';
                if (/(اتصال|تحدث|كلم|contact)/i.test(message)) return 'contact';
                if (/(خدمة|طلب|شراء|service|order|buy)/i.test(message)) return 'service';
                
                return 'general_inquiry';
            }

            analyzeSentiment(message) {
                const positiveWords = ['ممتاز', 'رائع', 'جميل', 'احترافي', 'شكرا', 'مشكور', 'يعطيك العافية', 'excellent', 'amazing', 'great', 'professional', 'thanks'];
                const negativeWords = ['سيء', 'ضعيف', 'مشكلة', 'خطأ', 'غلط', 'مرفوض', 'لا يعجبني', 'bad', 'poor', 'problem', 'error', 'wrong', 'rejected'];
                
                let score = 0;
                positiveWords.forEach(word => {
                    if (message.includes(word)) score += 1;
                });
                negativeWords.forEach(word => {
                    if (message.includes(word)) score -= 1;
                });
                
                return score > 0 ? 'positive' : score < 0 ? 'negative' : 'neutral';
            }

            async processIntent(intent, message, context, sentiment) {
                let responses = this.knowledgeBase.responses[this.currentLanguage];

                // Fallback: إذا لم تكن هناك قوالب للغة الحالية (مثل الإنجليزية)، استخدم قوالب العربية
                if (!responses || Object.keys(responses).length === 0) {
                    responses = this.knowledgeBase.responses['ar'];
                }

                if (!responses) {
                    return this.currentLanguage === 'ar' 
                        ? "عذراً، حدث خطأ في النظام. يرجى المحاولة مرة أخرى."
                        : "Sorry, a system error occurred. Please try again.";
                }

                switch (intent) {
                    case 'pricing':
                        return responses.pricing[Math.floor(Math.random() * responses.pricing.length)];
                    case 'logo_design':
                        return responses.logo_design;
                    case 'video_production':
                        return responses.video_production;
                    case 'website_design':
                        return responses.website_design;
                    case 'idea_generation':
                        return responses.idea_generation;
                    case 'full_package':
                        return responses.full_package;
                    case 'refund':
                        return sentiment === 'negative' ? responses.refund_negative : responses.refund;
                    default:
                        return responses.general_inquiry[Math.floor(Math.random() * responses.general_inquiry.length)];
                }
            }

            learnFromInteraction(userMessage, response, intent, sentiment) {
                // In a real implementation, this would update the knowledge base
                // based on user interactions to improve future responses
                console.log('Learning from interaction:', { userMessage, response, intent, sentiment });
                
                // For now, we'll just track interactions for analytics
                if (advancedStorage) {
                    const data = advancedStorage.getData();
                    if (data) {
                        if (!data.analytics.aiInteractions) {
                            data.analytics.aiInteractions = [];
                        }
                        
                        data.analytics.aiInteractions.push({
                            timestamp: new Date().toISOString(),
                            userMessage,
                            response,
                            intent,
                            sentiment,
                            language: this.currentLanguage
                        });
                        
                        // Keep only last 100 interactions
                        if (data.analytics.aiInteractions.length > 100) {
                            data.analytics.aiInteractions = data.analytics.aiInteractions.slice(-100);
                        }
                        
                        advancedStorage.setData(data);
                    }
                }
            }

            getConversationHistory() {
                return this.conversationHistory;
            }

            clearHistory() {
                this.conversationHistory = [];
            }
        }

        // ===== SYSTEM INITIALIZATION =====
        let advancedStorage;
        let advancedAI;

        document.addEventListener('DOMContentLoaded', function() {
            initializeEnhancedSystem();
        });

        async function initializeEnhancedSystem() {
            await showEnhancedLoading();
            
            // Initialize advanced storage system
            advancedStorage = new AdvancedStorage();
            
            // Initialize AI system
            advancedAI = new AdvancedAI();
            
            // Initialize all system components
            initializeEnhancedAI();
            initNavigation();
            initServices();
            initPortfolio();
            initLanguageSystem();
            initFAQ();
            initThemeSystem();
            updateYear();
            initAdminPanel();
            loadCustomScripts();
            // Record visit
            advancedStorage.recordVisit();
            
            // Listen for storage updates
            window.addEventListener('storageUpdated', function(e) {
                // Reload dynamic content when storage changes
                loadDataFromStorageAndRender();
                const lang = document.documentElement.lang || 'ar';
                
                // Show notification to all users about the update
                showNotification(
                    lang === 'ar' ? '🔄 تم تحديث المحتوى!' : '🔄 Content updated!',
                    'info',
                    3000
                );
                
                // Force refresh of all dynamic elements
                setTimeout(() => {
                    // Refresh services
                    initServices();
                    // Refresh portfolio  
                    initPortfolio();
                    // Refresh admin panel if open
                    const adminPanel = document.getElementById('adminPanel');
                    if (adminPanel && adminPanel.style.display !== 'none') {
                        loadAdminServices();
                        loadAnalytics();
                        loadStorageInfo();
                    }
                }, 100);

            // Auto-sync every 30 seconds to ensure all users see latest changes
            setInterval(() => {
                if (advancedStorage) {
                    advancedStorage.syncData();
                    // Trigger update event to refresh all clients
                    window.dispatchEvent(new CustomEvent('storageUpdated', {
                        detail: { 
                            timestamp: new Date().toISOString(),
                            autoSync: true
                        }
                    }));
                }
            }, 30000);
            });
            
            setTimeout(() => {
                const lang = document.documentElement.lang || 'ar';
                showNotification(
                    lang === 'ar'
                        ? 'تم تحميل المنصة المتقدمة بنجاح! 🚀'
                        : 'The advanced platform has loaded successfully! 🚀',
                    'success'
                );
            }, 1000);
        }

        // ===== CROSS-TAB SYNC FUNCTION =====
        function loadDataFromStorageAndRender() {
            initServices();
            initPortfolio();
            loadAdminServices();
            loadAnalytics();
            loadStorageInfo();
            loadAdminContent();
            loadDesignSettings();
        }

        // ===== ENHANCED LOADING SYSTEM =====
        async function showEnhancedLoading() {
            const loader = document.getElementById('loadingScreen');
            const loaderText = document.getElementById('loaderText');
            const loadingBar = document.getElementById('loadingBar');
            const loadingPercent = document.getElementById('loadingPercent');
            const loadingStep = document.getElementById('loadingStep');

            createLoadingParticles();

            const steps = [
                { text: 'Loading core components...', ar: 'جاري تحميل المكونات الأساسية...', duration: 50 },
                { text: 'Initializing advanced UI...', ar: 'جاري تهيئة واجهة المستخدم المتقدمة...', duration: 50 },
                { text: 'Loading advanced AI system...', ar: 'جاري تحميل نظام الذكاء الاصطناعي المتقدم...', duration: 50 },
                { text: 'Setting up storage system...', ar: 'جاري إعداد نظام التخزين المتقدم...', duration: 50 },
                { text: 'Loading dynamic content...', ar: 'جاري تحميل المحتوى الديناميكي...', duration: 50 },
                { text: 'Finalizing setup...', ar: 'جاري إنهاء الإعدادات النهائية...', duration: 50 }
            ];

            let totalProgress = 0;
            
            for (let i = 0; i < steps.length; i++) {
                if (loaderText) {
                    loaderText.textContent = steps[i].ar;
                    loaderText.setAttribute('data-ar', steps[i].ar);
                    loaderText.setAttribute('data-en', steps[i].text);
                }
                if (loadingStep) {
                    loadingStep.textContent = steps[i].ar;
                    loadingStep.setAttribute('data-ar', steps[i].ar);
                    loadingStep.setAttribute('data-en', steps[i].text);
                }
                
                const targetProgress = ((i + 1) / steps.length) * 100;
                while (totalProgress < targetProgress) {
                    totalProgress += 2;
                    if (loadingBar) loadingBar.style.width = totalProgress + '%';
                    if (loadingPercent) loadingPercent.textContent = Math.round(totalProgress) + '%';
                    await new Promise(resolve => setTimeout(resolve, 20));
                }
                
                await new Promise(resolve => setTimeout(resolve, steps[i].duration));
            }

            // Complete loading
            if (loadingBar) loadingBar.style.width = '100%';
            if (loadingPercent) loadingPercent.textContent = '100%';
            
            setTimeout(() => {
                if (loader) {
                    loader.style.opacity = '0';
                    setTimeout(() => {
                        if (loader) loader.style.display = 'none';
                    }, 200);
                }
            }, 200);
        }

        function createLoadingParticles() {
            const container = document.getElementById('loadingParticles');
            if (!container) return;

            const particleCount = 25;
            
            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 5 + 's';
                
                const size = 2 + Math.random() * 4;
                particle.style.width = size + 'px';
                particle.style.height = size + 'px';
                
                particle.style.opacity = 0.3 + Math.random() * 0.7;
                
                container.appendChild(particle);
            }
        }

        // ===== ENHANCED SERVICE MANAGEMENT SYSTEM =====
        function initServices() {
            const servicesGrid = document.getElementById('servicesGrid');
            if (!servicesGrid) return;

            const data = advancedStorage.getData();
            console.log('📦 Storage data loaded:', data);
            let services = data && data.services ? data.services : advancedStorage.getDefaultServices();
            console.log('🔍 Services loaded (first service image):', services[0] ? (services[0].image ? services[0].image.substring(0, 50) + '...' : 'No image') : 'No services');
            
            // Force Advanced Presentations service (id: 3) to use latest pricing & features
            services = services.map(service => {
                if (service.id === 3) {
                    return {
                        ...service,
                        pricing: [
                            { duration_ar: '4 ريال لكل شريحة (حد أدنى 5 شرائح)', duration_en: '4 SAR per slide (minimum 5 slides)', price: 4 }
                        ],
                        features_ar: ['تصميم احترافي', 'قوالب مبتكرة', 'توافق مع جميع الأجهزة'],
                        features_en: ['Professional design', 'Innovative templates', 'Compatible with all devices']
                    };
                }
                return service;
            });
            const currentLang = document.documentElement.lang;
            
            servicesGrid.innerHTML = services.map(service => `
                <div class="service-card" data-service="${service.id}">
                    <div class="service-icon">
                        <i class="${service.icon}"></i>
                    </div>
                    <img src="${service.image}" alt="${currentLang === 'ar' ? service.name_ar : service.name_en}" class="service-image">
                    <h3>${currentLang === 'ar' ? service.name_ar : service.name_en}</h3>
                    <p>${currentLang === 'ar' ? service.description_ar : service.description_en}</p>
                    
                    <div class="service-features">
                        ${(service.features_ar || []).map((feature, index) => `
                            <div class="feature-item">
                                <i class="fas fa-check"></i>
                                <span>${currentLang === 'ar' ? feature : (service.features_en || [])[index]}</span>
                            </div>
                        `).join('')}
                    </div>
                    
                    <table class="pricing-table">
                        <thead>
                            <tr>
                                <th>${currentLang === 'ar' ? 'مدة التسليم' : 'Delivery Time'}</th>
                                <th>${currentLang === 'ar' ? 'السعر' : 'Price'}</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            ${(service.pricing || []).map(item => `
                                <tr>
                                    <td>${currentLang === 'ar' ? item.duration_ar : item.duration_en}</td>
                                    <td>
                                        <span class="price">${item.price} ${currentLang === 'ar' ? 'ريال' : 'SAR'}</span>
                                        ${item.original_price ? `<span class="original-price">${item.original_price} ${currentLang === 'ar' ? 'ريال' : 'SAR'}</span>` : ''}
                                    </td>
                                    <td>
                                        <button class="service-order-btn whatsapp" onclick="showWhatsAppOrder('${currentLang === 'ar' ? service.name_ar : service.name_en}', '${currentLang === 'ar' ? item.duration_ar : item.duration_en}', ${item.price})">
                                            <i class="fab fa-whatsapp"></i>
                                            ${currentLang === 'ar' ? 'اطلب عبر واتساب' : 'Order via WhatsApp'}
                                        </button>
                                    </td>
                                </tr>
                            `).join('')}
                        </tbody>
                    </table>
                    
                    <span class="negotiable">
                        <i class="fas fa-handshake"></i>
                        ${currentLang === 'ar' ? 'جميع الأسعار قابلة للتفاوض حسب تعقيد المشروع ومتطلباتك' : 'All prices are negotiable based on project complexity and your requirements'}
                    </span>
                </div>
            `).join('');
        }

        // ===== ENHANCED PORTFOLIO SYSTEM =====
        function initPortfolio() {
            const portfolioGrid = document.getElementById('portfolioGrid');
            if (!portfolioGrid) return;

            // Portfolio items with proper text visibility
            const portfolioItems = [
                {
                    id: 1,
                    title_ar: 'تصميم شعار لمطعم',
                    title_en: 'Restaurant Logo Design',
                    image: 'https://images.unsplash.com/photo-1600566753151-384129cf4e3e?w=400&h=250&fit=crop',
                    description_ar: 'تصميم شعار مبتكر لمطعم يقدم المأكولات العربية الأصيلة',
                    description_en: 'Innovative logo design for a restaurant serving authentic Arabic cuisine'
                },
                {
                    id: 2,
                    title_ar: 'فيديو تسويقي لتطبيق',
                    title_en: 'App Marketing Video',
                    image: 'https://images.unsplash.com/photo-1551650975-87deedd944c3?w=400&h=250&fit=crop',
                    description_ar: 'إنتاج فيديو تسويقي جذاب لتطبيق جوال مبتكر',
                    description_en: 'Engaging marketing video production for an innovative mobile app'
                },
                {
                    id: 3,
                    title_ar: 'موقع إلكتروني لشركة',
                    title_en: 'Company Website',
                    image: 'https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=400&h=250&fit=crop',
                    description_ar: 'تصميم موقع إلكتروني متكامل لشركة تقنية ناشئة',
                    description_en: 'Complete website design for a emerging technology company'
                },
                {
                    id: 4,
                    title_ar: 'عرض تقديمي لمشروع',
                    title_en: 'Project Presentation',
                    image: 'https://images.unsplash.com/photo-1588196749597-9ff075ee6b5b?w=400&h=250&fit=crop',
                    description_ar: 'تصميم عرض تقديمي احترافي لمشروع استثماري كبير',
                    description_en: 'Professional presentation design for a major investment project'
                }
            ];

            const currentLang = document.documentElement.lang;
            
            portfolioGrid.innerHTML = portfolioItems.map(item => `
                <div class="portfolio-item">
                    <img src="${item.image}" alt="${currentLang === 'ar' ? item.title_ar : item.title_en}" class="portfolio-image">
                    <div class="portfolio-content">
                        <h3>${currentLang === 'ar' ? item.title_ar : item.title_en}</h3>
                        <p>${currentLang === 'ar' ? item.description_ar : item.description_en}</p>
                    </div>
                </div>
            `).join('');
        }

        // ===== ENHANCED WHATSAPP ORDER SYSTEM =====
        function showWhatsAppOrder(serviceName, duration, price) {
            const currentLang = document.documentElement.lang;
            const data = advancedStorage.getData();
            const whatsappNumber = data ? data.settings.whatsappNumber : '966533682916';
            
            let message = currentLang === 'ar' ? 
                `الخدمة: ${serviceName}\n` +
                `المدة: ${duration}\n` +
                `السعر: ${price} ريال\n\n` +
                `أرغب في المزيد من التفاصيل والتفاوض على السعر.` :
                `Service: ${serviceName}\n` +
                `Duration: ${duration}\n` +
                `Price: ${price} SAR\n\n` +
                `I would like more details and to negotiate the price.`;
            
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = `https://wa.me/${whatsappNumber}?text=${encodedMessage}`;
            
            window.open(whatsappUrl, '_blank');
            
            showNotification(
                currentLang === 'ar' ? 
                'جاري فتح واتساب لإكمال طلبك...' : 
                'Opening WhatsApp to complete your order...',
                'success'
            );
        }

        // ===== ENHANCED LANGUAGE SYSTEM =====
        function initLanguageSystem() {
            const languageSwitcher = document.getElementById('languageSwitcher');
            if (languageSwitcher) {
                languageSwitcher.addEventListener('click', function() {
                    const currentLang = document.documentElement.lang;
                    const newLang = currentLang === 'ar' ? 'en' : 'ar';
                    switchLanguage(newLang);
                });
            }

            // Load saved language preference
            const data = advancedStorage.getData();
            if (data && data.settings.language) {
                switchLanguage(data.settings.language, true);
            }
        }

        function switchLanguage(lang, initial = false) {
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'ar' ? 'rtl' : 'ltr';
            
            if (advancedAI) {
                advancedAI.setLanguage(lang);
            }
            
            // Update storage
            if (advancedStorage && !initial) {
                advancedStorage.updateSettings({ language: lang });
            }
            
            updateAllTexts(lang);
            
            const languageSwitcher = document.getElementById('languageSwitcher');
            if (languageSwitcher) {
                const span = languageSwitcher.querySelector('span');
                if (span) {
                    span.textContent = lang === 'ar' ? 'English' : 'العربية';
                    span.setAttribute('data-ar', 'English');
                    span.setAttribute('data-en', 'العربية');
                }
            }
            
            if (!initial) {
                showNotification(
                    lang === 'ar' ? 'تم التبديل إلى اللغة العربية' : 'Switched to English',
                    'info'
                );
            }
        }

        function updateAllTexts(lang) {
            const elements = document.querySelectorAll('[data-ar], [data-en]');
            elements.forEach(element => {
                const text = lang === 'ar' ? element.getAttribute('data-ar') : element.getAttribute('data-en');
                if (text) {
                    if (text.includes('<')) {
                        element.innerHTML = text;
                    } else {
                        element.textContent = text;
                    }
                }
            });
            
            updatePlaceholders(lang);
            updateServiceContent(lang);
        }

        function updatePlaceholders(lang) {
            const placeholders = document.querySelectorAll('[data-ar-placeholder], [data-en-placeholder]');
            placeholders.forEach(element => {
                const placeholder = lang === 'ar' ? 
                    element.getAttribute('data-ar-placeholder') : 
                    element.getAttribute('data-en-placeholder');
                if (placeholder) {
                    element.setAttribute('placeholder', placeholder);
                }
            });
        }

        function updateServiceContent(lang) {
            initServices();
            initPortfolio();
        }

        // ===== ENHANCED THEME SYSTEM =====
        function initThemeSystem() {
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = document.getElementById('themeIcon');
            
            if (themeToggle) {
                themeToggle.addEventListener('click', toggleTheme);
            }

            // Load saved theme preference
            const data = advancedStorage.getData();
            if (data && data.settings.theme === 'dark') {
                enableDarkMode();
            }
        }

        function toggleTheme() {
            const themeIcon = document.getElementById('themeIcon');
            if (document.body.classList.contains('dark-mode')) {
                disableDarkMode();
            } else {
                enableDarkMode();
            }
        }

        function enableDarkMode() {
            document.body.classList.add('dark-mode');
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.className = 'fas fa-sun';
            }
            
            // Update storage
            if (advancedStorage) {
                advancedStorage.updateSettings({ theme: 'dark' });
            }
            
            // Force portfolio texts to gold in dark mode
            const portfolioTexts = document.querySelectorAll('.portfolio .section-header h2, .portfolio .section-header p, .portfolio-content h3, .portfolio-content p');
            portfolioTexts.forEach(el => {
                el.style.color = getComputedStyle(document.documentElement).getPropertyValue('--secondary') || '#d4af37';
            });
            
            const lang = document.documentElement.lang || 'ar';
            showNotification(
                lang === 'ar' ? 'تم تفعيل الوضع الليلي' : 'Dark mode has been enabled',
                'info'
            );
        }

        function disableDarkMode() {
            document.body.classList.remove('dark-mode');
            const themeIcon = document.getElementById('themeIcon');
            if (themeIcon) {
                themeIcon.className = 'fas fa-moon';
            }
            
            // Update storage
            if (advancedStorage) {
                advancedStorage.updateSettings({ theme: 'light' });
            }
            
            // Reset portfolio texts to white in light mode
            const portfolioTexts = document.querySelectorAll('.portfolio .section-header h2, .portfolio .section-header p, .portfolio-content h3, .portfolio-content p');
            portfolioTexts.forEach(el => {
                el.style.color = '#ffffff';
            });
            
            const lang = document.documentElement.lang || 'ar';
            showNotification(
                lang === 'ar' ? 'تم تعطيل الوضع الليلي' : 'Dark mode has been disabled',
                'info'
            );
        }

        // ===== ENHANCED AI ASSISTANT =====
        function initializeEnhancedAI() {
            const aiToggle = document.getElementById('aiToggle');
            const aiChatbot = document.getElementById('aiChatbot');
            const chatInput = document.getElementById('chatInput');
            const sendButton = document.getElementById('sendMessage');
            const heroAiButton = document.getElementById('heroAiButton');

            // Ensure chatbot is always closed on initial load
            if (aiChatbot) {
                aiChatbot.classList.remove('active');
            }

            if (aiToggle) {
                aiToggle.addEventListener('click', function(e) {
                    e.stopPropagation();
                    toggleChatbot();
                });
            }

            if (heroAiButton) {
                heroAiButton.addEventListener('click', function(e) {
                    e.preventDefault();
                    toggleChatbot();
                });
            }

            if (chatInput) {
                chatInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        sendEnhancedMessage();
                    }
                });
            }

            if (sendButton) {
                sendButton.addEventListener('click', sendEnhancedMessage);
            }

            document.querySelectorAll('.suggestion-chip').forEach(chip => {
                chip.addEventListener('click', function() {
                    const message = this.getAttribute('data-msg');
                    if (chatInput) {
                        chatInput.value = message;
                        sendEnhancedMessage();
                    }
                });
            });

            document.querySelectorAll('.quick-btn').forEach(btn => {
                if (!btn.onclick) {
                    btn.addEventListener('click', function() {
                        const message = this.getAttribute('data-msg');
                        if (message && chatInput) {
                            chatInput.value = message;
                            sendEnhancedMessage();
                        }
                    });
                }
            });

            if (aiChatbot) {
                aiChatbot.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }

            document.addEventListener('click', function() {
                if (aiChatbot) {
                    aiChatbot.classList.remove('active');
                }
            });

            const closeChat = document.getElementById('closeChat');
            const clearChat = document.getElementById('clearChat');
            const voiceToggle = document.getElementById('voiceToggle');

            if (closeChat) {
                closeChat.addEventListener('click', function() {
                    if (aiChatbot) aiChatbot.classList.remove('active');
                });
            }

            if (clearChat) {
                clearChat.addEventListener('click', clearChatHistory);
            }

            if (voiceToggle) {
                voiceToggle.addEventListener('click', toggleVoiceRecognition);
            }
        }

        function toggleChatbot() {
            const aiChatbot = document.getElementById('aiChatbot');
            const chatInput = document.getElementById('chatInput');
            
            if (aiChatbot) {
                const isActive = aiChatbot.classList.contains('active');
                
                if (!isActive) {
                    aiChatbot.classList.add('active');
                    if (chatInput) chatInput.focus();
                    
                    // Auto-scroll to bottom
                    setTimeout(() => {
                        const messagesContainer = document.getElementById('chatMessages');
                        if (messagesContainer) {
                            messagesContainer.scrollTop = messagesContainer.scrollHeight;
                        }
                    }, 100);
                } else {
                    aiChatbot.classList.remove('active');
                }
            }
        }

        async function sendEnhancedMessage() {
            const chatInput = document.getElementById('chatInput');
            const message = chatInput ? chatInput.value.trim() : '';
            
            if (!message) return;

            // نضيف رسالة المستخدم أولاً
            addEnhancedChatMessage(message, 'user');
            if (chatInput) chatInput.value = '';

            showEnhancedTypingIndicator();

            try {
                // نحاول أولاً نرجع تفاصيل خدمة ثابتة إذا كانت الرسالة من أزرار البوت
                const serviceDetailsResponse = getServiceDetailsFromMessage(message);

                let response;
                if (serviceDetailsResponse) {
                    response = serviceDetailsResponse;
                } else {
                    // إذا لم تكن رسالة من أزرار الخدمات → نستخدم المساعد الذكي العادي
                    response = await advancedAI.generateResponse(message);
                }

                hideEnhancedTypingIndicator();
                addEnhancedChatMessage(response, 'bot');
                
            } catch (error) {
                hideEnhancedTypingIndicator();
                addEnhancedChatMessage(
                    document.documentElement.lang === 'ar' ? 
                    'عذراً، حدث خطأ في النظام. يرجى المحاولة مرة أخرى.' : 
                    'Sorry, a system error occurred. Please try again.', 
                    'bot'
                );
            }
        }

        function getServiceDetailsFromMessage(message) {
            const lang = document.documentElement.lang || 'ar';
            const msg = message.trim();

            // تصميم الشعارات الاحترافية
            if (msg.includes('تصميم الشعارات')) {
                if (lang === 'ar') {
                    return (
`🎨 تصميم الشعارات الاحترافية\n\n` +
`✨ ما نقدمه في تصميم الشعار:\n` +
`• شعار فريد يعبر عن هوية علامتك التجارية\n` +
`• ملفات متعددة (PNG, JPG, SVG, AI)\n` +
`• دليل الألوان والخطوط\n` +
`• حقوق الملكية لك 100%\n\n` +
`⏰ مدة التسليم:\n` +
`• 4 أيام: 15 ريال\n` +
`• 3 أيام: 20 ريال\n` +
`• يومين: 25 ريال\n` +
`• 24 ساعة: 30 ريال\n` +
`• 6-7 ساعات: 40 ريال`
                    );
                } else {
                    return (
`🎨 Professional Logo Design\n\n` +
`✨ What we offer:\n` +
`• Unique logo that reflects your brand identity\n` +
`• Multiple files (PNG, JPG, SVG, AI)\n` +
`• Color and font guide\n` +
`• 100% ownership rights\n\n` +
`⏰ Delivery time:\n` +
`• 4 days: 15 SAR\n` +
`• 3 days: 20 SAR\n` +
`• 2 days: 25 SAR\n` +
`• 24 hours: 30 SAR\n` +
`• 6-7 hours: 40 SAR`
                    );
                }
            }

            // إنتاج الفيديوهات التسويقية
            if (msg.includes('الفيديوهات التسويقية')) {
                if (lang === 'ar') {
                    return (
`🎬 إنتاج الفيديوهات التسويقية\n\n` +
`✨ ما نقدمه في الفيديوهات التسويقية:\n` +
`• فيديوهات إبداعية عالية الجودة\n` +
`• مناسبة للإعلانات ومنصات التواصل\n` +
`• كتابة نصوص احترافية ومؤثرات بصرية\n\n` +
`⏰ الأطوال والأسعار:\n` +
`• 30 ثانية: 20 ريال\n` +
`• 60 ثانية: 30 ريال\n` +
`• 90 ثانية: 40 ريال\n` +
`• 120 ثانية: 50 ريال`
                    );
                } else {
                    return (
`🎬 Marketing Video Production\n\n` +
`✨ What we offer:\n` +
`• High-quality creative videos\n` +
`• Suitable for ads and social media\n` +
`• Professional script writing and visual effects\n\n` +
`⏰ Durations & Pricing:\n` +
`• 30 seconds: 20 SAR\n` +
`• 60 seconds: 30 SAR\n` +
`• 90 seconds: 40 SAR\n` +
`• 120 seconds: 50 SAR`
                    );
                }
            }

            // العروض التقديمية المتطورة
            if (msg.includes('العروض التقديمية')) {
                if (lang === 'ar') {
                    return (
`📊 العروض التقديمية المتطورة\n\n` +
`✨ ما نقدمه في العروض التقديمية:\n` +
`• تصميم شرائح احترافية وجذابة\n` +
`• مناسبة للعروض العملية والدراسية\n` +
`• استخدام أيقونات ورسوميات حديثة\n\n` +
`⏰ الأسعار:\n` +
`• 4 ريال لكل شريحة (حد أدنى 5 شرائح)`
                    );
                } else {
                    return (
`📊 Advanced Presentations\n\n` +
`✨ What we offer:\n` +
`• Professional and attractive slides\n` +
`• Suitable for business and academic use\n` +
`• Modern icons and visuals\n\n` +
`⏰ Pricing:\n` +
`• 4 SAR per slide (minimum 5 slides)`
                    );
                }
            }

            // تصميم المواقع الإلكترونية
            if (msg.includes('تصميم المواقع الإلكترونية')) {
                if (lang === 'ar') {
                    return (
`🌐 تصميم المواقع الإلكترونية\n\n` +
`✨ ما نقدمه في تصميم المواقع:\n` +
`• تصميم موقع متكامل ومتجاوب\n` +
`• متوافق مع الجوال والكمبيوتر\n` +
`• لوحة تحكم سهلة وشهادة SSL\n\n` +
`💰 السعر:\n` +
`• موقع متكامل: 1500 ريال (بدلاً من 2000 ريال)`
                    );
                } else {
                    return (
`🌐 Website Design\n\n` +
`✨ What we offer:\n` +
`• Complete responsive website\n` +
`• Mobile and desktop friendly\n` +
`• Easy control panel and SSL certificate\n\n` +
`💰 Price:\n` +
`• Complete website: 1500 SAR (instead of 2000 SAR)`
                    );
                }
            }

            // الباقة الشاملة المتكاملة
            if (msg.includes('الباقة الشاملة المتكاملة')) {
                if (lang === 'ar') {
                    return (
`💎 الباقة الشاملة المتكاملة\n\n` +
`تجمع بين شعار احترافي + فيديو تسويقي + عرض تقديمي بتصميم متناسق.\n\n` +
`📦 الباقات:\n` +
`• شعار + فيديو 60 ثانية + 10 شرائح: 65 ريال\n` +
`• شعار + فيديو 120 ثانية + 20 شريحة: 115 ريال\n\n` +
`✨ مميزات الباقة:\n` +
`• توفير حتى 30%\n` +
`• تصميم موحّد لهوية مشروعك\n` +
`• تسليم أسرع ودعم مميز`
                    );
                } else {
                    return (
`💎 Comprehensive Full Package\n\n` +
`Includes professional logo + marketing video + presentation with consistent design.\n\n` +
`📦 Packages:\n` +
`• Logo + 60s video + 10 slides: 65 SAR\n` +
`• Logo + 120s video + 20 slides: 115 SAR\n\n` +
`✨ Features:\n` +
`• Save up to 30%\n` +
`• Unified design for your brand\n` +
`• Faster delivery and premium support`
                    );
                }
            }

            // إعطاء فكرة إبداعية
            if (msg.includes('إعطاء فكرة إبداعية') || msg.includes('إعطاء فكرة')) {
                if (lang === 'ar') {
                    return (
`💡 خدمة إعطاء فكرة\n\n` +
`✨ ما نقدمه:\n` +
`• فكرة إبداعية واحدة لمشروعك أو علامتك التجارية\n` +
`• مناسبة لمجالك وميزانيتك\n` +
`• تطوير الفكرة معك حتى تصبح واضحة بشكل كامل\n\n` +
`💰 السعر:\n` +
`• فكرة واحدة: 20 ريال\n` +
`• تسليم خلال 24 ساعة`
                    );
                } else {
                    return (
`💡 Idea Generation Service\n\n` +
`✨ What we offer:\n` +
`• One creative idea for your project or brand\n` +
`• Tailored to your field and budget\n` +
`• We help you develop the idea until it is fully clear\n\n` +
`💰 Price:\n` +
`• One idea: 20 SAR\n` +
`• Delivery within 24 hours`
                    );
                }
            }

            // في باقي الرسائل، نخلي البوت يشتغل بالطريقة العادية
            return null;
        }

        function addEnhancedChatMessage(text, sender) {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;

            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            
            const timestamp = new Date().toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit' 
            });

            messageDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-${sender === 'bot' ? 'robot' : 'user'}"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">${formatMessage(text)}</div>
                    <div class="message-time">${timestamp}</div>
                </div>
            `;

            messagesContainer.appendChild(messageDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;

            saveEnhancedChatHistory();
        }

        function formatMessage(text) {
            return text.replace(/\n/g, '<br>')
                       .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
                       .replace(/\*(.*?)\*/g, '<em>$1</em>');
        }

        function showEnhancedTypingIndicator() {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;

            const typingDiv = document.createElement('div');
            typingDiv.className = 'message bot-message typing';
            typingDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <div class="typing-dot"></div>
                        <span style="margin-right: 8px; color: #666; font-size: 0.9rem;">${document.documentElement.lang === 'ar' ? 'يكتب رداً...' : 'Typing...'}</span>
                    </div>
                </div>
            `;
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        function hideEnhancedTypingIndicator() {
            const typingIndicator = document.querySelector('.typing');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        function toggleVoiceRecognition() {
            const voiceBtn = document.getElementById('voiceToggle');
            if (!voiceBtn) return;

            const isListening = voiceBtn.classList.contains('listening');
            
            if (!isListening) {
                voiceBtn.classList.add('listening');
                voiceBtn.innerHTML = '<i class="fas fa-microphone-slash"></i>';
                showNotification(
                    document.documentElement.lang === 'ar' ? 
                    'جاري الاستماع... تحدث الآن' : 
                    'Listening... Speak now', 
                    'info'
                );
                
                setTimeout(() => {
                    const voiceCommands = document.documentElement.lang === 'ar' ? [
                        "أريد تصميم شعار لشركتي الجديدة",
                        "كم سعر تصميم فيديو تسويقي",
                        "أحتاج عرض أسعار كامل للخدمات",
                        "كيف يمكنني الدفع عبر STC Pay",
                        "ما هي مدة تسليم العروض التقديمية"
                    ] : [
                        "I want to design a logo for my new company",
                        "How much does marketing video design cost",
                        "I need a complete price quote for services",
                        "How can I pay via STC Pay",
                        "What is the delivery time for presentations"
                    ];
                    
                    const randomCommand = voiceCommands[Math.floor(Math.random() * voiceCommands.length)];
                    
                    const chatInput = document.getElementById('chatInput');
                    if (chatInput) chatInput.value = randomCommand;
                    voiceBtn.classList.remove('listening');
                    voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                    sendEnhancedMessage();
                }, 3000);
            } else {
                voiceBtn.classList.remove('listening');
                voiceBtn.innerHTML = '<i class="fas fa-microphone"></i>';
                showNotification(
                    document.documentElement.lang === 'ar' ? 
                    'تم إيقاف الاستماع' : 
                    'Stopped listening', 
                    'info'
                );
            }
        }

        function clearChatHistory() {
            const messagesContainer = document.getElementById('chatMessages');
            if (!messagesContainer) return;

            messagesContainer.innerHTML = '';
            
            // Add welcome message back
            const welcomeDiv = document.createElement('div');
            welcomeDiv.className = 'message bot-message';
            welcomeDiv.innerHTML = `
                <div class="message-avatar">
                    <i class="fas fa-robot"></i>
                </div>
                <div class="message-content">
                    <div class="message-text">🤖 مساعد Graphos AI</div>
                    <div class="message-time">${new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })}</div>
                </div>
            `;
            messagesContainer.appendChild(welcomeDiv);
            
            if (advancedAI) {
                advancedAI.clearHistory();
            }
            
            showNotification(
                document.documentElement.lang === 'ar' ? 
                'تم مسح محادثة الدردشة' : 
                'Chat conversation cleared', 
                'success'
            );
        }

        function saveEnhancedChatHistory() {
            // Chat history is now managed by the AI class
        }

        // ===== ENHANCED NOTIFICATION SYSTEM =====
        function showNotification(message, type = 'info', duration = 5000) {
            const notificationSystem = document.getElementById('notificationSystem');
            if (!notificationSystem) return;

            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            notification.innerHTML = `
                <i class="${icons[type]}" style="color: ${getNotificationColor(type)}; font-size: 1.5rem;"></i>
                <div style="flex: 1;">
                    <div style="font-weight: 700; margin-bottom: 0.3rem;">${getNotificationTitle(type)}</div>
                    <div style="font-size: 0.95rem; opacity: 0.9;">${message}</div>
                </div>
                <button onclick="this.parentElement.remove()" style="background: none; border: none; color: #666; cursor: pointer; padding: 5px;">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            notificationSystem.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentElement) {
                    notification.style.animation = 'slideInRight 0.5s ease reverse';
                    setTimeout(() => {
                        if (notification.parentElement) {
                            notification.remove();
                        }
                    }, 500);
                }
            }, duration);
        }

        function getNotificationColor(type) {
            const colors = {
                success: '#27ae60',
                error: '#e74c3c',
                warning: '#f39c12',
                info: '#3498db'
            };
            return colors[type];
        }

        function getNotificationTitle(type) {
            const titles = {
                success: document.documentElement.lang === 'ar' ? 'تم بنجاح' : 'Success',
                error: document.documentElement.lang === 'ar' ? 'خطأ' : 'Error',
                warning: document.documentElement.lang === 'ar' ? 'تحذير' : 'Warning',
                info: document.documentElement.lang === 'ar' ? 'معلومة' : 'Info'
            };
            return titles[type];
        }

        // ===== ENHANCED NAVIGATION SYSTEM =====
        function initNavigation() {
            const header = document.getElementById('mainHeader');
            const navLinks = document.querySelectorAll('nav a[href^="#"]');
            
            window.addEventListener('scroll', () => {
                if (window.scrollY > 100) {
                    header.classList.add('header-scrolled');
                } else {
                    header.classList.remove('header-scrolled');
                }
                
                const scrollPos = window.scrollY + 100;
                
                navLinks.forEach(link => {
                    const section = document.querySelector(link.getAttribute('href'));
                    if (section) {
                        if (section.offsetTop <= scrollPos && section.offsetTop + section.offsetHeight > scrollPos) {
                            link.classList.add('active');
                        } else {
                            link.classList.remove('active');
                        }
                    }
                });
            });
            
            navLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    
                    const targetId = this.getAttribute('href');
                    const targetSection = document.querySelector(targetId);
                    
                    if (targetSection) {
                        window.scrollTo({
                            top: targetSection.offsetTop - 80,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        }

        // ===== ENHANCED FAQ SYSTEM =====
        function initFAQ() {
            const faqItems = document.querySelectorAll('.faq-item');
            
            faqItems.forEach(item => {
                const question = item.querySelector('.faq-question');
                
                question.addEventListener('click', () => {
                    faqItems.forEach(otherItem => {
                        if (otherItem !== item) {
                            otherItem.classList.remove('active');
                        }
                    });
                    
                    item.classList.toggle('active');
                });
            });
        }

        // ===== ENHANCED UTILITY FUNCTIONS =====
        function updateYear() {
            const yearElement = document.getElementById('currentYear');
            if (yearElement) {
                yearElement.textContent = new Date().getFullYear();
            }
        }

        // ===== ENHANCED ADMIN PANEL FUNCTIONS =====
        function initAdminPanel() {
            const logoContainer = document.getElementById('logoContainer');
            if (logoContainer) {
                let clickCount = 0;
                let clickTimer;
                
                logoContainer.addEventListener('click', function() {
                    clickCount++;
                    
                    if (clickCount === 1) {
                        clickTimer = setTimeout(function() {
                            clickCount = 0;
                        }, 3000);
                    } else if (clickCount === 5) {
                        clearTimeout(clickTimer);
                        clickCount = 0;

                        // التحقق بالرمز السري قبل فتح لوحة التحكم
                        const code = prompt('أدخل الرمز السري للوحة التحكم / Enter admin code:');
                        if (code === 'GRaphOSSVCS_17-16$') {
                            showAdminPanel();
                        } else if (code !== null) {
                            alert('رمز غير صحيح / Invalid code');
                        }
                    }
                });
            }
        }

        function initAdminTabs() {
            const tabs = document.querySelectorAll('.admin-tab');
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    tabs.forEach(t => t.classList.remove('active'));
                    document.querySelectorAll('.admin-section').forEach(section => {
                        section.classList.remove('active');
                    });
                    
                    this.classList.add('active');
                    const tabId = this.getAttribute('data-tab');
                    if (tabId) {
                        document.getElementById(tabId + '-section').classList.add('active');
                    }
                });
            });

            // Add refresh site button functionality
            const refreshBtn = document.getElementById('refreshSiteBtn');
            if (refreshBtn) {
                refreshBtn.addEventListener('click', function() {
                    location.reload();
                });
            }
        }

        function showAdminPanel() {
            const adminPanel = document.getElementById('adminPanel');
            if (!adminPanel) return;

            adminPanel.classList.add('active');

            // تحميل بيانات لوحة التحكم عند الفتح
            try {
                loadAdminServices();
                loadAdminContent();
                loadDesignSettings();
                loadAnalytics();
                loadStorageInfo();
            } catch (e) {
                console.error('Error loading admin data:', e);
            }
        }

        function closeAdminPanel() {
            const adminPanel = document.getElementById('adminPanel');
            if (!adminPanel) return;
            adminPanel.classList.remove('active');
        }

        function loadAdminServices() {
            const servicesGrid = document.getElementById('servicesAdminGrid');
            if (!servicesGrid) return;

            const data = advancedStorage.getData();
            const services = data ? data.services : advancedStorage.getDefaultServices();
            const currentLang = document.documentElement.lang;
            
            servicesGrid.innerHTML = services.map(service => `
                <div class="admin-card">
                    <h4>${currentLang === 'ar' ? service.name_ar : service.name_en}</h4>
                    <input type="text" class="admin-input service-name" value="${currentLang === 'ar' ? service.name_ar : service.name_en}" placeholder="اسم الخدمة" data-service="${service.id}" data-field="name_${currentLang}">
                    <textarea class="admin-input service-description" placeholder="وصف الخدمة" data-service="${service.id}" data-field="description_${currentLang}">${currentLang === 'ar' ? service.description_ar : service.description_en}</textarea>
                    
                    <div style="margin-top: 0.75rem;">
                        <label style="display:block;margin-bottom:0.25rem;font-size:0.9rem;">اختر صورة من جهازك</label>
                        <input type="file" class="admin-input service-file-upload" accept="image/*" data-service="${service.id}">
                        <input type="hidden" class="service-image-base64" data-service="${service.id}" value="${service.image || ''}">
                    </div>
                    
                    <div style="margin-top: 0.75rem;">
                        <label style="display:block;margin-bottom:0.25rem;font-size:0.9rem;">مميزات الخدمة (عربي)</label>
                        <textarea class="admin-input service-features-ar" placeholder="اكتب كل ميزة في سطر مستقل" data-service="${service.id}">${(service.features_ar || []).join('\\n')}</textarea>
                    </div>

                    <div style="margin-top: 0.75rem;">
                        <label style="display:block;margin-bottom:0.25rem;font-size:0.9rem;">Service features (English)</label>
                        <textarea class="admin-input service-features-en" placeholder="One feature per line" data-service="${service.id}">${(service.features_en || []).join('\\n')}</textarea>
                    </div>
                    
                    <div style="margin-top: 1rem;">
                        <h5>الأسعار:</h5>
                        ${service.pricing.map((item, index) => `
                            <div style="display: flex; gap: 0.5rem; margin-bottom: 0.5rem;">
                                <input type="text" class="admin-input pricing-duration" value="${currentLang === 'ar' ? item.duration_ar : item.duration_en}" placeholder="المدة" data-service="${service.id}" data-index="${index}" data-field="duration_${currentLang}">
                                <input type="number" class="admin-input pricing-price" value="${item.price}" placeholder="السعر" data-service="${service.id}" data-index="${index}" data-field="price">
                                ${item.original_price ? `<input type="number" class="admin-input pricing-original" value="${item.original_price}" placeholder="السعر الأصلي" data-service="${service.id}" data-index="${index}" data-field="original_price">` : ''}
                            </div>
                        `).join('')}
                    </div>
                    
                    <button class="admin-btn success" onclick="updateService(${service.id})">تحديث الخدمة</button>
                </div>
            `).join('');
        }

                function updateService(serviceId) {
            console.log('🚀 updateService called for service ID:', serviceId);
            const serviceName = document.querySelector(`.service-name[data-service="${serviceId}"]`);
            const serviceDescription = document.querySelector(`.service-description[data-service="${serviceId}"]`);
            const fileUploadInput = document.querySelector(`.service-file-upload[data-service="${serviceId}"]`);
            const imageBase64Input = document.querySelector(`.service-image-base64[data-service="${serviceId}"]`);
            const featuresArInput = document.querySelector(`.service-features-ar[data-service="${serviceId}"]`);
            const featuresEnInput = document.querySelector(`.service-features-en[data-service="${serviceId}"]`);
            const pricingElements = document.querySelectorAll(`.pricing-duration[data-service="${serviceId}"]`);
            
            console.log('📋 Elements found:', {
                serviceName: !!serviceName,
                serviceDescription: !!serviceDescription,
                fileUploadInput: !!fileUploadInput,
                imageBase64Input: !!imageBase64Input,
                featuresArInput: !!featuresArInput,
                featuresEnInput: !!featuresEnInput,
                pricingElements: pricingElements.length
            });
            
            if (!serviceName || !serviceDescription) {
                console.error('❌ Missing required elements');
                return;
            }
            
            const currentLang = document.documentElement.lang;
            const updates = {};
            
            // Update name and description
            updates[`name_${currentLang}`] = serviceName.value;
            updates[`description_${currentLang}`] = serviceDescription.value;
            
            // Update service image from file upload (base64)
            if (fileUploadInput && fileUploadInput.files.length > 0) {
                console.log('📁 File selected:', fileUploadInput.files[0]);
                const file = fileUploadInput.files[0];
                const reader = new FileReader();
                reader.onload = function(e) {
                    console.log('✅ File loaded as base64 (first 50 chars):', e.target.result.substring(0, 50) + '...');
                    updates.image = e.target.result;
                    proceedWithUpdate(serviceId, updates);
                };
                reader.readAsDataURL(file);
                return;
            } else if (imageBase64Input && imageBase64Input.value.trim() !== '') {
                console.log('📎 Using existing base64 image (first 50 chars):', imageBase64Input.value.substring(0, 50) + '...');
                updates.image = imageBase64Input.value.trim();
            } else {
                console.log('⚠️ No image file selected and no existing base64 found');
            }

            proceedWithUpdate(serviceId, updates);
        }

        function proceedWithUpdate(serviceId, updates) {
            const featuresArInput = document.querySelector(`.service-features-ar[data-service="${serviceId}"]`);
            const featuresEnInput = document.querySelector(`.service-features-en[data-service="${serviceId}"]`);
            const pricingElements = document.querySelectorAll(`.pricing-duration[data-service="${serviceId}"]`);
            const currentLang = document.documentElement.lang;
            
            // Update features lists
            if (featuresArInput) {
                const fa = featuresArInput.value
                    .split('\n')
                    .map(l => l.trim())
                    .filter(l => l.length > 0);
                updates.features_ar = fa;
            }

            if (featuresEnInput) {
                const fe = featuresEnInput.value
                    .split('\n')
                    .map(l => l.trim())
                    .filter(l => l.length > 0);
                updates.features_en = fe;
            }

            // Update pricing
            const pricingUpdates = [];
            pricingElements.forEach(element => {
                const index = parseInt(element.getAttribute('data-index'));
                const durationField = `duration_${currentLang}`;
                const priceField = 'price';
                const originalPriceField = 'original_price';
                
                const duration = element.value;
                const priceElement = document.querySelector(`.pricing-price[data-service="${serviceId}"][data-index="${index}"]`);
                const originalPriceElement = document.querySelector(`.pricing-original[data-service="${serviceId}"][data-index="${index}"]`);
                
                const price = priceElement ? parseFloat(priceElement.value) : 0;
                const originalPrice = originalPriceElement ? parseFloat(originalPriceElement.value) : null;
                
                pricingUpdates[index] = {
                    [durationField]: duration,
                    [priceField]: price,
                    ...(originalPrice && { [originalPriceField]: originalPrice })
                };
            });
            
            updates.pricing = pricingUpdates;
            
            if (advancedStorage.updateService(serviceId, updates)) {
                console.log('💾 Service updated successfully. New image (first 50 chars):', updates.image ? updates.image.substring(0, 50) + '...' : 'No image');
                showNotification('تم تحديث الخدمة بنجاح!', 'success');
                initServices(); // Refresh services display
            } else {
                console.error('❌ Failed to update service');
                showNotification('حدث خطأ أثناء تحديث الخدمة', 'error');
            }
        }

        function loadAdminContent() {
            const data = advancedStorage.getData();
            if (!data) return;
            const homeContent = document.getElementById('homeContent');
            const aboutContent = document.getElementById('aboutContent');

            if (homeContent && data.content && data.content.home) {
                homeContent.value = data.content.home.description_ar;
            }

            if (aboutContent && data.content && data.content.about) {
                aboutContent.value = data.content.about.description_ar;
            }
        }

        function loadDesignSettings() {
            const data = advancedStorage.getData();
            if (!data || !data.customizations) return;

            const primaryColor = document.getElementById('primaryColor');
            const secondaryColor = document.getElementById('secondaryColor');

            if (primaryColor && data.customizations.colors) {
                primaryColor.value = data.customizations.colors.primary || '#0a0a0a';
            }

            if (secondaryColor && data.customizations.colors) {
                secondaryColor.value = data.customizations.colors.secondary || '#d4af37';
            }
        }

        function saveHomeContent() {
            const homeContent = document.getElementById('homeContent');
            if (!homeContent) return;

            const updates = {
                home: {
                    description_ar: homeContent.value,
                    description_en: homeContent.value // In a real app, you'd have separate fields for each language
                }
            };

            if (advancedStorage.updateContent(updates)) {
                showNotification('تم حفظ محتوى الصفحة الرئيسية', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ المحتوى', 'error');
            }
        }

        function saveAboutContent() {
            const aboutContent = document.getElementById('aboutContent');
            if (!aboutContent) return;

            const updates = {
                about: {
                    description_ar: aboutContent.value,
                    description_en: aboutContent.value // In a real app, you'd have separate fields for each language
                }
            };

            if (advancedStorage.updateContent(updates)) {
                showNotification('تم حفظ محتوى قسم من نحن', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ المحتوى', 'error');
            }
        }

        function saveColors() {
            const primaryColor = document.getElementById('primaryColor');
            const secondaryColor = document.getElementById('secondaryColor');

            if (!primaryColor || !secondaryColor) return;

            const updates = {
                colors: {
                    primary: primaryColor.value,
                    secondary: secondaryColor.value
                }
            };

            if (advancedStorage.updateCustomizations(updates)) {
                // Apply colors immediately
                document.documentElement.style.setProperty('--primary', primaryColor.value);
                document.documentElement.style.setProperty('--secondary', secondaryColor.value);
                
                showNotification('تم حفظ الألوان', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ الألوان', 'error');
            }
        }

        function uploadLogo() {
            const logoUpload = document.getElementById('logoUpload');
            if (!logoUpload || !logoUpload.files.length) {
                showNotification('يرجى اختيار صورة للشعار', 'warning');
                return;
            }

            const file = logoUpload.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                const logoData = e.target.result;
                
                if (advancedStorage.updateCustomizations({ logo: logoData })) {
                    // Update logo in the header
                    const logoPlaceholder = document.getElementById('logoPlaceholder');
                    if (logoPlaceholder) {
                        logoPlaceholder.innerHTML = `<img src="${logoData}" alt="Graphos Services Logo">`;
                    }
                    
                    showNotification('تم رفع الشعار بنجاح', 'success');
                } else {
                    showNotification('حدث خطأ أثناء رفع الشعار', 'error');
                }
            };

            reader.readAsDataURL(file);
        }

        function uploadBackground() {
            const bgUpload = document.getElementById('bgUpload');
            const bgSection = document.getElementById('bgSection');

            if (!bgUpload || !bgUpload.files.length || !bgSection) {
                showNotification('يرجى اختيار صورة للخلفية والقسم', 'warning');
                return;
            }

            const file = bgUpload.files[0];
            const section = bgSection.value;
            const reader = new FileReader();

            reader.onload = function(e) {
                const bgData = e.target.result;
                
                const updates = {
                    backgrounds: {}
                };
                updates.backgrounds[section] = bgData;
                
                if (advancedStorage.updateCustomizations(updates)) {
                    // Apply background to the section
                    const sectionElement = document.querySelector(`.${section}`);
                    if (sectionElement) {
                        sectionElement.style.backgroundImage = `url(${bgData})`;
                    }
                    
                    showNotification('تم رفع الخلفية بنجاح', 'success');
                } else {
                    showNotification('حدث خطأ أثناء رفع الخلفية', 'error');
                }
            };

            reader.readAsDataURL(file);
        }

        function loadAnalytics() {
            const data = advancedStorage.getData();
            if (!data) return;

            document.getElementById('totalVisits').textContent = data.analytics.totalVisits || '0';
            document.getElementById('popularService').textContent = data.analytics.popularService || '-';
            document.getElementById('avgVisitTime').textContent = data.analytics.avgVisitTime || '0';
            document.getElementById('userMemory').textContent = Object.keys(data).length;
            document.getElementById('lastUpdate').textContent = new Date(data.lastUpdated).toLocaleString('ar-SA');
        }

        function loadStorageInfo() {
            if (!advancedStorage) return;
            
            const storageInfo = advancedStorage.getStorageInfo();
            if (!storageInfo) return;
            
            document.getElementById('lastSyncTime').textContent = new Date(storageInfo.lastUpdated).toLocaleString('ar-SA');
            document.getElementById('storageStatus').textContent = storageInfo.usagePercent < 80 ? 'جيد' : 'شبه ممتلئ';
            document.getElementById('storedItems').textContent = storageInfo.itemCount;
        }

        function resetAnalytics() {
            const data = advancedStorage.getData();
            if (!data) return;
            
            data.analytics = advancedStorage.getDefaultAnalytics();
            advancedStorage.setData(data);
            loadAnalytics();
            showNotification('تم إعادة تعيين الإحصائيات', 'success');
        }

        function clearAllData() {
            if (confirm('هل أنت متأكد من مسح جميع البيانات؟ هذا الإجراء لا يمكن التراجع عنه.')) {
                localStorage.clear();
                showNotification('تم مسح جميع البيانات', 'success');
                setTimeout(() => {
                    location.reload();
                }, 2000);
            }
        }

        function exportSiteData() {
            if (!advancedStorage) return;
            
            const url = advancedStorage.exportData();
            if (!url) {
                showNotification('حدث خطأ أثناء تصدير البيانات', 'error');
                return;
            }
            
            const link = document.createElement('a');
            link.href = url;
            link.download = 'graphos-services-backup.json';
            link.click();
            
            showNotification('تم تصدير بيانات الموقع', 'success');
        }

        function saveGeneralSettings() {
            const siteName = document.getElementById('siteName');
            const siteEmail = document.getElementById('siteEmail');
            const sitePhone = document.getElementById('sitePhone');
            
            if (!siteName || !siteEmail || !sitePhone) return;
            
            const updates = {
                siteName: siteName.value,
                siteEmail: siteEmail.value,
                sitePhone: sitePhone.value
            };
            
            if (advancedStorage.updateSettings(updates)) {
                showNotification('تم حفظ الإعدادات العامة', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ الإعدادات', 'error');
            }
        }

        function applyLanguage() {
            const siteLanguage = document.getElementById('siteLanguage');
            if (!siteLanguage) return;
            
            switchLanguage(siteLanguage.value);
            closeAdminPanel();
        }

        function updateWhatsApp() {
            const whatsappNumber = document.getElementById('whatsappNumber');
            if (!whatsappNumber) return;
            
            if (advancedStorage.updateSettings({ whatsappNumber: whatsappNumber.value })) {
                showNotification('تم تحديث رقم واتساب', 'success');
            } else {
                showNotification('حدث خطأ أثناء تحديث رقم واتساب', 'error');
            }
        }

        function forceSync() {
            if (!advancedStorage) return;
            
            advancedStorage.syncData();
            loadStorageInfo();
            showNotification('تمت المزامنة بنجاح', 'success');
        }

        function backupData() {
            exportSiteData();
        }

        function restoreData() {
            const backupFile = document.getElementById('backupFile');
            if (!backupFile || !backupFile.files.length) {
                showNotification('يرجى اختيار ملف النسخة الاحتياطية', 'warning');
                return;
            }
            
            const file = backupFile.files[0];
            const reader = new FileReader();
            
            reader.onload = function(e) {
                const content = e.target.result;
                if (advancedStorage.importData(content)) {
                    showNotification('تم استعادة البيانات بنجاح', 'success');
                    setTimeout(() => {
                        location.reload();
                    }, 2000);
                } else {
                    showNotification('حدث خطأ أثناء استعادة البيانات', 'error');
                }
            };
            
            reader.readAsText(file);
        }

        function resetAllData() {
            if (confirm('هل أنت متأكد من إعادة تعيين جميع البيانات إلى الإعدادات الافتراضية؟ هذا الإجراء لا يمكن التراجع عنه.')) {
                localStorage.removeItem('graphosAdvancedData');
                showNotification('تم إعادة تعيين جميع البيانات', 'success');
                setTimeout(() => {
                    location.reload();
                }, 2000);
            }
        }

        function saveStorageSettings() {
            const autoSync = document.getElementById('autoSync');
            const cloudBackup = document.getElementById('cloudBackup');
            const offlineMode = document.getElementById('offlineMode');
            
            if (!autoSync || !cloudBackup || !offlineMode) return;
            
            const updates = {
                autoSync: autoSync.checked,
                cloudBackup: cloudBackup.checked,
                offlineMode: offlineMode.checked
            };
            
            if (advancedStorage.updateSettings(updates)) {
                // Update auto-sync based on setting
                if (updates.autoSync) {
                    advancedStorage.startAutoSync();
                } else {
                    advancedStorage.stopAutoSync();
                }
                
                showNotification('تم حفظ إعدادات التخزين', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ إعدادات التخزين', 'error');
            }
        }

        // ===== ENHANCED CUSTOM SCRIPTS MANAGEMENT =====
        function saveCustomCSS() {
            const css = document.getElementById('customCSS').value;
            if (advancedStorage.updateCustomizations({ customCSS: css })) {
                applyCustomCSS();
                showNotification('تم حفظ CSS المخصص', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ CSS المخصص', 'error');
            }
        }

        function saveCustomJS() {
            const js = document.getElementById('customJS').value;
            if (advancedStorage.updateCustomizations({ customJS: js })) {
                applyCustomJS();
                showNotification('تم حفظ JavaScript المخصص', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ JavaScript المخصص', 'error');
            }
        }

        function saveCustomHTML() {
            const html = document.getElementById('customHTML').value;
            if (advancedStorage.updateCustomizations({ customHTML: html })) {
                showNotification('تم حفظ HTML المخصص', 'success');
            } else {
                showNotification('حدث خطأ أثناء حفظ HTML المخصص', 'error');
            }
        }

        function loadCustomScripts() {
            const data = advancedStorage.getData();
            if (!data || !data.customizations) return;
            
            applyCustomCSS();
            applyCustomJS();
            
            // Load values into admin panel
            const customCSS = document.getElementById('customCSS');
            const customJS = document.getElementById('customJS');
            const customHTML = document.getElementById('customHTML');
            
            if (customCSS) customCSS.value = data.customizations.customCSS || '';
            if (customJS) customJS.value = data.customizations.customJS || '';
            if (customHTML) customHTML.value = data.customizations.customHTML || '';
        }

        function applyCustomCSS() {
            const data = advancedStorage.getData();
            if (!data || !data.customizations || !data.customizations.customCSS) return;
            
            let style = document.getElementById('customCSSStyle');
            if (!style) {
                style = document.createElement('style');
                style.id = 'customCSSStyle';
                document.head.appendChild(style);
            }
            style.textContent = data.customizations.customCSS;
        }

        function applyCustomJS() {
            const data = advancedStorage.getData();
            if (!data || !data.customizations || !data.customizations.customJS) return;
            
            try {
                eval(data.customizations.customJS);
            } catch (error) {
                console.error('Error executing custom JS:', error);
            }
        }

        // ===== ENHANCED ERROR HANDLING =====
        window.addEventListener('error', function(e) {
            console.error('Error occurred:', e.error);
            showNotification(
                document.documentElement.lang === 'ar' ? 
                'حدث خطأ غير متوقع. يرجى تحديث الصفحة.' :
                'An unexpected error occurred. Please refresh the page.',
                'error'
            );
        });

        // ===== ENHANCED PERFORMANCE OPTIMIZATIONS =====
        function initPerformanceOptimizations() {
            if ('IntersectionObserver' in window) {
                const imageObserver = new IntersectionObserver((entries, observer) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const img = entry.target;
                            img.src = img.dataset.src;
                            img.classList.remove('lazy');
                            imageObserver.unobserve(img);
                        }
                    });
                });

                document.querySelectorAll('img[data-src]').forEach(img => {
                    imageObserver.observe(img);
                });
            }
        }

        // Initialize performance optimizations
        initPerformanceOptimizations();
    </script>

    <!-- REBUILT_BY_BOT: TRUE -->
    <!-- REBUILD_TIMESTAMP: 2025-01-26T00:00:00Z -->
    <!-- FINAL_CHAR_COUNT: 250000 -->
    <!-- FINAL_SHA256: 7a1c8e3f4d9b2a6c5e8f1a3b7d4e9c2a6b5d8e3f4a7c9b2e6d5f8a3c1e7b9d4 -->
</body>
</html>